{"version":3,"file":"index.modern.js","sources":["../src/js/Alert.js","../src/js/Helpers/JsonApiDeserialize.js","../src/js/Helpers/Api.js","../src/js/FormContext.js","../src/js/Error.js","../src/js/Helpers/Options.js","../src/js/Input/Autocomplete.js","../src/js/Input/Checkbox.js","../src/js/Input/CheckboxList.js","../src/js/Input/File.js","../src/js/ConditionalWrapper.js","../src/js/Input.js","../src/js/Input/Password.js","../src/js/Input/Radio.js","../src/js/Input/Search.js","../src/js/Input/Select.js","../src/js/Input/Textarea.js","../src/js/FieldInput.js","../src/js/ExportableInput.js","../src/js/Label.js","../src/js/Field.js","../src/js/FormosaContext.js","../src/js/Helpers/JsonApi.js","../src/js/FormInner.js","../src/js/Form.js","../src/js/FormAlert.js","../src/js/Spinner.js","../src/js/Toast.js","../src/js/ToastContainer.js","../src/js/FormContainer.js","../src/js/Submit.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default function Alert({ className, children, type, ...otherProps }) {\n\tif (!children) {\n\t\treturn null;\n\t}\n\n\tlet alertClass = 'formosa-alert';\n\tif (type) {\n\t\talertClass += ` formosa-alert--${type}`;\n\t}\n\tif (className) {\n\t\talertClass += ` ${className}`;\n\t}\n\n\treturn (\n\t\t<div aria-live=\"polite\" className={alertClass} role=\"alert\" {...otherProps}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nAlert.propTypes = {\n\tclassName: PropTypes.string,\n\tchildren: PropTypes.node.isRequired,\n\ttype: PropTypes.string,\n};\n\nAlert.defaultProps = {\n\tclassName: '',\n\ttype: null,\n};\n","const findIncluded = (included, id, type, mainRecord) => {\n\tif (mainRecord && id === mainRecord.id && type === mainRecord.type) {\n\t\tconst output = {\n\t\t\tid: mainRecord.id,\n\t\t\ttype: mainRecord.type,\n\t\t};\n\t\tif (Object.prototype.hasOwnProperty.call(mainRecord, 'attributes')) {\n\t\t\toutput.attributes = mainRecord.attributes;\n\t\t}\n\t\tif (Object.prototype.hasOwnProperty.call(mainRecord, 'meta')) {\n\t\t\toutput.meta = mainRecord.meta;\n\t\t}\n\t\treturn output;\n\t}\n\treturn included.find((data) => (data.id === id && data.type === type));\n};\n\nconst deserializeSingle = (data, otherRows = [], included = [], mainRecord = null) => {\n\tif (!data) {\n\t\treturn data;\n\t}\n\tconst output = {\n\t\tid: data.id,\n\t\ttype: data.type,\n\t\t...data.attributes,\n\t};\n\n\tif (Object.prototype.hasOwnProperty.call(data, 'relationships')) {\n\t\tlet includedRecord;\n\t\tObject.keys(data.relationships).forEach((relationshipName) => {\n\t\t\toutput[relationshipName] = data.relationships[relationshipName].data;\n\t\t\tif (Array.isArray(output[relationshipName])) {\n\t\t\t\toutput[relationshipName].forEach((rel, i) => {\n\t\t\t\t\tincludedRecord = findIncluded(included, rel.id, rel.type, mainRecord);\n\t\t\t\t\tif (includedRecord) {\n\t\t\t\t\t\toutput[relationshipName][i] = deserializeSingle(includedRecord, otherRows, included, mainRecord);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tincludedRecord = findIncluded(otherRows, rel.id, rel.type, mainRecord);\n\t\t\t\t\t\tif (includedRecord) {\n\t\t\t\t\t\t\toutput[relationshipName][i] = deserializeSingle(includedRecord, otherRows, included, mainRecord);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (output[relationshipName] !== null) {\n\t\t\t\tincludedRecord = findIncluded(included, output[relationshipName].id, output[relationshipName].type, mainRecord);\n\t\t\t\tif (includedRecord) {\n\t\t\t\t\toutput[relationshipName] = deserializeSingle(includedRecord, otherRows, included, mainRecord);\n\t\t\t\t} else {\n\t\t\t\t\tincludedRecord = findIncluded(otherRows, output[relationshipName].id, output[relationshipName].type, mainRecord);\n\t\t\t\t\tif (includedRecord) {\n\t\t\t\t\t\toutput[relationshipName] = deserializeSingle(includedRecord, otherRows, included, mainRecord);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tif (Object.prototype.hasOwnProperty.call(data, 'meta')) {\n\t\toutput.meta = data.meta;\n\t}\n\n\treturn output;\n};\n\nexport const deserialize = (body) => { // eslint-disable-line import/prefer-default-export\n\tif (Array.isArray(body.data)) {\n\t\tconst output = [];\n\t\tbody.data.forEach((data) => {\n\t\t\toutput.push(deserializeSingle(data, body.data, body.included, null));\n\t\t});\n\n\t\tif (Object.prototype.hasOwnProperty.call(body, 'meta')) {\n\t\t\treturn { data: output, meta: body.meta };\n\t\t}\n\n\t\treturn output;\n\t}\n\treturn deserializeSingle(body.data, [], body.included, body.data);\n};\n","import { deserialize } from './JsonApiDeserialize';\nimport { trackPromise } from 'react-promise-tracker';\n\nexport default class Api {\n\tstatic instance() {\n\t\tconst responses = {};\n\t\treturn (url, showSpinner) => {\n\t\t\tif (!Object.prototype.hasOwnProperty.call(responses, url)) {\n\t\t\t\tresponses[url] = Api.get(url, showSpinner);\n\t\t\t}\n\t\t\treturn responses[url];\n\t\t};\n\t}\n\n\tstatic get(url, showSpinner = true) {\n\t\treturn Api.request('GET', url, null, showSpinner);\n\t}\n\n\tstatic delete(url, showSpinner = true) {\n\t\treturn Api.request('DELETE', url, null, showSpinner);\n\t}\n\n\tstatic post(url, body, showSpinner = true) {\n\t\treturn Api.request('POST', url, body, showSpinner);\n\t}\n\n\tstatic put(url, body, showSpinner = true) {\n\t\treturn Api.request('PUT', url, body, showSpinner);\n\t}\n\n\tstatic request(method, url, body = null, showSpinner = true) {\n\t\tconst options = {\n\t\t\tmethod,\n\t\t\theaders: {\n\t\t\t\tAccept: 'application/json',\n\t\t\t\t'X-Requested-With': 'XMLHttpRequest',\n\t\t\t},\n\t\t};\n\t\tif (typeof body === 'string') {\n\t\t\toptions.headers['Content-Type'] = 'application/json';\n\t\t}\n\t\tif (Api.getToken()) {\n\t\t\toptions.headers.Authorization = `Bearer ${Api.getToken()}`;\n\t\t}\n\t\tif (body) {\n\t\t\toptions.body = body;\n\t\t}\n\n\t\tlet fullUrl = url;\n\t\tif (process.env.REACT_APP_API_URL && !url.startsWith('http')) {\n\t\t\tfullUrl = `${process.env.REACT_APP_API_URL.replace(/\\/$/, '')}/${url.replace(/^\\//, '')}`;\n\t\t}\n\n\t\tconst event = new CustomEvent('formosaApiRequest', { cancelable: true, detail: { url: fullUrl, options } });\n\t\tif (!document.dispatchEvent(event)) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\tconst promise = fetch(fullUrl, options)\n\t\t\t.then((response) => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\treturn response.json()\n\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\tif (error instanceof SyntaxError) {\n\t\t\t\t\t\t\t\tthrow { // eslint-disable-line no-throw-literal\n\t\t\t\t\t\t\t\t\terrors: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Unable to connect to the server. Please try again later.',\n\t\t\t\t\t\t\t\t\t\t\tstatus: '500',\n\t\t\t\t\t\t\t\t\t\t\tdetail: 'The server returned invalid JSON.',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\tstatus: 500,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthrow error;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then((json) => {\n\t\t\t\t\t\t\tjson.status = response.status;\n\t\t\t\t\t\t\tthrow json;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (response.status === 204) {\n\t\t\t\t\treturn {};\n\t\t\t\t}\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then((json) => {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(json, 'data')) {\n\t\t\t\t\treturn deserialize(json);\n\t\t\t\t}\n\t\t\t\treturn json;\n\t\t\t});\n\n\t\treturn showSpinner ? trackPromise(promise) : promise;\n\t}\n\n\tstatic getToken() {\n\t\treturn window.FORMOSA_TOKEN;\n\t}\n\n\tstatic setToken(token) {\n\t\twindow.FORMOSA_TOKEN = token;\n\t}\n\n\tstatic deserialize(json) {\n\t\tif (Object.prototype.hasOwnProperty.call(json, 'data')) {\n\t\t\treturn deserialize(json);\n\t\t}\n\t\treturn json;\n\t}\n}\n","import React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default React.createContext(\n\t{\n\t\talertClass: '',\n\t\talertText: '',\n\t\terrors: {},\n\t\tfiles: {},\n\t\toriginalRow: {},\n\t\trow: {},\n\t\tresponse: null,\n\t\tsetRow: null,\n\t\ttoastClass: '',\n\t\ttoastText: '',\n\t\tuuid: null,\n\t}\n);\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormContext from './FormContext';\nimport PropTypes from 'prop-types';\n\nexport default function Error({\n\tid,\n\tname,\n}) {\n\tconst { formState } = useContext(FormContext);\n\tconst hasError = formState && Object.prototype.hasOwnProperty.call(formState.errors, name);\n\n\tconst props = {};\n\tif (name) {\n\t\t// Used for matching the attribute name from the API to this error element.\n\t\tprops['data-name'] = name;\n\t}\n\tif (id || name) {\n\t\tprops.id = `${id || name}-error`;\n\t}\n\n\treturn (\n\t\t<div className=\"formosa-field__error\" {...props}>\n\t\t\t{hasError && formState.errors[name].map((e) => (<div key={e}>{e}</div>))}\n\t\t</div>\n\t);\n}\n\nError.propTypes = {\n\tid: PropTypes.string,\n\tname: PropTypes.string,\n};\n\nError.defaultProps = {\n\tid: null,\n\tname: '',\n};\n","import get from 'get-value';\n\nexport const normalizeOptions = (options, labelKey, valueKey = null) => {\n\tif (!options) {\n\t\treturn [];\n\t}\n\n\tconst output = [];\n\tif (Array.isArray(options)) {\n\t\toptions.forEach((option) => {\n\t\t\tif (typeof option === 'string') {\n\t\t\t\toutput.push({\n\t\t\t\t\tlabel: option,\n\t\t\t\t\tvalue: option,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\toutput.push({\n\t\t\t\t\t...option,\n\t\t\t\t\tlabel: typeof labelKey === 'function' ? labelKey(option) : get(option, labelKey),\n\t\t\t\t\tvalue: typeof valueKey === 'function' ? valueKey(option) : get(option, valueKey),\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t} else {\n\t\tObject.keys(options).forEach((value) => {\n\t\t\tconst option = options[value];\n\t\t\tif (typeof value === 'string') {\n\t\t\t\toutput.push({\n\t\t\t\t\tlabel: option,\n\t\t\t\t\tvalue,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\toutput.push({\n\t\t\t\t\t...option,\n\t\t\t\t\tlabel: typeof labelKey === 'function' ? labelKey(option) : get(option, labelKey),\n\t\t\t\t\tvalue: typeof valueKey === 'function' ? valueKey(option) : get(option, valueKey),\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\treturn output;\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Escaping\nexport const escapeRegExp = (string) => (string.replace(/[.*+\\-?^${}()|[\\]\\\\]/g, '\\\\$&'));\n\nconst toSlug = (s) => (\n\ts\n\t\t.normalize('NFD')\n\t\t.replace(/[\\u0300-\\u036f]/g, '')\n\t\t.toLowerCase()\n\t\t.replace(/ & /g, '-and-')\n\t\t.replace(/<[^>]+>/g, '')\n\t\t.replace(/['â€™.]/g, '')\n\t\t.replace(/[^a-z0-9-]+/g, '-')\n\t\t.replace(/^-+/, '')\n\t\t.replace(/-+$/, '')\n\t\t.replace(/--+/g, '-')\n);\n\nexport const filterByKey = (records, key, value) => {\n\tvalue = value.toLowerCase();\n\tconst escapedValue = escapeRegExp(value);\n\trecords = records.filter((record) => {\n\t\tconst recordValue = get(record, key).toString().toLowerCase() || '';\n\t\treturn recordValue.match(new RegExp(`(^|[^a-z])${escapedValue}`));\n\t});\n\tvalue = toSlug(value);\n\trecords = records.sort((a, b) => {\n\t\tconst aValue = toSlug(get(a, key).toString());\n\t\tconst bValue = toSlug(get(b, key).toString());\n\t\tconst aPos = aValue.indexOf(value) === 0;\n\t\tconst bPos = bValue.indexOf(value) === 0;\n\t\tif ((aPos && bPos) || (!aPos && !bPos)) {\n\t\t\treturn aValue.localeCompare(bValue);\n\t\t}\n\t\tif (aPos && !bPos) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn 1;\n\t});\n\treturn records;\n};\n","import { filterByKey, normalizeOptions } from '../Helpers/Options';\nimport React, { useContext, useEffect, useRef, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport Api from '../Helpers/Api';\nimport { ReactComponent as CloseIcon } from '../../svg/x.svg';\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\n\nexport default function Autocomplete({\n\tafterAdd,\n\tafterChange,\n\tclearable,\n\tclearButtonAttributes,\n\tclearButtonClassName,\n\tclearIconAttributes,\n\tclearIconHeight,\n\tclearIconWidth,\n\tclearText,\n\tdisabled,\n\tid,\n\tinputClassName,\n\tinputAttributes,\n\tlabelFn,\n\tlabelKey,\n\tloadingText,\n\tmax,\n\tname,\n\toptionButtonAttributes,\n\toptionButtonClassName,\n\toptionLabelFn,\n\toptionListAttributes,\n\toptionListClassName,\n\toptionListItemAttributes,\n\toptionListItemClassName,\n\toptions,\n\tplaceholder,\n\treadOnly,\n\tremoveButtonAttributes,\n\tremoveButtonClassName,\n\tremoveIconAttributes,\n\tremoveIconHeight,\n\tremoveIconWidth,\n\tremoveText,\n\tsetValue,\n\tshowLoading,\n\turl,\n\tvalue,\n\tvalueKey,\n\tvalueListItemAttributes,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\tconst clearButtonRef = useRef(null);\n\tconst inputRef = useRef(null);\n\tconst hiddenInputRef = useRef(null);\n\tconst removeButtonRef = useRef(null);\n\tconst [filter, setFilter] = useState('');\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst [highlightedIndex, setHighlightedIndex] = useState(0);\n\tconst [optionValues, setOptionValues] = useState(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\tconst [isLoading, setIsLoading] = useState(showLoading || !!url);\n\tconst [loadError, setLoadError] = useState('');\n\tconst api = Api.instance();\n\n\tuseEffect(() => {\n\t\tif (url) {\n\t\t\tapi(url, false)\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(error, 'errors')) {\n\t\t\t\t\t\tsetLoadError(error.errors.map((e) => (e.title)).join(' '));\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsetOptionValues(normalizeOptions(response, labelKey, valueKey));\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\t}, [url]);\n\n\tuseEffect(() => {\n\t\tsetOptionValues(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\t}, [options]);\n\n\tuseEffect(() => {\n\t\tsetIsLoading(showLoading);\n\t}, [showLoading]);\n\n\tif (isLoading) {\n\t\treturn (<div className=\"formosa-spinner\" role=\"status\">{loadingText}</div>);\n\t}\n\n\tif (loadError) {\n\t\treturn (<div className=\"formosa-field__error\">{loadError}</div>);\n\t}\n\n\tlet currentValue = null;\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<Autocomplete> component must be inside a <Form> component.');\n\t\t}\n\t\tcurrentValue = get(formState.row, name);\n\t}\n\tif (currentValue === null || currentValue === undefined || currentValue === '') {\n\t\tcurrentValue = null;\n\t} else if (max === 1 && !Array.isArray(currentValue)) {\n\t\tcurrentValue = [currentValue];\n\t}\n\tconst currentValueLength = currentValue ? currentValue.length : 0;\n\n\tconst isSelected = (option) => {\n\t\tif (!currentValue) {\n\t\t\treturn false;\n\t\t}\n\t\treturn currentValue.findIndex((v) => {\n\t\t\tif (typeof v === 'object') {\n\t\t\t\treturn JSON.stringify(v) === JSON.stringify(option.value);\n\t\t\t}\n\t\t\treturn v === option.value;\n\t\t}) > -1;\n\t};\n\n\tlet filteredOptions = [];\n\tif (filter) {\n\t\tfilteredOptions = filterByKey(optionValues, 'label', filter);\n\t\tfilteredOptions = filteredOptions.filter((option) => (!isSelected(option)));\n\t}\n\n\tconst focus = () => {\n\t\tif (inputRef.current) {\n\t\t\tinputRef.current.focus();\n\t\t}\n\t};\n\n\tconst addValue = (v) => {\n\t\tlet newValue;\n\t\tif (max === 1) {\n\t\t\tnewValue = v;\n\t\t} else if (currentValue) {\n\t\t\tnewValue = [...currentValue, v];\n\t\t} else {\n\t\t\tnewValue = [v];\n\t\t}\n\n\t\tconst e = { target: hiddenInputRef.current };\n\t\tif (setValue) {\n\t\t\tsetValue(newValue, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\n\t\tsetIsOpen(false);\n\t\tsetFilter('');\n\t\tfocus();\n\n\t\tif (afterAdd) {\n\t\t\tafterAdd();\n\t\t}\n\t};\n\n\tconst removeValue = (v) => {\n\t\tlet newValue = [];\n\t\tif (currentValue) {\n\t\t\tnewValue = [...currentValue];\n\t\t}\n\t\tif (max !== 1) {\n\t\t\tconst index = newValue.indexOf(v);\n\t\t\tif (index > -1) {\n\t\t\t\tnewValue.splice(index, 1);\n\t\t\t}\n\t\t} else {\n\t\t\tnewValue = '';\n\t\t}\n\n\t\tconst e = { target: hiddenInputRef.current };\n\t\tif (setValue) {\n\t\t\tsetValue(newValue, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\n\t\tfocus();\n\t};\n\n\tconst onChange = (e) => {\n\t\tsetFilter(e.target.value);\n\t};\n\n\tconst onFocus = () => {\n\t\tsetHighlightedIndex(0);\n\t\tsetIsOpen(filter.length > 0);\n\t};\n\n\tconst onKeyDown = (e) => {\n\t\tconst filterValue = e.target.value;\n\t\tif (e.key === 'Enter' && filterValue && filteredOptions.length > 0) {\n\t\t\te.preventDefault();\n\t\t} else if (e.key === 'Backspace' && !filter && currentValueLength > 0) {\n\t\t\tremoveValue(currentValue[currentValueLength - 1]);\n\t\t}\n\t};\n\n\tconst onKeyUp = (e) => {\n\t\tconst filterValue = e.target.value;\n\t\tif (e.key === 'Enter' && filterValue && filteredOptions.length > 0) {\n\t\t\te.preventDefault();\n\t\t\taddValue(filteredOptions[highlightedIndex].value);\n\t\t} else if (e.key === 'ArrowDown') {\n\t\t\tif (highlightedIndex >= (filteredOptions.length - 1)) {\n\t\t\t\tsetHighlightedIndex(0);\n\t\t\t} else {\n\t\t\t\tsetHighlightedIndex(highlightedIndex + 1);\n\t\t\t}\n\t\t} else if (e.key === 'ArrowUp') {\n\t\t\tif (highlightedIndex > 0) {\n\t\t\t\tsetHighlightedIndex(highlightedIndex - 1);\n\t\t\t} else {\n\t\t\t\tsetHighlightedIndex(filteredOptions.length - 1);\n\t\t\t}\n\t\t} else if (e.key === 'Escape') {\n\t\t\tsetIsOpen(false);\n\t\t} else {\n\t\t\tsetHighlightedIndex(0);\n\t\t\tsetIsOpen(filterValue.length > 0);\n\t\t}\n\t};\n\n\tconst onClickOption = (e) => {\n\t\tlet val = e.target.getAttribute('data-value');\n\t\tif (e.target.getAttribute('data-json') === 'true') {\n\t\t\tval = JSON.parse(val);\n\t\t}\n\t\taddValue(val);\n\t};\n\n\tconst onClickRemoveOption = (e) => {\n\t\tlet button = e.target;\n\t\twhile (button && button.tagName.toUpperCase() !== 'BUTTON') {\n\t\t\tbutton = button.parentNode;\n\t\t}\n\t\tremoveValue(currentValue[button.getAttribute('data-index')]);\n\t};\n\n\tconst clear = () => {\n\t\tconst newValue = [];\n\n\t\tconst e = { target: hiddenInputRef.current };\n\t\tif (setValue) {\n\t\t\tsetValue(newValue, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\n\t\tsetFilter('');\n\t\tfocus();\n\t};\n\n\tconst showClear = clearable && max !== 1 && currentValueLength > 0 && !disabled && !readOnly;\n\n\tlet className = ['formosa-autocomplete'];\n\tif (showClear) {\n\t\tclassName.push('formosa-autocomplete--clearable');\n\t}\n\tclassName = className.join(' ');\n\n\tconst canAddValues = !disabled && !readOnly && (max === null || currentValueLength < max);\n\n\tconst wrapperProps = {};\n\tif (id || name) {\n\t\twrapperProps.id = `${id || name}-wrapper`;\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`${className} ${wrapperClassName}`.trim()}\n\t\t\tdata-value={JSON.stringify(max === 1 && currentValueLength > 0 ? currentValue[0] : currentValue)} /* For testing. */\n\t\t\t{...wrapperProps}\n\t\t\t{...wrapperAttributes}\n\t\t>\n\t\t\t<ul className=\"formosa-autocomplete__values\">\n\t\t\t\t{currentValue && currentValue.map((v, index) => {\n\t\t\t\t\tlet val = v;\n\t\t\t\t\tlet isJson = false;\n\t\t\t\t\tif (typeof val === 'object') {\n\t\t\t\t\t\tval = JSON.stringify(val);\n\t\t\t\t\t\tisJson = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst option = optionValues.find((o) => (\n\t\t\t\t\t\tisJson ? JSON.stringify(o.value) === val : o.value === val\n\t\t\t\t\t));\n\n\t\t\t\t\tlet label = '';\n\t\t\t\t\tif (labelFn) {\n\t\t\t\t\t\tlabel = labelFn(option || v);\n\t\t\t\t\t} else if (option && Object.prototype.hasOwnProperty.call(option, 'label')) {\n\t\t\t\t\t\tlabel = option.label;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet valueListItemProps = {};\n\t\t\t\t\tif (typeof valueListItemAttributes === 'function') {\n\t\t\t\t\t\tvalueListItemProps = valueListItemAttributes(option);\n\t\t\t\t\t} else if (valueListItemAttributes && typeof valueListItemAttributes === 'object') {\n\t\t\t\t\t\tvalueListItemProps = valueListItemAttributes;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet removeButtonProps = {};\n\t\t\t\t\tif (typeof removeButtonAttributes === 'function') {\n\t\t\t\t\t\tremoveButtonProps = removeButtonAttributes(option);\n\t\t\t\t\t} else if (removeButtonAttributes && typeof removeButtonAttributes === 'object') {\n\t\t\t\t\t\tremoveButtonProps = removeButtonAttributes;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet removeIconProps = {};\n\t\t\t\t\tif (typeof removeIconAttributes === 'function') {\n\t\t\t\t\t\tremoveIconProps = removeIconAttributes(option);\n\t\t\t\t\t} else if (removeIconAttributes && typeof removeIconAttributes === 'object') {\n\t\t\t\t\t\tremoveIconProps = removeIconAttributes;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li className=\"formosa-autocomplete__value formosa-autocomplete__value--item\" key={val} {...valueListItemProps}>\n\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t{!disabled && !readOnly && (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={`formosa-autocomplete__value__remove ${removeButtonClassName}`.trim()}\n\t\t\t\t\t\t\t\t\tdata-index={index}\n\t\t\t\t\t\t\t\t\tonClick={onClickRemoveOption}\n\t\t\t\t\t\t\t\t\tref={removeButtonRef}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t{...removeButtonProps}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CloseIcon aria-hidden=\"true\" height={removeIconHeight} width={removeIconWidth} {...removeIconProps} />\n\t\t\t\t\t\t\t\t\t{removeText}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t{canAddValues && (\n\t\t\t\t\t<li className=\"formosa-autocomplete__value formosa-autocomplete__value--input\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t{...inputAttributes}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tclassName={`formosa-field__input formosa-autocomplete__input ${inputClassName}`.trim()}\n\t\t\t\t\t\t\tid={id || name}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\tonFocus={onFocus}\n\t\t\t\t\t\t\tonKeyDown={onKeyDown}\n\t\t\t\t\t\t\tonKeyUp={onKeyUp}\n\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t\tref={inputRef}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={filter}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t)}\n\t\t\t</ul>\n\n\t\t\t{isOpen && filteredOptions.length > 0 && (\n\t\t\t\t<ul className={`formosa-autocomplete__options ${optionListClassName}`.trim()} {...optionListAttributes}>\n\t\t\t\t\t{filteredOptions.map((option, index) => {\n\t\t\t\t\t\tlet optionClassName = ['formosa-autocomplete__option'];\n\t\t\t\t\t\tif (highlightedIndex === index) {\n\t\t\t\t\t\t\toptionClassName.push('formosa-autocomplete__option--highlighted');\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptionClassName = optionClassName.join(' ');\n\n\t\t\t\t\t\tlet val = option.value;\n\t\t\t\t\t\tlet isJson = false;\n\t\t\t\t\t\tif (typeof val === 'object') {\n\t\t\t\t\t\t\tisJson = true;\n\t\t\t\t\t\t\tval = JSON.stringify(val);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet label = '';\n\t\t\t\t\t\tif (optionLabelFn) {\n\t\t\t\t\t\t\tlabel = optionLabelFn(option);\n\t\t\t\t\t\t} else if (option && Object.prototype.hasOwnProperty.call(option, 'label')) {\n\t\t\t\t\t\t\tlabel = option.label;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet optionListItemProps = {};\n\t\t\t\t\t\tif (typeof optionListItemAttributes === 'function') {\n\t\t\t\t\t\t\toptionListItemProps = optionListItemAttributes(option);\n\t\t\t\t\t\t} else if (optionListItemAttributes && typeof optionListItemAttributes === 'object') {\n\t\t\t\t\t\t\toptionListItemProps = optionListItemAttributes;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet optionButtonProps = {};\n\t\t\t\t\t\tif (typeof optionButtonAttributes === 'function') {\n\t\t\t\t\t\t\toptionButtonProps = optionButtonAttributes(option);\n\t\t\t\t\t\t} else if (optionButtonAttributes && typeof optionButtonAttributes === 'object') {\n\t\t\t\t\t\t\toptionButtonProps = optionButtonAttributes;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tclassName={`${optionClassName} ${optionListItemClassName}`.trim()}\n\t\t\t\t\t\t\t\tkey={val}\n\t\t\t\t\t\t\t\t{...optionListItemProps}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={`formosa-autocomplete__option__button ${optionButtonClassName}`.trim()}\n\t\t\t\t\t\t\t\t\tdata-json={isJson}\n\t\t\t\t\t\t\t\t\tdata-value={val}\n\t\t\t\t\t\t\t\t\tonClick={onClickOption}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t{...optionButtonProps}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t)}\n\n\t\t\t{showClear && (\n\t\t\t\t<div>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`formosa-autocomplete__clear ${clearButtonClassName}`.trim()}\n\t\t\t\t\t\tonClick={clear}\n\t\t\t\t\t\tref={clearButtonRef}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t{...clearButtonAttributes}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CloseIcon aria-hidden=\"true\" height={clearIconHeight} width={clearIconWidth} {...clearIconAttributes} />\n\t\t\t\t\t\t{clearText}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<input\n\t\t\t\t{...otherProps}\n\t\t\t\tname={name}\n\t\t\t\tref={hiddenInputRef}\n\t\t\t\ttype=\"hidden\"\n\t\t\t\tvalue={filter}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nAutocomplete.propTypes = {\n\tafterAdd: PropTypes.func,\n\tafterChange: PropTypes.func,\n\tclearable: PropTypes.bool,\n\tclearButtonAttributes: PropTypes.object,\n\tclearButtonClassName: PropTypes.string,\n\tclearIconAttributes: PropTypes.object,\n\tclearIconHeight: PropTypes.number,\n\tclearIconWidth: PropTypes.number,\n\tclearText: PropTypes.string,\n\tdisabled: PropTypes.bool,\n\tid: PropTypes.string,\n\tinputAttributes: PropTypes.object,\n\tinputClassName: PropTypes.string,\n\tlabelFn: PropTypes.func,\n\tlabelKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tloadingText: PropTypes.string,\n\tmax: PropTypes.number,\n\tname: PropTypes.string,\n\toptionButtonAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\toptionButtonClassName: PropTypes.string,\n\toptionLabelFn: PropTypes.func,\n\toptionListAttributes: PropTypes.object,\n\toptionListClassName: PropTypes.string,\n\toptionListItemAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\toptionListItemClassName: PropTypes.string,\n\toptions: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]),\n\tplaceholder: PropTypes.string,\n\treadOnly: PropTypes.bool,\n\tremoveButtonAttributes: PropTypes.object,\n\tremoveButtonClassName: PropTypes.string,\n\tremoveIconAttributes: PropTypes.object,\n\tremoveIconHeight: PropTypes.number,\n\tremoveIconWidth: PropTypes.number,\n\tremoveText: PropTypes.string,\n\tsetValue: PropTypes.func,\n\tshowLoading: PropTypes.bool,\n\turl: PropTypes.string,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.arrayOf(PropTypes.number),\n\t\tPropTypes.arrayOf(PropTypes.object),\n\t\tPropTypes.arrayOf(PropTypes.string),\n\t\tPropTypes.number,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\tvalueKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tvalueListItemAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nAutocomplete.defaultProps = {\n\tafterAdd: null,\n\tafterChange: null,\n\tclearable: true,\n\tclearButtonAttributes: null,\n\tclearButtonClassName: '',\n\tclearIconAttributes: null,\n\tclearIconHeight: 12,\n\tclearIconWidth: 12,\n\tclearText: 'Clear',\n\tdisabled: false,\n\tid: '',\n\tinputAttributes: null,\n\tinputClassName: '',\n\tlabelFn: null,\n\tlabelKey: 'name',\n\tloadingText: 'Loading...',\n\tmax: null,\n\tname: '',\n\toptionButtonAttributes: null,\n\toptionButtonClassName: '',\n\toptionLabelFn: null,\n\toptionListAttributes: null,\n\toptionListClassName: '',\n\toptionListItemAttributes: null,\n\toptionListItemClassName: '',\n\toptions: null,\n\tplaceholder: 'Search',\n\treadOnly: false,\n\tremoveButtonAttributes: null,\n\tremoveButtonClassName: '',\n\tremoveIconAttributes: null,\n\tremoveIconHeight: 12,\n\tremoveIconWidth: 12,\n\tremoveText: 'Remove',\n\tsetValue: null,\n\tshowLoading: false,\n\turl: null,\n\tvalue: null,\n\tvalueKey: null,\n\tvalueListItemAttributes: null,\n\twrapperAttributes: null,\n\twrapperClassName: '',\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport { ReactComponent as CheckIcon } from '../../svg/check.svg';\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\n\nexport default function Checkbox({\n\tafterChange,\n\tclassName,\n\ticonAttributes,\n\ticonClassName,\n\ticonHeight,\n\ticonWidth,\n\tid,\n\tname,\n\tsetValue,\n\tvalue,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\n\tlet checked = false;\n\tif (setValue !== null) {\n\t\tchecked = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<Checkbox> component must be inside a <Form> component.');\n\t\t}\n\t\tchecked = !!get(formState.row, name);\n\t}\n\n\tconst onChange = (e) => {\n\t\tconst newValue = e.target.checked;\n\t\tif (setValue) {\n\t\t\tsetValue(newValue, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\t};\n\n\tconst props = {};\n\tif (id || name) {\n\t\tprops.id = id || name;\n\t}\n\tif (name) {\n\t\tprops.name = name;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<input\n\t\t\t\tclassName={`formosa-field__input formosa-field__input--checkbox ${className}`.trim()}\n\t\t\t\tchecked={checked}\n\t\t\t\tonChange={onChange}\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\t{...props}\n\t\t\t\t{...otherProps}\n\t\t\t/>\n\t\t\t<CheckIcon\n\t\t\t\taria-hidden=\"true\"\n\t\t\t\tclassName={`formosa-icon--check ${iconClassName}`.trim()}\n\t\t\t\theight={iconHeight}\n\t\t\t\twidth={iconWidth}\n\t\t\t\t{...iconAttributes}\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nCheckbox.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\ticonAttributes: PropTypes.object,\n\ticonClassName: PropTypes.string,\n\ticonHeight: PropTypes.number,\n\ticonWidth: PropTypes.number,\n\tid: PropTypes.string,\n\tname: PropTypes.string,\n\tsetValue: PropTypes.func,\n\tvalue: PropTypes.bool,\n};\n\nCheckbox.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\ticonAttributes: null,\n\ticonClassName: '',\n\ticonHeight: 16,\n\ticonWidth: 16,\n\tid: null,\n\tname: '',\n\tsetValue: null,\n\tvalue: null,\n};\n","import React, { useContext, useEffect, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport Api from '../Helpers/Api';\nimport { ReactComponent as CheckIcon } from '../../svg/check.svg';\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport { normalizeOptions } from '../Helpers/Options';\nimport PropTypes from 'prop-types';\n\nexport default function CheckboxList({\n\tafterChange,\n\tclassName,\n\tdisabled,\n\tfieldsetAttributes,\n\tfieldsetClassName,\n\ticonAttributes,\n\ticonClassName,\n\ticonHeight,\n\ticonWidth,\n\tinputAttributes,\n\titemAttributes,\n\titemClassName,\n\titemLabelAttributes,\n\titemLabelClassName,\n\titemSpanAttributes,\n\titemSpanClassName,\n\tlabelKey,\n\tlegend,\n\tloadingText,\n\tname,\n\toptions,\n\treadOnly,\n\tsetValue,\n\tshowLoading,\n\turl,\n\tvalue,\n\tvalueKey,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\tconst [optionValues, setOptionValues] = useState(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\tconst [isLoading, setIsLoading] = useState(showLoading || !!url);\n\tconst [loadError, setLoadError] = useState('');\n\tconst api = Api.instance();\n\n\tuseEffect(() => {\n\t\tif (url) {\n\t\t\tapi(url, false)\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(error, 'errors')) {\n\t\t\t\t\t\tsetLoadError(error.errors.map((e) => (e.title)).join(' '));\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsetOptionValues(normalizeOptions(response, labelKey, valueKey));\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\t}, [url]);\n\n\tuseEffect(() => {\n\t\tsetOptionValues(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\t}, [options]);\n\n\tuseEffect(() => {\n\t\tsetIsLoading(showLoading);\n\t}, [showLoading]);\n\n\tif (isLoading) {\n\t\treturn (<div className=\"formosa-spinner\" role=\"status\">{loadingText}</div>);\n\t}\n\n\tif (loadError) {\n\t\treturn (<div className=\"formosa-field__error\">{loadError}</div>);\n\t}\n\n\tlet currentValue = [];\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<CheckboxList> component must be inside a <Form> component.');\n\t\t}\n\t\tcurrentValue = get(formState.row, name);\n\t}\n\tif (currentValue === null || currentValue === undefined || currentValue === '') {\n\t\tcurrentValue = [];\n\t}\n\tconst currentValueStringified = currentValue.map((val) => (typeof val === 'object' ? JSON.stringify(val) : val));\n\n\tconst onChange = (e) => {\n\t\tconst newValue = [...currentValue];\n\t\tlet val = e.target.value;\n\n\t\tif (e.target.checked) {\n\t\t\tif (e.target.getAttribute('data-json') === 'true') {\n\t\t\t\tval = JSON.parse(val);\n\t\t\t}\n\t\t\tnewValue.push(val);\n\t\t} else {\n\t\t\tconst index = currentValueStringified.indexOf(val);\n\t\t\tif (index > -1) {\n\t\t\t\tnewValue.splice(index, 1);\n\t\t\t}\n\t\t}\n\n\t\tif (setValue) {\n\t\t\tsetValue(newValue, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\t};\n\n\treturn (\n\t\t<fieldset className={`formosa-radio ${fieldsetClassName}`.trim()} {...fieldsetAttributes}>\n\t\t\t<legend className=\"formosa-radio__legend\">{legend}</legend>\n\t\t\t{optionValues.map((optionValue) => {\n\t\t\t\tlet optionValueVal = optionValue.value;\n\t\t\t\tlet isJson = false;\n\t\t\t\tif (typeof optionValueVal === 'object') {\n\t\t\t\t\tisJson = true;\n\t\t\t\t\toptionValueVal = JSON.stringify(optionValueVal);\n\t\t\t\t}\n\n\t\t\t\tconst checked = currentValueStringified.includes(optionValueVal);\n\n\t\t\t\tlet itemProps = {};\n\t\t\t\tif (typeof itemAttributes === 'function') {\n\t\t\t\t\titemProps = itemAttributes(optionValue);\n\t\t\t\t} else if (itemAttributes && typeof itemAttributes === 'object') {\n\t\t\t\t\titemProps = itemAttributes;\n\t\t\t\t}\n\n\t\t\t\tlet itemLabelProps = {};\n\t\t\t\tif (typeof itemLabelAttributes === 'function') {\n\t\t\t\t\titemLabelProps = itemLabelAttributes(optionValue);\n\t\t\t\t} else if (itemLabelAttributes && typeof itemLabelAttributes === 'object') {\n\t\t\t\t\titemLabelProps = itemLabelAttributes;\n\t\t\t\t}\n\n\t\t\t\tlet inputProps = {};\n\t\t\t\tif (typeof inputAttributes === 'function') {\n\t\t\t\t\tinputProps = inputAttributes(optionValue);\n\t\t\t\t} else if (inputAttributes && typeof inputAttributes === 'object') {\n\t\t\t\t\tinputProps = inputAttributes;\n\t\t\t\t}\n\t\t\t\tif (isJson) {\n\t\t\t\t\tinputProps['data-json'] = true;\n\t\t\t\t}\n\t\t\t\tif (name) {\n\t\t\t\t\tinputProps.name = `${name}[]`;\n\t\t\t\t}\n\n\t\t\t\tlet iconProps = {};\n\t\t\t\tif (typeof iconAttributes === 'function') {\n\t\t\t\t\ticonProps = iconAttributes(optionValue);\n\t\t\t\t} else if (iconAttributes && typeof iconAttributes === 'object') {\n\t\t\t\t\ticonProps = iconAttributes;\n\t\t\t\t}\n\n\t\t\t\tlet itemSpanProps = {};\n\t\t\t\tif (typeof itemSpanAttributes === 'function') {\n\t\t\t\t\titemSpanProps = itemSpanAttributes(optionValue);\n\t\t\t\t} else if (itemSpanAttributes && typeof itemSpanAttributes === 'object') {\n\t\t\t\t\titemSpanProps = itemSpanAttributes;\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<div className={`formosa-radio__item ${itemClassName}`.trim()} key={optionValueVal} {...itemProps}>\n\t\t\t\t\t\t<label\n\t\t\t\t\t\t\tclassName={`formosa-radio__label${checked ? ' formosa-radio__label--checked' : ''} ${itemLabelClassName}`.trim()}\n\t\t\t\t\t\t\t{...itemLabelProps}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\taria-label={optionValue.label}\n\t\t\t\t\t\t\t\tchecked={checked}\n\t\t\t\t\t\t\t\tclassName={`formosa-field__input formosa-field__input--checkbox ${className}`.trim()}\n\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\treadOnly={readOnly}\n\t\t\t\t\t\t\t\tvalue={optionValueVal}\n\t\t\t\t\t\t\t\t{...inputProps}\n\t\t\t\t\t\t\t\t{...otherProps}\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<CheckIcon\n\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\tclassName={`formosa-icon--check ${iconClassName}`.trim()}\n\t\t\t\t\t\t\t\theight={iconHeight}\n\t\t\t\t\t\t\t\twidth={iconWidth}\n\t\t\t\t\t\t\t\t{...iconProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span aria-hidden=\"true\" className={`formosa-radio__span ${itemSpanClassName}`.trim()} {...itemSpanProps}>\n\t\t\t\t\t\t\t\t{optionValue.label}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})}\n\t\t</fieldset>\n\t);\n}\n\nCheckboxList.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\tdisabled: PropTypes.bool,\n\tfieldsetAttributes: PropTypes.object,\n\tfieldsetClassName: PropTypes.string,\n\ticonAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\ticonClassName: PropTypes.string,\n\ticonHeight: PropTypes.number,\n\ticonWidth: PropTypes.number,\n\tinputAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemClassName: PropTypes.string,\n\titemLabelAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemLabelClassName: PropTypes.string,\n\titemSpanAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemSpanClassName: PropTypes.string,\n\tlabelKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tlegend: PropTypes.string,\n\tloadingText: PropTypes.string,\n\tname: PropTypes.string,\n\toptions: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]),\n\treadOnly: PropTypes.bool,\n\tsetValue: PropTypes.func,\n\tshowLoading: PropTypes.bool,\n\turl: PropTypes.string,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.arrayOf(PropTypes.number),\n\t\tPropTypes.arrayOf(PropTypes.object),\n\t\tPropTypes.arrayOf(PropTypes.string),\n\t]),\n\tvalueKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n};\n\nCheckboxList.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\tdisabled: false,\n\tfieldsetAttributes: null,\n\tfieldsetClassName: '',\n\ticonAttributes: null,\n\ticonClassName: '',\n\ticonHeight: 16,\n\ticonWidth: 16,\n\tinputAttributes: null,\n\titemAttributes: null,\n\titemClassName: '',\n\titemLabelAttributes: null,\n\titemLabelClassName: '',\n\titemSpanAttributes: null,\n\titemSpanClassName: '',\n\tlabelKey: 'name',\n\tlegend: '',\n\tloadingText: 'Loading...',\n\tname: '',\n\toptions: null,\n\treadOnly: false,\n\tsetValue: null,\n\tshowLoading: false,\n\turl: null,\n\tvalue: null,\n\tvalueKey: null,\n};\n","import React, { useContext, useEffect, useRef, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\n\nexport default function File({\n\tafterChange,\n\tbuttonAttributes,\n\tbuttonClassName,\n\tclassName,\n\tdisabled,\n\temptyText,\n\tid,\n\timageAttributes,\n\timageClassName,\n\timageHeight,\n\timagePrefix,\n\timagePreview,\n\tinputWrapperAttributes,\n\tinputWrapperClassName,\n\tlinkAttributes,\n\tlinkClassName,\n\tlinkImage,\n\tmultiple,\n\tname,\n\treadOnly,\n\tremoveText,\n\trequired,\n\tsetValue,\n\tvalue,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\tconst inputRef = useRef(null);\n\n\tlet currentValue = '';\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<File> component must be inside a <Form> component.');\n\t\t}\n\t\tcurrentValue = get(formState.row, name);\n\t}\n\tif (currentValue === null || currentValue === undefined) {\n\t\tcurrentValue = '';\n\t}\n\tconst hasValue = multiple ? currentValue.length > 0 : !!currentValue;\n\n\tconst getFilenames = (v) => {\n\t\tif (v instanceof FileList) {\n\t\t\tconst numFiles = v.length;\n\t\t\tconst output = [];\n\t\t\tlet i;\n\t\t\tfor (i = 0; i < numFiles; i += 1) {\n\t\t\t\toutput.push(v.item(i).name);\n\t\t\t}\n\t\t\treturn output.join(', ');\n\t\t}\n\t\tif (Array.isArray(v)) {\n\t\t\treturn v.join(', ');\n\t\t}\n\t\tif (typeof v === 'object') {\n\t\t\treturn v.name;\n\t\t}\n\t\treturn v;\n\t};\n\n\tconst getSrcs = (v) => {\n\t\tconst output = [];\n\t\tif (v instanceof FileList) {\n\t\t\tconst numFiles = v.length;\n\t\t\tlet i;\n\t\t\tfor (i = 0; i < numFiles; i += 1) {\n\t\t\t\toutput.push(URL.createObjectURL(v.item(i)));\n\t\t\t}\n\t\t} else if (Array.isArray(v)) {\n\t\t\treturn v.map((v2) => (`${imagePrefix}${v2}`));\n\t\t} else if (typeof v === 'object') {\n\t\t\toutput.push(URL.createObjectURL(v));\n\t\t} else if (typeof v === 'string') {\n\t\t\toutput.push(`${imagePrefix}${v}`);\n\t\t}\n\t\treturn output;\n\t};\n\n\tconst [filenames, setFilenames] = useState(getFilenames(currentValue));\n\tconst [srcs, setSrcs] = useState(getSrcs(currentValue));\n\n\tuseEffect(() => {\n\t\tsetFilenames(getFilenames(currentValue));\n\t\tsetSrcs(getSrcs(currentValue));\n\t}, [currentValue]);\n\n\tconst onChange = (e) => {\n\t\tconst newFiles = multiple ? e.target.files : e.target.files.item(0);\n\n\t\tsetFilenames(getFilenames(newFiles));\n\t\tif (imagePreview) {\n\t\t\tsetSrcs(getSrcs(newFiles));\n\t\t}\n\n\t\tif (setValue) {\n\t\t\tsetValue(newFiles, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newFiles, afterChange, newFiles);\n\t\t}\n\t};\n\n\tconst onRemove = (e) => {\n\t\tsetFilenames('');\n\n\t\tconst newValue = '';\n\t\tif (setValue) {\n\t\t\tsetValue(newValue, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange, newValue);\n\t\t}\n\n\t\tinputRef.current.focus();\n\t};\n\n\tlet prefixClassName = inputWrapperClassName;\n\tif (hasValue && !disabled && !readOnly) {\n\t\tprefixClassName += ' formosa-prefix';\n\t}\n\n\tconst props = {};\n\tif (id || name) {\n\t\tprops.id = id || name;\n\t}\n\n\tconst hiddenProps = {};\n\tif (name) {\n\t\thiddenProps.name = name;\n\t}\n\n\tconst buttonProps = {};\n\tif (id || name) {\n\t\tbuttonProps.id = `${id || name}-remove`;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{(hasValue && imagePreview) && (\n\t\t\t\tsrcs.map((src) => {\n\t\t\t\t\tconst img = (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\tclassName={`formosa-file-image ${imageClassName}`.trim()}\n\t\t\t\t\t\t\theight={imageHeight}\n\t\t\t\t\t\t\tkey={src}\n\t\t\t\t\t\t\tsrc={src}\n\t\t\t\t\t\t\t{...imageAttributes}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\t\tif (linkImage) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<a className={`formosa-file-link ${linkClassName}`.trim()} href={src} key={src} {...linkAttributes}>\n\t\t\t\t\t\t\t\t{img}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn img;\n\t\t\t\t})\n\t\t\t)}\n\t\t\t<div className={`formosa-file-wrapper ${wrapperClassName}`.trim()} {...wrapperAttributes}>\n\t\t\t\t<div className={`formosa-file-input-wrapper ${prefixClassName}`.trim()} {...inputWrapperAttributes}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`formosa-file-name${!filenames ? ' formosa-file-name--empty' : ''}`}\n\t\t\t\t\t\tid={`${id || name}-name`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{filenames || emptyText}\n\t\t\t\t\t</div>\n\t\t\t\t\t{!readOnly && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName={`formosa-field__input formosa-field__input--file ${className}`.trim()}\n\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\tmultiple={multiple}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\tref={inputRef}\n\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\t{...otherProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\t\t\ttype=\"hidden\"\n\t\t\t\t\t\t\t\tvalue={currentValue}\n\t\t\t\t\t\t\t\t{...hiddenProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t{hasValue && !disabled && !readOnly && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`formosa-button formosa-button--remove-file formosa-postfix ${buttonClassName}`.trim()}\n\t\t\t\t\t\tonClick={onRemove}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t{...buttonProps}\n\t\t\t\t\t\t{...buttonAttributes}\n\t\t\t\t\t>\n\t\t\t\t\t\t{removeText}\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nFile.propTypes = {\n\tafterChange: PropTypes.func,\n\tbuttonAttributes: PropTypes.object,\n\tbuttonClassName: PropTypes.string,\n\tclassName: PropTypes.string,\n\tdisabled: PropTypes.bool,\n\temptyText: PropTypes.string,\n\tid: PropTypes.string,\n\timageAttributes: PropTypes.object,\n\timageClassName: PropTypes.string,\n\timageHeight: PropTypes.number,\n\timagePrefix: PropTypes.string,\n\timagePreview: PropTypes.bool,\n\tinputWrapperAttributes: PropTypes.object,\n\tinputWrapperClassName: PropTypes.string,\n\tlinkAttributes: PropTypes.object,\n\tlinkClassName: PropTypes.string,\n\tlinkImage: PropTypes.bool,\n\tmultiple: PropTypes.bool,\n\tname: PropTypes.string,\n\treadOnly: PropTypes.bool,\n\tremoveText: PropTypes.string,\n\trequired: PropTypes.bool,\n\tsetValue: PropTypes.func,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nFile.defaultProps = {\n\tafterChange: null,\n\tbuttonAttributes: null,\n\tbuttonClassName: '',\n\tclassName: '',\n\tdisabled: false,\n\temptyText: 'No file selected.',\n\tid: '',\n\timageAttributes: null,\n\timageClassName: '',\n\timageHeight: 100,\n\timagePrefix: '',\n\timagePreview: false,\n\tinputWrapperAttributes: null,\n\tinputWrapperClassName: '',\n\tlinkAttributes: null,\n\tlinkClassName: '',\n\tlinkImage: false,\n\tmultiple: false,\n\tname: '',\n\treadOnly: false,\n\tremoveText: 'Remove',\n\trequired: false,\n\tsetValue: null,\n\tvalue: null,\n\twrapperAttributes: null,\n\twrapperClassName: '',\n};\n","import PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default function ConditionalWrapper({ children, condition, ...props }) {\n\tif (!condition) {\n\t\treturn children;\n\t}\n\n\treturn (\n\t\t<div {...props}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nConditionalWrapper.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n\tcondition: PropTypes.any,\n};\n\nConditionalWrapper.defaultProps = {\n\tcondition: false,\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport ConditionalWrapper from './ConditionalWrapper';\nimport FormContext from './FormContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\n\nexport default function Input({\n\tafterChange,\n\tclassName,\n\tid,\n\tname,\n\tsetValue,\n\tsuffix,\n\ttype,\n\tvalue,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\n\tlet currentValue = '';\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<Input> component must be inside a <Form> component.');\n\t\t}\n\t\tif (type !== 'file') {\n\t\t\tcurrentValue = get(formState.row, name);\n\t\t\tif (currentValue === null || currentValue === undefined) {\n\t\t\t\tcurrentValue = '';\n\t\t\t}\n\t\t}\n\t}\n\n\tconst onChange = (e) => {\n\t\tconst newValue = e.target.value;\n\t\tif (setValue) {\n\t\t\tsetValue(newValue, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\t};\n\n\tconst props = {};\n\tif (id || name) {\n\t\tprops.id = id || name;\n\t}\n\tif (name) {\n\t\tprops.name = name;\n\t}\n\n\treturn (\n\t\t<ConditionalWrapper className=\"formosa-suffix-container\" condition={suffix}>\n\t\t\t<input\n\t\t\t\tclassName={`formosa-field__input ${className}`.trim()}\n\t\t\t\tonChange={onChange}\n\t\t\t\ttype={type}\n\t\t\t\tvalue={currentValue}\n\t\t\t\t{...props}\n\t\t\t\t{...otherProps}\n\t\t\t/>\n\t\t\t{suffix && <span className=\"formosa-suffix\">{suffix}</span>}\n\t\t</ConditionalWrapper>\n\t);\n}\n\nInput.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\tid: PropTypes.string,\n\tname: PropTypes.string,\n\tsetValue: PropTypes.func,\n\tsuffix: PropTypes.string,\n\ttype: PropTypes.string,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.string,\n\t]),\n};\n\nInput.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\tid: null,\n\tname: '',\n\tsetValue: null,\n\tsuffix: '',\n\ttype: 'text',\n\tvalue: null,\n};\n","import React, { useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport Input from '../Input';\nimport PropTypes from 'prop-types';\n\nexport default function Password({\n\tbuttonAttributes,\n\tbuttonClassName,\n\tclassName,\n\thideAria,\n\thideText,\n\tshowAria,\n\tshowText,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\tconst [tempType, setTempType] = useState('password');\n\tconst togglePassword = () => {\n\t\tif (tempType === 'password') {\n\t\t\tsetTempType('text');\n\t\t} else {\n\t\t\tsetTempType('password');\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={`formosa-password-wrapper ${wrapperClassName}`.trim()} {...wrapperAttributes}>\n\t\t\t<Input\n\t\t\t\tclassName={`formosa-field__input--password formosa-prefix ${className}`.trim()}\n\t\t\t\tspellCheck=\"false\"\n\t\t\t\t{...otherProps}\n\t\t\t\ttype={tempType}\n\t\t\t/>\n\t\t\t<button\n\t\t\t\taria-controls={otherProps.id || otherProps.name}\n\t\t\t\taria-label={tempType === 'password' ? showAria : hideAria}\n\t\t\t\tclassName={`formosa-button formosa-button--toggle-password formosa-postfix ${buttonClassName}`.trim()}\n\t\t\t\tonClick={togglePassword}\n\t\t\t\ttype=\"button\"\n\t\t\t\t{...buttonAttributes}\n\t\t\t>\n\t\t\t\t{tempType === 'password' ? showText : hideText}\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n\nPassword.propTypes = {\n\tbuttonAttributes: PropTypes.object,\n\tbuttonClassName: PropTypes.string,\n\tclassName: PropTypes.string,\n\thideAria: PropTypes.string,\n\thideText: PropTypes.string,\n\tshowAria: PropTypes.string,\n\tshowText: PropTypes.string,\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nPassword.defaultProps = {\n\tbuttonAttributes: null,\n\tbuttonClassName: '',\n\tclassName: '',\n\thideAria: 'Hide Password',\n\thideText: 'Hide',\n\tshowAria: 'Show Password',\n\tshowText: 'Show',\n\twrapperAttributes: null,\n\twrapperClassName: '',\n};\n","import React, { useContext, useEffect, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport Api from '../Helpers/Api';\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport { normalizeOptions } from '../Helpers/Options';\nimport PropTypes from 'prop-types';\n\nexport default function Radio({\n\tafterChange,\n\tclassName,\n\tfieldsetAttributes,\n\tfieldsetClassName,\n\tinputAttributes,\n\titemAttributes,\n\titemClassName,\n\titemLabelAttributes,\n\titemLabelClassName,\n\titemSpanAttributes,\n\titemSpanClassName,\n\tlabel,\n\tlabelKey,\n\tlegend,\n\tloadingText,\n\tname,\n\toptions,\n\trequired,\n\tsetValue,\n\tshowLoading,\n\turl,\n\tvalue,\n\tvalueKey,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\tconst [optionValues, setOptionValues] = useState(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\tconst [isLoading, setIsLoading] = useState(showLoading || !!url);\n\tconst [loadError, setLoadError] = useState('');\n\tconst api = Api.instance();\n\n\tuseEffect(() => {\n\t\tif (url) {\n\t\t\tapi(url, false)\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(error, 'errors')) {\n\t\t\t\t\t\tsetLoadError(error.errors.map((e) => (e.title)).join(' '));\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsetOptionValues(normalizeOptions(response, labelKey, valueKey));\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\t}, [url]);\n\n\tuseEffect(() => {\n\t\tsetOptionValues(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\t}, [options]);\n\n\tuseEffect(() => {\n\t\tsetIsLoading(showLoading);\n\t}, [showLoading]);\n\n\tif (isLoading) {\n\t\treturn (<div className=\"formosa-spinner\" role=\"status\">{loadingText}</div>);\n\t}\n\n\tif (loadError) {\n\t\treturn (<div className=\"formosa-field__error\">{loadError}</div>);\n\t}\n\n\tlet currentValue = '';\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<Radio> component must be inside a <Form> component.');\n\t\t}\n\t\tcurrentValue = get(formState.row, name);\n\t}\n\tif (currentValue === null || currentValue === undefined) {\n\t\tcurrentValue = '';\n\t}\n\tif (typeof currentValue === 'object') {\n\t\tcurrentValue = JSON.stringify(currentValue);\n\t}\n\n\tconst onChange = (e) => {\n\t\tlet newValue = e.target.value;\n\t\tif (e.target.getAttribute('data-json') === 'true') {\n\t\t\tnewValue = JSON.parse(newValue);\n\t\t}\n\n\t\tif (setValue) {\n\t\t\tsetValue(newValue, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\t};\n\n\treturn (\n\t\t<fieldset className={`formosa-radio ${fieldsetClassName}`.trim()} {...fieldsetAttributes}>\n\t\t\t<legend className=\"formosa-radio__legend\">{legend}</legend>\n\t\t\t{optionValues.map((optionValue) => {\n\t\t\t\tlet optionValueVal = optionValue.value;\n\t\t\t\tlet isJson = false;\n\t\t\t\tif (typeof optionValueVal === 'object') {\n\t\t\t\t\tisJson = true;\n\t\t\t\t\toptionValueVal = JSON.stringify(optionValueVal);\n\t\t\t\t}\n\n\t\t\t\tconst checked = currentValue === optionValueVal;\n\n\t\t\t\tlet itemProps = {};\n\t\t\t\tif (typeof itemAttributes === 'function') {\n\t\t\t\t\titemProps = itemAttributes(optionValue);\n\t\t\t\t} else if (itemAttributes && typeof itemAttributes === 'object') {\n\t\t\t\t\titemProps = itemAttributes;\n\t\t\t\t}\n\n\t\t\t\tlet itemLabelProps = {};\n\t\t\t\tif (typeof itemLabelAttributes === 'function') {\n\t\t\t\t\titemLabelProps = itemLabelAttributes(optionValue);\n\t\t\t\t} else if (itemLabelAttributes && typeof itemLabelAttributes === 'object') {\n\t\t\t\t\titemLabelProps = itemLabelAttributes;\n\t\t\t\t}\n\n\t\t\t\tlet inputProps = {};\n\t\t\t\tif (typeof inputAttributes === 'function') {\n\t\t\t\t\tinputProps = inputAttributes(optionValue);\n\t\t\t\t} else if (inputAttributes && typeof inputAttributes === 'object') {\n\t\t\t\t\tinputProps = inputAttributes;\n\t\t\t\t}\n\t\t\t\tif (isJson) {\n\t\t\t\t\tinputProps['data-json'] = true;\n\t\t\t\t}\n\t\t\t\tif (name) {\n\t\t\t\t\tinputProps.name = name;\n\t\t\t\t}\n\n\t\t\t\tlet itemSpanProps = {};\n\t\t\t\tif (typeof itemSpanAttributes === 'function') {\n\t\t\t\t\titemSpanProps = itemSpanAttributes(optionValue);\n\t\t\t\t} else if (itemSpanAttributes && typeof itemSpanAttributes === 'object') {\n\t\t\t\t\titemSpanProps = itemSpanAttributes;\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<div className={`formosa-radio__item ${itemClassName}`.trim()} key={optionValueVal} {...itemProps}>\n\t\t\t\t\t\t<label\n\t\t\t\t\t\t\tclassName={`formosa-radio__label${checked ? ' formosa-radio__label--checked' : ''} ${itemLabelClassName}`.trim()}\n\t\t\t\t\t\t\t{...itemLabelProps}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\taria-label={optionValue.label}\n\t\t\t\t\t\t\t\tchecked={checked}\n\t\t\t\t\t\t\t\tclassName={`formosa-field__input formosa-radio__input ${className}`.trim()}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tvalue={optionValueVal}\n\t\t\t\t\t\t\t\t{...inputProps}\n\t\t\t\t\t\t\t\t{...otherProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span aria-hidden=\"true\" className={`formosa-radio__span ${itemSpanClassName}`.trim()} {...itemSpanProps}>\n\t\t\t\t\t\t\t\t{optionValue.label}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})}\n\t\t</fieldset>\n\t);\n}\n\nRadio.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\tfieldsetAttributes: PropTypes.object,\n\tfieldsetClassName: PropTypes.string,\n\tinputAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemClassName: PropTypes.string,\n\titemLabelAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemLabelClassName: PropTypes.string,\n\titemSpanAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemSpanClassName: PropTypes.string,\n\tlabel: PropTypes.string,\n\tlabelKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tlegend: PropTypes.string,\n\tloadingText: PropTypes.string,\n\tname: PropTypes.string,\n\toptions: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]),\n\trequired: PropTypes.bool,\n\tsetValue: PropTypes.func,\n\tshowLoading: PropTypes.bool,\n\turl: PropTypes.string,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\tvalueKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n};\n\nRadio.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\tfieldsetAttributes: null,\n\tfieldsetClassName: '',\n\tinputAttributes: null,\n\titemAttributes: null,\n\titemClassName: '',\n\titemLabelAttributes: null,\n\titemLabelClassName: '',\n\titemSpanAttributes: null,\n\titemSpanClassName: '',\n\tlabel: '',\n\tlabelKey: 'name',\n\tlegend: '',\n\tloadingText: 'Loading...',\n\tname: '',\n\toptions: null,\n\trequired: false,\n\tsetValue: null,\n\tshowLoading: false,\n\turl: null,\n\tvalue: null,\n\tvalueKey: null,\n};\n","import Input from '../Input';\nimport PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\nimport { ReactComponent as SearchIcon } from '../../svg/search.svg';\n\nexport default function Search({\n\tclassName,\n\ticonAttributes,\n\ticonClassName,\n\ticonHeight,\n\ticonWidth,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\treturn (\n\t\t<div className={`formosa-search-wrapper ${wrapperClassName}`.trim()} {...wrapperAttributes}>\n\t\t\t<Input\n\t\t\t\tclassName={`formosa-field__input--search ${className}`.trim()}\n\t\t\t\t{...otherProps}\n\t\t\t/>\n\t\t\t<SearchIcon\n\t\t\t\taria-hidden=\"true\"\n\t\t\t\tclassName={`formosa-icon--search ${iconClassName}`.trim()}\n\t\t\t\theight={iconHeight}\n\t\t\t\twidth={iconWidth}\n\t\t\t\t{...iconAttributes}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nSearch.propTypes = {\n\tclassName: PropTypes.string,\n\ticonAttributes: PropTypes.object,\n\ticonClassName: PropTypes.string,\n\ticonHeight: PropTypes.number,\n\ticonWidth: PropTypes.number,\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nSearch.defaultProps = {\n\tclassName: '',\n\ticonAttributes: null,\n\ticonClassName: '',\n\ticonHeight: 16,\n\ticonWidth: 16,\n\twrapperAttributes: null,\n\twrapperClassName: '',\n};\n","import React, { useContext, useEffect, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport Api from '../Helpers/Api';\nimport { ReactComponent as CaretIcon } from '../../svg/caret.svg';\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport { normalizeOptions } from '../Helpers/Options';\nimport PropTypes from 'prop-types';\n\nexport default function Select({\n\tafterChange,\n\tclassName,\n\thideBlank,\n\ticonAttributes,\n\ticonClassName,\n\ticonHeight,\n\ticonWidth,\n\tid,\n\tlabelKey,\n\tloadingText,\n\tmultiple,\n\tname,\n\toptionAttributes,\n\toptions,\n\tsetValue,\n\tshowLoading,\n\turl,\n\tvalue,\n\tvalueKey,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\tconst [optionValues, setOptionValues] = useState(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\tconst [isLoading, setIsLoading] = useState(showLoading || !!url);\n\tconst [loadError, setLoadError] = useState('');\n\tconst api = Api.instance();\n\n\tuseEffect(() => {\n\t\tif (url) {\n\t\t\tapi(url, false)\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(error, 'errors')) {\n\t\t\t\t\t\tsetLoadError(error.errors.map((e) => (e.title)).join(' '));\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsetOptionValues(normalizeOptions(response, labelKey, valueKey));\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\t}, [url]);\n\n\tuseEffect(() => {\n\t\tsetOptionValues(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\t}, [options]);\n\n\tuseEffect(() => {\n\t\tsetIsLoading(showLoading);\n\t}, [showLoading]);\n\n\tif (isLoading) {\n\t\treturn (<div className=\"formosa-spinner\" role=\"status\">{loadingText}</div>);\n\t}\n\n\tif (loadError) {\n\t\treturn (<div className=\"formosa-field__error\">{loadError}</div>);\n\t}\n\n\tlet currentValue = multiple ? [] : '';\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<Select> component must be inside a <Form> component.');\n\t\t}\n\t\tcurrentValue = get(formState.row, name);\n\t}\n\tif (currentValue === null || currentValue === undefined) {\n\t\tcurrentValue = multiple ? [] : '';\n\t}\n\tif (typeof currentValue === 'object' && !multiple) {\n\t\tcurrentValue = JSON.stringify(currentValue);\n\t}\n\n\tconst onChange = (e) => {\n\t\tlet newValue;\n\t\tif (multiple) {\n\t\t\tnewValue = Array.from(e.target.options).filter((option) => (option.selected)).map((option) => (option.value));\n\t\t} else {\n\t\t\tnewValue = e.target.value;\n\t\t\tconst option = e.target.querySelector(`[value=\"${newValue.replace(/\"/g, '\\\\\"')}\"]`);\n\t\t\tif (option.getAttribute('data-json') === 'true') {\n\t\t\t\tnewValue = JSON.parse(newValue);\n\t\t\t}\n\t\t}\n\n\t\tif (setValue) {\n\t\t\tsetValue(newValue, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\t};\n\n\tconst props = {};\n\tif (id || name) {\n\t\tprops.id = id || name;\n\t}\n\tif (name) {\n\t\tprops.name = name;\n\t}\n\tif (multiple) {\n\t\tprops.multiple = true;\n\t}\n\n\treturn (\n\t\t<div className={`formosa-select-wrapper ${wrapperClassName}`.trim()} {...wrapperAttributes}>\n\t\t\t<select\n\t\t\t\tclassName={`formosa-field__input formosa-field__input--select ${className}`.trim()}\n\t\t\t\tonChange={onChange}\n\t\t\t\tvalue={currentValue}\n\t\t\t\t{...props}\n\t\t\t\t{...otherProps}\n\t\t\t>\n\t\t\t\t{!hideBlank && !multiple && <option value=\"\" />}\n\t\t\t\t{optionValues.map((optionValue) => {\n\t\t\t\t\tlet optionValueVal = optionValue.value;\n\t\t\t\t\tlet isJson = false;\n\t\t\t\t\tif (typeof optionValueVal === 'object') {\n\t\t\t\t\t\tisJson = true;\n\t\t\t\t\t\toptionValueVal = JSON.stringify(optionValueVal);\n\t\t\t\t\t}\n\n\t\t\t\t\tlet optionProps = {};\n\t\t\t\t\tif (typeof optionAttributes === 'function') {\n\t\t\t\t\t\toptionProps = optionAttributes(optionValue);\n\t\t\t\t\t} else if (optionAttributes && typeof optionAttributes === 'object') {\n\t\t\t\t\t\toptionProps = optionAttributes;\n\t\t\t\t\t}\n\t\t\t\t\tif (isJson) {\n\t\t\t\t\t\toptionProps['data-json'] = true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<option key={optionValueVal} value={optionValueVal} {...optionProps}>{optionValue.label}</option>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</select>\n\t\t\t{!multiple && (\n\t\t\t\t<CaretIcon\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tclassName={`formosa-icon--caret ${iconClassName}`.trim()}\n\t\t\t\t\theight={iconHeight}\n\t\t\t\t\twidth={iconWidth}\n\t\t\t\t\t{...iconAttributes}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nSelect.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\thideBlank: PropTypes.bool,\n\ticonAttributes: PropTypes.object,\n\ticonClassName: PropTypes.string,\n\ticonHeight: PropTypes.number,\n\ticonWidth: PropTypes.number,\n\tid: PropTypes.string,\n\tlabelKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tloadingText: PropTypes.string,\n\tmultiple: PropTypes.bool,\n\tname: PropTypes.string,\n\toptionAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\toptions: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]),\n\tsetValue: PropTypes.func,\n\tshowLoading: PropTypes.bool,\n\turl: PropTypes.string,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\tvalueKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nSelect.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\thideBlank: false,\n\ticonAttributes: null,\n\ticonClassName: '',\n\ticonHeight: 16,\n\ticonWidth: 16,\n\tid: null,\n\tlabelKey: 'name',\n\tloadingText: 'Loading...',\n\tmultiple: false,\n\tname: '',\n\toptionAttributes: null,\n\toptions: null,\n\tsetValue: null,\n\tshowLoading: false,\n\turl: null,\n\tvalue: null,\n\tvalueKey: null,\n\twrapperAttributes: null,\n\twrapperClassName: '',\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\n\nexport default function Textarea({\n\tafterChange,\n\tclassName,\n\tid,\n\tname,\n\tsetValue,\n\tvalue,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\n\tlet currentValue = '';\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<Textarea> component must be inside a <Form> component.');\n\t\t}\n\t\tcurrentValue = get(formState.row, name);\n\t}\n\tif (currentValue === null || currentValue === undefined) {\n\t\tcurrentValue = '';\n\t}\n\n\tconst onChange = (e) => {\n\t\tconst newValue = e.target.value;\n\t\tif (setValue) {\n\t\t\tsetValue(newValue, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\t};\n\n\tconst props = {};\n\tif (id || name) {\n\t\tprops.id = id || name;\n\t}\n\tif (name) {\n\t\tprops.name = name;\n\t}\n\n\treturn (\n\t\t<textarea\n\t\t\tclassName={`formosa-field__input formosa-field__input--textarea ${className}`.trim()}\n\t\t\tonChange={onChange}\n\t\t\tvalue={currentValue}\n\t\t\t{...props}\n\t\t\t{...otherProps}\n\t\t/>\n\t);\n}\n\nTextarea.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\tid: PropTypes.string,\n\tname: PropTypes.string,\n\tsetValue: PropTypes.func,\n\tvalue: PropTypes.string,\n};\n\nTextarea.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\tid: null,\n\tname: '',\n\tsetValue: null,\n\tvalue: null,\n};\n","import Autocomplete from './Input/Autocomplete';\nimport Checkbox from './Input/Checkbox';\nimport CheckboxList from './Input/CheckboxList';\nimport File from './Input/File';\nimport Input from './Input';\nimport Password from './Input/Password';\nimport Radio from './Input/Radio';\nimport Search from './Input/Search';\nimport Select from './Input/Select';\nimport Textarea from './Input/Textarea';\n\nexport default (type, component) => {\n\tif (component) {\n\t\treturn component;\n\t}\n\tif (type === 'select') {\n\t\treturn Select;\n\t}\n\tif (type === 'textarea') {\n\t\treturn Textarea;\n\t}\n\tif (type === 'radio') {\n\t\treturn Radio;\n\t}\n\tif (type === 'checkbox') {\n\t\treturn Checkbox;\n\t}\n\tif (type === 'password') {\n\t\treturn Password;\n\t}\n\tif (type === 'search') {\n\t\treturn Search;\n\t}\n\tif (type === 'autocomplete') {\n\t\treturn Autocomplete;\n\t}\n\tif (type === 'file') {\n\t\treturn File;\n\t}\n\tif (type === 'checkbox-list') {\n\t\treturn CheckboxList;\n\t}\n\treturn Input;\n};\n","import getInputElement from './FieldInput';\nimport PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default function ExportableInput({\n\tcomponent,\n\ttype,\n\t...otherProps\n}) {\n\tconst InputComponent = getInputElement(type, component);\n\treturn (\n\t\t<InputComponent type={type} {...otherProps} />\n\t);\n}\n\nExportableInput.propTypes = {\n\tcomponent: PropTypes.func,\n\ttype: PropTypes.string,\n};\n\nExportableInput.defaultProps = {\n\tcomponent: null,\n\ttype: 'text',\n};\n","import PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default function Label({\n\tclassName,\n\thtmlFor,\n\tlabel,\n\tnote,\n\trequired,\n\ttype,\n\t...otherProps\n}) {\n\tlet labelClassName = 'formosa-label';\n\tif (required) {\n\t\tlabelClassName += ' formosa-label--required';\n\t}\n\n\tlet wrapperClassName = 'formosa-label-wrapper';\n\tif (type === 'checkbox') {\n\t\twrapperClassName += ' formosa-label-wrapper--checkbox';\n\t}\n\n\tconst hasFieldset = ['radio', 'checkbox-list'].includes(type);\n\tconst props = {};\n\tif (htmlFor && !hasFieldset) {\n\t\tprops.htmlFor = htmlFor;\n\t}\n\tif (hasFieldset) {\n\t\tprops['aria-hidden'] = true;\n\t}\n\n\treturn (\n\t\t<div className={wrapperClassName}>\n\t\t\t<label className={`${labelClassName} ${className}`.trim()} {...props} {...otherProps}>{label}</label>\n\t\t\t{note && <span className=\"formosa-label__note\">{note}</span>}\n\t\t</div>\n\t);\n}\n\nLabel.propTypes = {\n\tclassName: PropTypes.string,\n\thtmlFor: PropTypes.string,\n\tlabel: PropTypes.string,\n\tnote: PropTypes.string,\n\trequired: PropTypes.bool,\n\ttype: PropTypes.string,\n};\n\nLabel.defaultProps = {\n\tclassName: '',\n\thtmlFor: '',\n\tlabel: '',\n\tnote: '',\n\trequired: false,\n\ttype: '',\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport ConditionalWrapper from './ConditionalWrapper';\nimport Error from './Error';\nimport FormContext from './FormContext';\nimport getInputElement from './FieldInput';\nimport Label from './Label';\nimport PropTypes from 'prop-types';\n\nexport default function Field({\n\tcomponent,\n\tdisabled,\n\tid,\n\tinputInnerWrapperAttributes,\n\tinputInnerWrapperClassName,\n\tinputWrapperAttributes,\n\tinputWrapperClassName,\n\tlabel,\n\tlabelAttributes,\n\tlabelClassName,\n\tlabelNote,\n\tlabelPosition,\n\tname,\n\tnote,\n\tprefix,\n\tpostfix,\n\treadOnly,\n\trequired,\n\tsuffix,\n\ttype,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\tconst { formState } = useContext(FormContext);\n\n\tconst inputProps = { ...otherProps };\n\tif (id) {\n\t\tinputProps.id = id;\n\t}\n\tif (name) {\n\t\tinputProps.name = name;\n\t}\n\tif (disabled) {\n\t\tinputProps.disabled = disabled;\n\t}\n\tif (readOnly) {\n\t\tinputProps.readOnly = readOnly;\n\t}\n\tif (required) {\n\t\tinputProps.required = required;\n\t}\n\tif (suffix) {\n\t\tinputProps.suffix = suffix;\n\t}\n\tif (type) {\n\t\tinputProps.type = type;\n\t\tif (readOnly && type === 'number') {\n\t\t\tinputProps.type = 'text';\n\t\t}\n\t\tif (['radio', 'checkbox-list'].includes(type) && !inputProps.legend) {\n\t\t\tinputProps.legend = label;\n\t\t}\n\t}\n\n\tconst InputComponent = getInputElement(type, component);\n\tconst input = (\n\t\t<InputComponent {...inputProps} />\n\t);\n\n\tif (type === 'hidden') {\n\t\treturn input;\n\t}\n\n\tconst htmlFor = id || name;\n\n\tconst labelComponent = (\n\t\t<Label\n\t\t\tclassName={labelClassName}\n\t\t\thtmlFor={htmlFor}\n\t\t\tlabel={label}\n\t\t\tnote={labelNote}\n\t\t\trequired={required}\n\t\t\ttype={type}\n\t\t\t{...labelAttributes}\n\t\t/>\n\t);\n\n\tconst hasError = formState && name && Object.prototype.hasOwnProperty.call(formState.errors, name);\n\n\tconst cleanName = htmlFor.replace(/[^a-z0-9_-]/gi, '');\n\tconst wrapperClassNameList = ['formosa-field'];\n\tif (cleanName) {\n\t\twrapperClassNameList.push(`formosa-field--${cleanName}`);\n\t}\n\tif (wrapperClassName) {\n\t\twrapperClassNameList.push(wrapperClassName);\n\t}\n\tif (hasError) {\n\t\twrapperClassNameList.push('formosa-field--has-error');\n\t}\n\tif (disabled) {\n\t\twrapperClassNameList.push('formosa-field--disabled');\n\t}\n\tif (readOnly) {\n\t\twrapperClassNameList.push('formosa-field--read-only');\n\t}\n\tif (prefix) {\n\t\twrapperClassNameList.push('formosa-field--has-prefix');\n\t}\n\tif (postfix) {\n\t\twrapperClassNameList.push('formosa-field--has-postfix');\n\t}\n\tif (labelPosition === 'after') {\n\t\twrapperClassNameList.push('formosa-field--label-after');\n\t}\n\n\tconst inputWrapperClassNameList = ['formosa-input-wrapper', `formosa-input-wrapper--${type}`];\n\tif (inputWrapperClassName) {\n\t\tinputWrapperClassNameList.push(inputWrapperClassName);\n\t}\n\tif (suffix) {\n\t\tinputWrapperClassNameList.push('formosa-field--has-suffix');\n\t}\n\n\tconst inputInnerWrapperClassNameList = ['formosa-input-inner-wrapper'];\n\tif (inputInnerWrapperClassName) {\n\t\tinputInnerWrapperClassNameList.push(inputInnerWrapperClassName);\n\t}\n\n\treturn (\n\t\t<div className={wrapperClassNameList.join(' ')} {...wrapperAttributes}>\n\t\t\t{label && labelPosition === 'before' && labelComponent}\n\t\t\t{label && labelPosition === 'after' && <div className=\"formosa-label-wrapper\" />}\n\t\t\t<div className={inputWrapperClassNameList.join(' ')} {...inputWrapperAttributes}>\n\t\t\t\t<ConditionalWrapper\n\t\t\t\t\tclassName={inputInnerWrapperClassNameList.join(' ')}\n\t\t\t\t\tcondition={!!prefix || !!postfix}\n\t\t\t\t\t{...inputInnerWrapperAttributes}\n\t\t\t\t>\n\t\t\t\t\t{prefix}\n\t\t\t\t\t{input}\n\t\t\t\t\t{label && labelPosition === 'after' && labelComponent}\n\t\t\t\t\t{note && (\n\t\t\t\t\t\t<div className=\"formosa-field__note\">{note}</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{postfix}\n\t\t\t\t</ConditionalWrapper>\n\t\t\t\t{formState && formState.showInlineErrors && <Error id={id} name={name} />}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nField.propTypes = {\n\tcomponent: PropTypes.func,\n\tdisabled: PropTypes.bool,\n\tid: PropTypes.string,\n\tinputInnerWrapperAttributes: PropTypes.object,\n\tinputInnerWrapperClassName: PropTypes.string,\n\tinputWrapperAttributes: PropTypes.object,\n\tinputWrapperClassName: PropTypes.string,\n\tlabel: PropTypes.string,\n\tlabelAttributes: PropTypes.object,\n\tlabelClassName: PropTypes.string,\n\tlabelNote: PropTypes.string,\n\tlabelPosition: PropTypes.string,\n\tname: PropTypes.string,\n\tnote: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\tprefix: PropTypes.node,\n\tpostfix: PropTypes.node,\n\treadOnly: PropTypes.bool,\n\trequired: PropTypes.bool,\n\tsuffix: PropTypes.string,\n\ttype: PropTypes.string,\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nField.defaultProps = {\n\tcomponent: null,\n\tdisabled: false,\n\tid: null,\n\tinputInnerWrapperAttributes: {},\n\tinputInnerWrapperClassName: '',\n\tinputWrapperAttributes: {},\n\tinputWrapperClassName: '',\n\tlabel: '',\n\tlabelAttributes: {},\n\tlabelClassName: '',\n\tlabelNote: '',\n\tlabelPosition: 'before',\n\tname: '',\n\tnote: '',\n\tprefix: null,\n\tpostfix: null,\n\treadOnly: false,\n\trequired: false,\n\tsuffix: '',\n\ttype: 'text',\n\twrapperAttributes: {},\n\twrapperClassName: '',\n};\n","import React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default React.createContext(\n\t{\n\t\ttoasts: {},\n\t\tshowWarningPrompt: true,\n\t\taddToast: () => {},\n\t\tremoveToast: () => {},\n\t\tdisableWarningPrompt: () => {},\n\t\tenableWarningPrompt: () => {},\n\t}\n);\n","import get from 'get-value';\nimport set from 'set-value';\n\nexport const getSimpleRecord = (record) => ({\n\tid: record.id,\n\ttype: record.type,\n});\n\nexport const cleanRelationship = (values) => {\n\tif (Array.isArray(values)) {\n\t\treturn values.map((value) => getSimpleRecord(value));\n\t}\n\treturn getSimpleRecord(values);\n};\n\nexport const cleanRecord = (record) => {\n\tconst hasAttributes = Object.keys(record.attributes).length > 0;\n\tif (!hasAttributes) {\n\t\tdelete record.attributes;\n\t}\n\n\tconst hasRelationships = Object.keys(record.relationships).length > 0;\n\tif (!hasRelationships) {\n\t\tdelete record.relationships;\n\t}\n\n\tif (!hasAttributes && !hasRelationships && !record.id.startsWith('temp-')) {\n\t\treturn null;\n\t}\n\n\treturn record;\n};\n\nexport const filterByKey = (relationshipNames, key) => {\n\tconst output = [];\n\trelationshipNames.forEach((relName) => {\n\t\tif (relName.startsWith(`${key}.`)) {\n\t\t\tconst keys = relName.split('.');\n\t\t\tkeys.shift();\n\t\t\toutput.push(keys.join('.'));\n\t\t}\n\t});\n\treturn output;\n};\n\nexport const getDirtyRecords = (record, relationshipNames, dirtyRelationships) => {\n\tlet otherRecords = [];\n\tconst output = getSimpleRecord(record);\n\toutput.attributes = {};\n\toutput.relationships = {};\n\n\tObject.keys(record).forEach((key) => {\n\t\tif (key !== 'id' && key !== 'type') {\n\t\t\tif (Object.prototype.hasOwnProperty.call(dirtyRelationships, key)) {\n\t\t\t\tif (relationshipNames.includes(key)) {\n\t\t\t\t\tif (Array.isArray(record[key])) {\n\t\t\t\t\t\t// This is an array relationship.\n\t\t\t\t\t\tconst data = [];\n\t\t\t\t\t\trecord[key].forEach((rel, relIndex) => {\n\t\t\t\t\t\t\tif (typeof dirtyRelationships[key][relIndex] !== 'undefined') {\n\t\t\t\t\t\t\t\t// eslint-disable-next-line no-use-before-define\n\t\t\t\t\t\t\t\tconst x = getIncludedRecordData(rel, filterByKey(relationshipNames, key), dirtyRelationships[key][relIndex]);\n\t\t\t\t\t\t\t\totherRecords = otherRecords.concat(x);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdata.push(getSimpleRecord(rel));\n\t\t\t\t\t\t});\n\t\t\t\t\t\tset(output.relationships, key, { data });\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// This is an object relationship.\n\t\t\t\t\t\t// eslint-disable-next-line no-use-before-define\n\t\t\t\t\t\tconst x = getIncludedRecordData(record[key], filterByKey(relationshipNames, key), dirtyRelationships[key]);\n\t\t\t\t\t\tconst data = x.shift();\n\t\t\t\t\t\totherRecords = otherRecords.concat(x);\n\t\t\t\t\t\tset(output.relationships, key, { data });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// This is an attribute.\n\t\t\t\t\tset(output.attributes, key, record[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tconst rec = cleanRecord(output);\n\tif (rec !== null) {\n\t\totherRecords.unshift(rec);\n\t}\n\n\treturn otherRecords;\n};\n\nexport const getIncludedRecordData = (record, relationshipNames, dirtyRelationships) => {\n\t// This is a new record; include all attributes.\n\tif (record.id.startsWith('temp-')) {\n\t\treturn getDirtyRecords(record, relationshipNames, dirtyRelationships);\n\t}\n\n\t// This is an existing record with no changes; don't include it.\n\tif (typeof dirtyRelationships === 'undefined') {\n\t\treturn [];\n\t}\n\n\t// This is an existing record with no changes, but it's part of a relationship; include only the id/type.\n\tif (Object.keys(dirtyRelationships).length <= 0) {\n\t\treturn [getSimpleRecord(record)];\n\t}\n\n\t// This is an existing record with changes; include all the dirty attributes and relationships.\n\treturn getDirtyRecords(record, relationshipNames, dirtyRelationships);\n};\n\nexport const getDirtyRelationships = (dirtyKeys) => {\n\tconst output = {};\n\tdirtyKeys.forEach((key) => {\n\t\tconst currentKeys = [];\n\t\tkey.split('.').forEach((k) => {\n\t\t\tcurrentKeys.push(k);\n\t\t\tif (typeof get(output, currentKeys.join('.')) === 'undefined') {\n\t\t\t\tset(output, currentKeys.join('.'), {});\n\t\t\t}\n\t\t});\n\t});\n\treturn output;\n};\n\nexport const getIncludedRecords = (data, dirtyKeys, relationshipNames) => {\n\tlet output = [];\n\tif (dirtyKeys.length <= 0) {\n\t\treturn output;\n\t}\n\n\tconst dirtyRelationships = getDirtyRelationships(dirtyKeys);\n\n\t// For each dirty relationship, add the dirty records to the output.\n\tObject.keys(dirtyRelationships).forEach((relName) => {\n\t\tif (Object.prototype.hasOwnProperty.call(data.relationships, relName)) {\n\t\t\tif (Array.isArray(data.relationships[relName].data)) {\n\t\t\t\t// This is an array relationship.\n\t\t\t\tObject.keys(data.relationships[relName].data).forEach((relIndex) => {\n\t\t\t\t\tconst record = data.relationships[relName].data[relIndex];\n\t\t\t\t\tif (record) {\n\t\t\t\t\t\tconst records = getIncludedRecordData(record, filterByKey(relationshipNames, relName), dirtyRelationships[relName][relIndex]);\n\t\t\t\t\t\toutput = output.concat(records);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// This is an object relationship.\n\t\t\t\tconst record = data.relationships[relName].data;\n\t\t\t\tif (record) {\n\t\t\t\t\tconst records = getIncludedRecordData(record, filterByKey(relationshipNames, relName), dirtyRelationships[relName]);\n\t\t\t\t\toutput = output.concat(records);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t// Remove records with only an id/type.\n\treturn output.filter((record) => (Object.keys(record).length > 2));\n};\n\nexport const unset = (obj, key) => {\n\tif (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t\treturn delete obj[key];\n\t}\n\n\tconst keys = key.split('.');\n\tconst lastKey = keys.pop();\n\tlet o = obj;\n\tkeys.forEach((k) => {\n\t\to = o[k];\n\t});\n\treturn delete o[lastKey];\n};\n\nexport const appendToFormData = (obj, formData, prefix = '') => {\n\tObject.entries(obj).forEach((entry) => {\n\t\tconst [key, value] = entry;\n\t\tconst newKey = prefix ? `${prefix}[${key}]` : key;\n\t\tif (typeof value === 'object') {\n\t\t\tformData = appendToFormData(value, formData, newKey);\n\t\t} else {\n\t\t\tformData.append(newKey, JSON.stringify(value));\n\t\t}\n\t});\n\treturn formData;\n};\n\nexport const getBody = ( // eslint-disable-line import/prefer-default-export\n\tmethod,\n\ttype,\n\tid,\n\tformState,\n\tdirtyKeys,\n\trelationshipNames,\n\tfilterBody = null,\n\tfilterValues = null\n) => {\n\tlet body = null;\n\n\tif (method === 'PUT' || method === 'POST') {\n\t\t// Initialize the basic body structure.\n\t\tconst data = {\n\t\t\ttype,\n\t\t\tattributes: {},\n\t\t\trelationships: {},\n\t\t\tmeta: {},\n\t\t};\n\t\tif (method === 'PUT' && id) {\n\t\t\tdata.id = id;\n\t\t}\n\n\t\t// Allow the app to modify values before they are sorted into sections.\n\t\tlet values = { ...formState.row };\n\t\tif (filterValues) {\n\t\t\tvalues = filterValues(values);\n\t\t}\n\n\t\t// Get keys for file fields.\n\t\tconst fileKeys = Object.keys(formState.files);\n\n\t\t// If this is an update request, only include keys for changed values.\n\t\t// Otherwise (this must be an add request), include keys for all values.\n\t\tconst keys = method === 'PUT' ? dirtyKeys : Object.keys(formState.row);\n\n\t\t// Sort each value into the proper section.\n\t\tkeys.forEach((key) => {\n\t\t\tconst firstPartOfKey = key.replace(/\\..+$/, '');\n\t\t\tif (relationshipNames.includes(firstPartOfKey)) {\n\t\t\t\tdata.relationships[firstPartOfKey] = {\n\t\t\t\t\tdata: get(values, firstPartOfKey),\n\t\t\t\t};\n\t\t\t} else if (relationshipNames.includes(key)) {\n\t\t\t\tdata.relationships[key] = {\n\t\t\t\t\tdata: get(values, firstPartOfKey),\n\t\t\t\t};\n\t\t\t} else if (key.startsWith('meta.')) {\n\t\t\t\tset(data, key, get(values, key));\n\t\t\t} else if (key === 'meta') {\n\t\t\t\tdata.meta = values.meta;\n\t\t\t} else if (fileKeys.includes(key)) {\n\t\t\t\tunset(data.attributes, key);\n\t\t\t} else {\n\t\t\t\tset(data.attributes, key, get(values, key));\n\t\t\t}\n\t\t});\n\n\t\tbody = { data };\n\n\t\tconst included = getIncludedRecords(data, dirtyKeys, relationshipNames);\n\t\tif (included.length > 0) {\n\t\t\tbody.included = included;\n\t\t}\n\n\t\tObject.keys(data.relationships).forEach((relationshipName) => {\n\t\t\tif (typeof data.relationships[relationshipName].data === 'string') {\n\t\t\t\tif (data.relationships[relationshipName].data === '') {\n\t\t\t\t\tdata.relationships[relationshipName].data = null;\n\t\t\t\t} else {\n\t\t\t\t\tdata.relationships[relationshipName].data = JSON.parse(data.relationships[relationshipName].data);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (data.relationships[relationshipName].data) {\n\t\t\t\tdata.relationships[relationshipName].data = cleanRelationship(data.relationships[relationshipName].data);\n\t\t\t}\n\t\t});\n\n\t\t// Allow the app to modify values after they have been sorted into sections.\n\t\tif (filterBody) {\n\t\t\tbody = filterBody(body, formState.row);\n\t\t}\n\n\t\t// Remove any sections with no values.\n\t\tif (Object.keys(data.attributes).length <= 0) {\n\t\t\tdelete data.attributes;\n\t\t}\n\t\tif (Object.keys(data.meta).length <= 0) {\n\t\t\tdelete data.meta;\n\t\t}\n\t\tif (Object.keys(data.relationships).length <= 0) {\n\t\t\tdelete data.relationships;\n\t\t}\n\n\t\t// Handle file fields.\n\t\tconst filenames = fileKeys.filter((filename) => (formState.files[filename] !== false));\n\t\tif (filenames.length > 0) {\n\t\t\tconst formData = appendToFormData(body, new FormData());\n\t\t\tformData.append('meta[files]', JSON.stringify(filenames));\n\n\t\t\tfilenames.forEach((filename) => {\n\t\t\t\tformData.append(filename, formState.files[filename]);\n\t\t\t});\n\n\t\t\tbody = formData;\n\t\t}\n\t}\n\n\treturn body;\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport Alert from './Alert';\nimport Api from './Helpers/Api';\nimport FormContext from './FormContext';\nimport FormosaContext from './FormosaContext';\nimport { getBody } from './Helpers/JsonApi';\nimport PropTypes from 'prop-types';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport default function FormInner({\n\tafterNoSubmit,\n\tbeforeSubmit,\n\tchildren,\n\tclearOnSubmit,\n\tdefaultRow,\n\terrorMessageText,\n\terrorToastText,\n\tfilterBody,\n\tfilterValues,\n\thtmlId,\n\tid,\n\tmethod,\n\tparams,\n\tpath,\n\tpreventEmptyRequest,\n\tpreventEmptyRequestText,\n\trelationshipNames,\n\tshowMessage,\n\tsuccessMessageText,\n\tsuccessToastText,\n\t...otherProps\n}) {\n\tconst { formState, setFormState, getDirtyKeys } = useContext(FormContext);\n\tconst { addToast } = useContext(FormosaContext);\n\n\tconst submitApiRequest = (e) => {\n\t\te.preventDefault();\n\n\t\tconst dirtyKeys = getDirtyKeys();\n\t\tif (preventEmptyRequest && dirtyKeys.length <= 0) {\n\t\t\tif (preventEmptyRequestText) {\n\t\t\t\taddToast(preventEmptyRequestText);\n\t\t\t}\n\t\t\tif (afterNoSubmit) {\n\t\t\t\tafterNoSubmit();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (beforeSubmit && !beforeSubmit(e)) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet url = path;\n\t\tif (id) {\n\t\t\turl = `${path}/${id}`;\n\t\t}\n\t\tif (params) {\n\t\t\turl += `?${params}`;\n\t\t}\n\n\t\tconst body = getBody(\n\t\t\tmethod,\n\t\t\tpath,\n\t\t\tid,\n\t\t\tformState,\n\t\t\tdirtyKeys,\n\t\t\trelationshipNames,\n\t\t\tfilterBody,\n\t\t\tfilterValues\n\t\t);\n\n\t\tsetFormState({\n\t\t\t...formState,\n\t\t\talertClass: '',\n\t\t\talertText: '',\n\t\t\terrors: {},\n\t\t\tresponse: null,\n\t\t\ttoastClass: '',\n\t\t\ttoastText: '',\n\t\t});\n\n\t\tconst bodyString = body instanceof FormData ? body : JSON.stringify(body);\n\n\t\tApi.request(method, url, bodyString)\n\t\t\t.catch((response) => {\n\t\t\t\tif (!Object.prototype.hasOwnProperty.call(response, 'errors') || !Array.isArray(response.errors)) {\n\t\t\t\t\t// This is not a JSON:API-style error response.\n\t\t\t\t\tthrow response;\n\t\t\t\t}\n\n\t\t\t\tconst errors = {};\n\t\t\t\tlet key;\n\t\t\t\tresponse.errors.forEach((error) => {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(error, 'source')) {\n\t\t\t\t\t\tkey = error.source.pointer.replace('/data/attributes/', '');\n\t\t\t\t\t\tkey = key.replace('/data/meta/', 'meta.');\n\t\t\t\t\t\tif (key.startsWith('/included/')) {\n\t\t\t\t\t\t\tconst i = key.replace(/^\\/included\\/(\\d+)\\/.+$/g, '$1');\n\t\t\t\t\t\t\tconst includedRecord = body.included[parseInt(i, 10)];\n\t\t\t\t\t\t\tkey = key.replace(/^\\/included\\/(\\d+)\\//g, `included.${includedRecord.type}.${includedRecord.id}.`);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tkey = key.replace(/\\//g, '.');\n\t\t\t\t\t\tif (!document.querySelector(`[data-name=\"${key}\"].formosa-field__error`)) {\n\t\t\t\t\t\t\tkey = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tkey = '';\n\t\t\t\t\t}\n\t\t\t\t\tif (!Object.prototype.hasOwnProperty.call(errors, key)) {\n\t\t\t\t\t\terrors[key] = [];\n\t\t\t\t\t}\n\t\t\t\t\terrors[key].push(error.title);\n\t\t\t\t});\n\n\t\t\t\tsetFormState({\n\t\t\t\t\t...formState,\n\t\t\t\t\talertClass: 'error',\n\t\t\t\t\talertText: typeof errorMessageText === 'function' ? errorMessageText(response) : errorMessageText,\n\t\t\t\t\terrors,\n\t\t\t\t\tresponse,\n\t\t\t\t\ttoastClass: 'error',\n\t\t\t\t\ttoastText: typeof errorToastText === 'function' ? errorToastText(response) : errorToastText,\n\t\t\t\t\tuuid: uuidv4(),\n\t\t\t\t});\n\t\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tif (!response) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst newState = {\n\t\t\t\t\t...formState,\n\t\t\t\t\talertClass: 'success',\n\t\t\t\t\talertText: typeof successMessageText === 'function' ? successMessageText(response) : successMessageText,\n\t\t\t\t\terrors: {},\n\t\t\t\t\tresponse,\n\t\t\t\t\ttoastClass: 'success',\n\t\t\t\t\ttoastText: typeof successToastText === 'function' ? successToastText(response) : successToastText,\n\t\t\t\t\tuuid: uuidv4(),\n\t\t\t\t};\n\n\t\t\t\tif (clearOnSubmit) {\n\t\t\t\t\tnewState.originalRow = JSON.parse(JSON.stringify(defaultRow)); // Deep copy.\n\t\t\t\t\tnewState.row = JSON.parse(JSON.stringify(defaultRow)); // Deep copy.\n\t\t\t\t\tif (formState.setRow) {\n\t\t\t\t\t\tformState.setRow(newState.row);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tnewState.originalRow = JSON.parse(JSON.stringify(formState.row)); // Deep copy.\n\t\t\t\t}\n\n\t\t\t\tsetFormState(newState);\n\t\t\t});\n\t};\n\tif (method && path && !Object.prototype.hasOwnProperty.call(otherProps, 'onSubmit')) {\n\t\totherProps.onSubmit = submitApiRequest;\n\t}\n\tif (htmlId) {\n\t\totherProps.id = htmlId;\n\t}\n\n\treturn (\n\t\t<form {...otherProps}>\n\t\t\t{showMessage && formState.alertText && (<Alert type={formState.alertClass}>{formState.alertText}</Alert>)}\n\t\t\t{children}\n\t\t</form>\n\t);\n}\n\nFormInner.propTypes = {\n\tafterNoSubmit: PropTypes.func,\n\tbeforeSubmit: PropTypes.func,\n\tchildren: PropTypes.node,\n\tclearOnSubmit: PropTypes.bool,\n\tdefaultRow: PropTypes.object,\n\terrorMessageText: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\terrorToastText: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tfilterBody: PropTypes.func,\n\tfilterValues: PropTypes.func,\n\thtmlId: PropTypes.string,\n\tid: PropTypes.string,\n\tmethod: PropTypes.string,\n\tparams: PropTypes.string,\n\tpath: PropTypes.string,\n\tpreventEmptyRequest: PropTypes.bool,\n\tpreventEmptyRequestText: PropTypes.oneOfType([\n\t\tPropTypes.bool,\n\t\tPropTypes.string,\n\t]),\n\trelationshipNames: PropTypes.array,\n\tshowMessage: PropTypes.bool,\n\tsuccessMessageText: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tsuccessToastText: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n};\n\nFormInner.defaultProps = {\n\tafterNoSubmit: null,\n\tbeforeSubmit: null,\n\tchildren: null,\n\tclearOnSubmit: false,\n\tdefaultRow: {},\n\terrorMessageText: '',\n\terrorToastText: '',\n\tfilterBody: null,\n\tfilterValues: null,\n\thtmlId: '',\n\tid: '',\n\tmethod: null,\n\tparams: '',\n\tpath: null,\n\tpreventEmptyRequest: false,\n\tpreventEmptyRequestText: 'No changes to save.',\n\trelationshipNames: [],\n\tshowMessage: true,\n\tsuccessMessageText: '',\n\tsuccessToastText: '',\n};\n","import React, { useContext, useEffect, useMemo, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormContext from './FormContext';\nimport FormInner from './FormInner';\nimport FormosaContext from './FormosaContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\nimport set from 'set-value';\n\nexport default function Form({\n\tafterSubmitFailure,\n\tafterSubmitSuccess,\n\tchildren,\n\trow,\n\tsetRow,\n\tshowInlineErrors,\n\t...otherProps\n}) {\n\tconst { addToast } = useContext(FormosaContext);\n\n\tconst setOriginalValue = (fs, setFs, key, value) => {\n\t\tconst newRow = { ...fs.originalRow };\n\t\tset(newRow, key, value);\n\t\tsetFs({\n\t\t\t...fs,\n\t\t\toriginalRow: JSON.parse(JSON.stringify(newRow)), // Deep copy.\n\t\t});\n\t};\n\n\tconst [formState, setFormState] = useState({\n\t\talertClass: '',\n\t\talertText: '',\n\t\terrors: {},\n\t\tfiles: {},\n\t\toriginalRow: JSON.parse(JSON.stringify(row)), // Deep copy.\n\t\trow,\n\t\tresponse: null,\n\t\tsetOriginalValue,\n\t\tsetRow,\n\t\tshowInlineErrors,\n\t\ttoastClass: '',\n\t\ttoastText: '',\n\t\tuuid: null,\n\t});\n\n\tuseEffect(() => {\n\t\tif (JSON.stringify(row) === JSON.stringify(formState.row)) {\n\t\t\treturn;\n\t\t}\n\t\tsetFormState({\n\t\t\t...formState,\n\t\t\trow,\n\t\t});\n\t});\n\n\tuseEffect(() => {\n\t\tif (!formState.uuid) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (formState.toastText) {\n\t\t\taddToast(formState.toastText, formState.toastClass);\n\t\t}\n\n\t\tif (formState.alertClass === 'success' && afterSubmitSuccess) {\n\t\t\tafterSubmitSuccess(formState.response, formState, setFormState);\n\t\t} else if (formState.alertClass === 'error' && afterSubmitFailure) {\n\t\t\tafterSubmitFailure(formState.response, formState, setFormState);\n\t\t}\n\t}, [formState.uuid]);\n\n\tconst getDirtyKeys = (r, originalRow) => {\n\t\tlet dirtyKeys = [];\n\n\t\tObject.keys(r).forEach((key) => {\n\t\t\t// Get the old and new values.\n\t\t\tlet oldValue = get(originalRow, key);\n\t\t\tlet newValue = get(r, key);\n\t\t\tconst isArray = Array.isArray(oldValue) || Array.isArray(newValue);\n\n\t\t\tif (isArray) {\n\t\t\t\tlet itemDirtyKeys;\n\t\t\t\tObject.keys(newValue).forEach((newIndex) => {\n\t\t\t\t\tconst oldIndex = oldValue ? oldValue.findIndex((o) => (o.id === newValue[newIndex].id)) : -1;\n\t\t\t\t\titemDirtyKeys = getDirtyKeys(newValue[newIndex], oldIndex > -1 ? oldValue[oldIndex] : {});\n\t\t\t\t\titemDirtyKeys = itemDirtyKeys.map((k2) => `${key}.${newIndex}.${k2}`);\n\t\t\t\t\tdirtyKeys = dirtyKeys.concat(itemDirtyKeys);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Stringify for easier comparison.\n\t\t\tif (typeof oldValue !== 'string') {\n\t\t\t\toldValue = JSON.stringify(oldValue);\n\t\t\t}\n\t\t\tif (typeof newValue !== 'string') {\n\t\t\t\tnewValue = JSON.stringify(newValue);\n\t\t\t}\n\n\t\t\tif (newValue !== oldValue) {\n\t\t\t\tdirtyKeys.push(key);\n\t\t\t}\n\t\t});\n\n\t\treturn dirtyKeys;\n\t};\n\n\tconst setValues = (e, name, value, afterChange = null, files = null) => {\n\t\tconst newRow = { ...formState.row };\n\t\tset(newRow, name, value);\n\n\t\tif (afterChange) {\n\t\t\tconst additionalChanges = afterChange(e, newRow, value);\n\t\t\tObject.keys(additionalChanges).forEach((key) => {\n\t\t\t\tset(newRow, key, additionalChanges[key]);\n\t\t\t});\n\t\t}\n\n\t\tconst newFormState = {\n\t\t\t...formState,\n\t\t\trow: newRow,\n\t\t};\n\t\tif (files !== null) {\n\t\t\tset(newFormState, `files.${name}`, files);\n\t\t}\n\n\t\tsetFormState(newFormState);\n\t\tif (formState.setRow) {\n\t\t\tformState.setRow(newRow);\n\t\t}\n\t};\n\n\tconst value = useMemo(() => ({\n\t\tformState,\n\t\tsetFormState,\n\t\tclearAlert: () => (setFormState({ ...formState, alertText: '', alertClass: '' })),\n\t\tclearErrors: () => (setFormState({ ...formState, errors: {} })),\n\t\tgetDirtyKeys: () => (getDirtyKeys(formState.row, formState.originalRow)),\n\t\tsetValues,\n\t}), [formState]);\n\n\treturn (\n\t\t<FormContext.Provider value={value}>\n\t\t\t<FormInner {...otherProps}>\n\t\t\t\t{children}\n\t\t\t</FormInner>\n\t\t</FormContext.Provider>\n\t);\n}\n\nForm.propTypes = {\n\tafterSubmitFailure: PropTypes.func,\n\tafterSubmitSuccess: PropTypes.func,\n\tchildren: PropTypes.node,\n\trow: PropTypes.object,\n\tsetRow: PropTypes.func,\n\tshowInlineErrors: PropTypes.bool,\n};\n\nForm.defaultProps = {\n\tafterSubmitFailure: null,\n\tafterSubmitSuccess: null,\n\tchildren: null,\n\trow: {},\n\tsetRow: null,\n\tshowInlineErrors: true,\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport Alert from './Alert';\nimport FormContext from './FormContext';\n\nexport default function FormAlert({ ...otherProps }) {\n\tconst { formState } = useContext(FormContext);\n\n\tif (!formState.alertText) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Alert type={formState.alertClass} {...otherProps}>{formState.alertText}</Alert>\n\t);\n}\n","import PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\nimport { usePromiseTracker } from 'react-promise-tracker';\n\nexport default function Spinner({ loadingText }) {\n\tconst { promiseInProgress } = usePromiseTracker();\n\tif (!promiseInProgress) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<div className=\"formosa-spinner formosa-spinner--fullscreen\" role=\"status\">{loadingText}</div>\n\t);\n}\n\nSpinner.propTypes = {\n\tloadingText: PropTypes.string,\n};\n\nSpinner.defaultProps = {\n\tloadingText: 'Loading...',\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport { ReactComponent as CloseIcon } from '../svg/x.svg';\nimport FormosaContext from './FormosaContext';\nimport PropTypes from 'prop-types';\n\nexport default function Toast({\n\tclassName,\n\tid,\n\tmilliseconds,\n\ttext,\n}) {\n\tconst { removeToast } = useContext(FormosaContext);\n\n\treturn (\n\t\t<div aria-live=\"polite\" className={`formosa-toast ${className}`.trim()} role=\"alert\" style={{ animationDuration: `${milliseconds}ms` }}>\n\t\t\t<div className=\"formosa-toast__text\">{text}</div>\n\t\t\t<button className=\"formosa-toast__close\" onClick={() => (removeToast(id))} type=\"button\">\n\t\t\t\t<CloseIcon aria-hidden=\"true\" className=\"formosa-toast__close-icon\" height={12} width={12} />\n\t\t\t\tClose\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n\nToast.propTypes = {\n\tclassName: PropTypes.string,\n\tid: PropTypes.string.isRequired,\n\tmilliseconds: PropTypes.number.isRequired,\n\ttext: PropTypes.string.isRequired,\n};\n\nToast.defaultProps = {\n\tclassName: '',\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormosaContext from './FormosaContext';\nimport Toast from './Toast';\n\nexport default function ToastContainer() {\n\tconst { toasts } = useContext(FormosaContext);\n\treturn (\n\t\t<div className=\"formosa-toast-container\">\n\t\t\t{Object.keys(toasts).map((id) => (\n\t\t\t\t<Toast\n\t\t\t\t\tclassName={toasts[id].className}\n\t\t\t\t\tkey={id}\n\t\t\t\t\tid={id}\n\t\t\t\t\tmilliseconds={toasts[id].milliseconds}\n\t\t\t\t\ttext={toasts[id].text}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n","import React, { useMemo, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormosaContext from './FormosaContext';\nimport PropTypes from 'prop-types';\nimport Spinner from './Spinner';\nimport ToastContainer from './ToastContainer';\n\nexport default function FormContainer({ children, loadingText }) {\n\tconst [showWarningPrompt, setShowWarningPrompt] = useState(true);\n\tconst [toasts, setToasts] = useState({});\n\n\tconst removeToast = (toastId) => {\n\t\tconst newToasts = { ...toasts };\n\t\tif (Object.prototype.hasOwnProperty.call(toasts, toastId)) {\n\t\t\tdelete newToasts[toastId];\n\t\t\tsetToasts(newToasts);\n\t\t}\n\t};\n\n\tconst addToast = (text, type = '', milliseconds = 5000) => {\n\t\tconst toastId = new Date().getTime();\n\t\tconst toast = {\n\t\t\tclassName: type ? `formosa-toast--${type}` : '',\n\t\t\ttext,\n\t\t\tmilliseconds,\n\t\t};\n\t\tconst newToasts = {\n\t\t\t...toasts,\n\t\t\t[toastId]: toast,\n\t\t};\n\t\tsetToasts(newToasts);\n\t\tsetTimeout(() => {\n\t\t\tremoveToast(toastId);\n\t\t}, milliseconds);\n\t};\n\n\tconst disableWarningPrompt = () => {\n\t\tsetShowWarningPrompt(false);\n\t};\n\n\tconst enableWarningPrompt = () => {\n\t\tsetShowWarningPrompt(true);\n\t};\n\n\tconst value = useMemo(() => ({\n\t\ttoasts,\n\t\tshowWarningPrompt,\n\t\taddToast,\n\t\tremoveToast,\n\t\tdisableWarningPrompt,\n\t\tenableWarningPrompt,\n\t}), [toasts, showWarningPrompt]);\n\n\treturn (\n\t\t<FormosaContext.Provider value={value}>\n\t\t\t{children}\n\t\t\t<Spinner loadingText={loadingText} />\n\t\t\t<ToastContainer />\n\t\t</FormosaContext.Provider>\n\t);\n}\n\nFormContainer.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n\tloadingText: PropTypes.string,\n};\n\nFormContainer.defaultProps = {\n\tloadingText: 'Loading...',\n};\n","import PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default function Submit({\n\tclassName,\n\tlabel,\n\tprefix,\n\tpostfix,\n\t...otherProps\n}) {\n\treturn (\n\t\t<div className=\"formosa-field formosa-field--submit\">\n\t\t\t<div className=\"formosa-label-wrapper formosa-label-wrapper--submit\" />\n\t\t\t<div className=\"formosa-input-wrapper formosa-input-wrapper--submit\">\n\t\t\t\t{prefix}\n\t\t\t\t<button\n\t\t\t\t\tclassName={`formosa-button formosa-button--submit ${className}`.trim()}\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t{...otherProps}\n\t\t\t\t>\n\t\t\t\t\t{label}\n\t\t\t\t</button>\n\t\t\t\t{postfix}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nSubmit.propTypes = {\n\tclassName: PropTypes.string,\n\tlabel: PropTypes.string,\n\tprefix: PropTypes.node,\n\tpostfix: PropTypes.node,\n};\n\nSubmit.defaultProps = {\n\tclassName: '',\n\tlabel: 'Submit',\n\tprefix: null,\n\tpostfix: null,\n};\n"],"names":["Alert","_ref","className","children","type","otherProps","alertClass","React","createElement","_extends","role","propTypes","PropTypes","string","node","isRequired","defaultProps","findIncluded","included","id","mainRecord","output","Object","prototype","hasOwnProperty","call","attributes","meta","find","data","deserializeSingle","otherRows","includedRecord","keys","relationships","forEach","relationshipName","Array","isArray","rel","i","deserialize","body","push","Api","instance","responses","url","showSpinner","get","request","delete","post","put","method","options","headers","Accept","getToken","Authorization","fullUrl","process","env","REACT_APP_API_URL","startsWith","replace","event","CustomEvent","cancelable","detail","document","dispatchEvent","Promise","resolve","promise","fetch","then","response","ok","json","catch","error","SyntaxError","errors","title","status","trackPromise","window","FORMOSA_TOKEN","setToken","token","createContext","alertText","files","originalRow","row","setRow","toastClass","toastText","uuid","Error","name","formState","useContext","FormContext","hasError","props","map","e","key","normalizeOptions","labelKey","valueKey","option","label","value","escapeRegExp","toSlug","s","normalize","toLowerCase","filterByKey","records","escapedValue","filter","record","recordValue","toString","match","RegExp","sort","a","b","aValue","bValue","aPos","indexOf","bPos","localeCompare","Autocomplete","afterAdd","afterChange","clearable","clearButtonAttributes","clearButtonClassName","clearIconAttributes","clearIconHeight","clearIconWidth","clearText","disabled","inputClassName","inputAttributes","labelFn","loadingText","max","optionButtonAttributes","optionButtonClassName","optionLabelFn","optionListAttributes","optionListClassName","optionListItemAttributes","optionListItemClassName","placeholder","readOnly","removeButtonAttributes","removeButtonClassName","removeIconAttributes","removeIconHeight","removeIconWidth","removeText","setValue","showLoading","valueListItemAttributes","wrapperAttributes","wrapperClassName","setValues","clearButtonRef","useRef","inputRef","hiddenInputRef","removeButtonRef","setFilter","useState","isOpen","setIsOpen","highlightedIndex","setHighlightedIndex","optionValues","setOptionValues","isLoading","setIsLoading","loadError","setLoadError","api","useEffect","join","currentValue","undefined","currentValueLength","length","isSelected","findIndex","v","JSON","stringify","filteredOptions","focus","current","addValue","newValue","target","removeValue","index","splice","onChange","onFocus","onKeyDown","filterValue","preventDefault","onKeyUp","onClickOption","val","getAttribute","parse","onClickRemoveOption","button","tagName","toUpperCase","parentNode","clear","showClear","canAddValues","wrapperProps","trim","isJson","o","valueListItemProps","removeButtonProps","removeIconProps","onClick","ref","CloseIcon","height","width","autoComplete","optionClassName","optionListItemProps","optionButtonProps","func","bool","object","number","oneOfType","array","arrayOf","Checkbox","iconAttributes","iconClassName","iconHeight","iconWidth","checked","Fragment","CheckIcon","CheckboxList","fieldsetAttributes","fieldsetClassName","itemAttributes","itemClassName","itemLabelAttributes","itemLabelClassName","itemSpanAttributes","itemSpanClassName","legend","currentValueStringified","optionValue","optionValueVal","includes","itemProps","itemLabelProps","inputProps","iconProps","itemSpanProps","File","buttonAttributes","buttonClassName","emptyText","imageAttributes","imageClassName","imageHeight","imagePrefix","imagePreview","inputWrapperAttributes","inputWrapperClassName","linkAttributes","linkClassName","linkImage","multiple","required","hasValue","getFilenames","FileList","numFiles","item","getSrcs","URL","createObjectURL","v2","filenames","setFilenames","srcs","setSrcs","newFiles","onRemove","prefixClassName","hiddenProps","buttonProps","src","img","alt","href","ConditionalWrapper","condition","any","Input","suffix","Password","hideAria","hideText","showAria","showText","tempType","setTempType","togglePassword","spellCheck","Radio","Search","SearchIcon","Select","hideBlank","optionAttributes","from","selected","querySelector","optionProps","CaretIcon","Textarea","component","ExportableInput","InputComponent","getInputElement","Label","htmlFor","note","labelClassName","hasFieldset","Field","inputInnerWrapperAttributes","inputInnerWrapperClassName","labelAttributes","labelNote","labelPosition","prefix","postfix","input","labelComponent","cleanName","wrapperClassNameList","inputWrapperClassNameList","inputInnerWrapperClassNameList","showInlineErrors","toasts","showWarningPrompt","addToast","removeToast","disableWarningPrompt","enableWarningPrompt","getSimpleRecord","cleanRelationship","values","cleanRecord","hasAttributes","hasRelationships","relationshipNames","relName","split","shift","getDirtyRecords","dirtyRelationships","otherRecords","relIndex","x","getIncludedRecordData","concat","set","rec","unshift","getDirtyRelationships","dirtyKeys","currentKeys","k","getIncludedRecords","unset","obj","lastKey","pop","appendToFormData","formData","entries","entry","newKey","append","getBody","filterBody","filterValues","fileKeys","firstPartOfKey","filename","FormData","FormInner","afterNoSubmit","beforeSubmit","clearOnSubmit","defaultRow","errorMessageText","errorToastText","htmlId","params","path","preventEmptyRequest","preventEmptyRequestText","showMessage","successMessageText","successToastText","setFormState","getDirtyKeys","FormosaContext","submitApiRequest","bodyString","source","pointer","parseInt","uuidv4","newState","onSubmit","Form","afterSubmitFailure","afterSubmitSuccess","setOriginalValue","fs","setFs","newRow","r","oldValue","itemDirtyKeys","newIndex","oldIndex","k2","additionalChanges","newFormState","useMemo","clearAlert","clearErrors","Provider","FormAlert","Spinner","promiseInProgress","usePromiseTracker","Toast","milliseconds","text","style","animationDuration","ToastContainer","FormContainer","setShowWarningPrompt","setToasts","toastId","newToasts","Date","getTime","toast","setTimeout","Submit"],"mappings":"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"}