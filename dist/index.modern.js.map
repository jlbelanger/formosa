{"version":3,"file":"index.modern.js","sources":["../src/js/Alert.js","../src/js/Helpers/JsonApiDeserialize.js","../src/js/Helpers/Api.js","../src/js/FormContext.js","../src/js/Error.js","../src/js/Helpers/Options.js","../src/js/Input/Autocomplete.js","../src/js/Input/Checkbox.js","../src/js/Input/CheckboxList.js","../src/js/Input/File.js","../src/js/ConditionalWrapper.js","../src/js/Input.js","../src/js/Input/Password.js","../src/js/Input/Radio.js","../src/js/Input/Search.js","../src/js/Input/Select.js","../src/js/Input/Textarea.js","../src/js/FieldInput.js","../src/js/ExportableInput.js","../src/js/Label.js","../src/js/Field.js","../src/js/FormosaContext.js","../src/js/Helpers/JsonApi.js","../src/js/FormInner.js","../src/js/Form.js","../src/js/FormAlert.js","../src/js/Spinner.js","../src/js/Toast.js","../src/js/ToastContainer.js","../src/js/FormContainer.js","../src/js/Submit.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default function Alert({ className, children, type, ...otherProps }) {\n\tif (!children) {\n\t\treturn null;\n\t}\n\n\tlet alertClass = 'formosa-alert';\n\tif (type) {\n\t\talertClass += ` formosa-alert--${type}`;\n\t}\n\tif (className) {\n\t\talertClass += ` ${className}`;\n\t}\n\n\treturn (\n\t\t<div aria-live=\"polite\" className={alertClass} role=\"alert\" {...otherProps}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nAlert.propTypes = {\n\tclassName: PropTypes.string,\n\tchildren: PropTypes.node.isRequired,\n\ttype: PropTypes.string,\n};\n\nAlert.defaultProps = {\n\tclassName: '',\n\ttype: null,\n};\n","const findIncluded = (included, id, type, mainRecord) => {\n\tif (mainRecord && id === mainRecord.id && type === mainRecord.type) {\n\t\tconst output = {\n\t\t\tid: mainRecord.id,\n\t\t\ttype: mainRecord.type,\n\t\t};\n\t\tif (Object.prototype.hasOwnProperty.call(mainRecord, 'attributes')) {\n\t\t\toutput.attributes = mainRecord.attributes;\n\t\t}\n\t\tif (Object.prototype.hasOwnProperty.call(mainRecord, 'meta')) {\n\t\t\toutput.meta = mainRecord.meta;\n\t\t}\n\t\treturn output;\n\t}\n\treturn included.find((data) => (data.id === id && data.type === type));\n};\n\nconst deserializeSingle = (data, otherRows = [], included = [], mainRecord = null) => {\n\tif (!data) {\n\t\treturn data;\n\t}\n\tconst output = {\n\t\tid: data.id,\n\t\ttype: data.type,\n\t\t...data.attributes,\n\t};\n\n\tif (Object.prototype.hasOwnProperty.call(data, 'relationships')) {\n\t\tlet includedRecord;\n\t\tObject.keys(data.relationships).forEach((relationshipName) => {\n\t\t\toutput[relationshipName] = data.relationships[relationshipName].data;\n\t\t\tif (Array.isArray(output[relationshipName])) {\n\t\t\t\toutput[relationshipName].forEach((rel, i) => {\n\t\t\t\t\tincludedRecord = findIncluded(included, rel.id, rel.type, mainRecord);\n\t\t\t\t\tif (includedRecord) {\n\t\t\t\t\t\toutput[relationshipName][i] = deserializeSingle(includedRecord, otherRows, included, mainRecord);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tincludedRecord = findIncluded(otherRows, rel.id, rel.type, mainRecord);\n\t\t\t\t\t\tif (includedRecord) {\n\t\t\t\t\t\t\toutput[relationshipName][i] = deserializeSingle(includedRecord, otherRows, included, mainRecord);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (output[relationshipName] !== null) {\n\t\t\t\tincludedRecord = findIncluded(included, output[relationshipName].id, output[relationshipName].type, mainRecord);\n\t\t\t\tif (includedRecord) {\n\t\t\t\t\toutput[relationshipName] = deserializeSingle(includedRecord, otherRows, included, mainRecord);\n\t\t\t\t} else {\n\t\t\t\t\tincludedRecord = findIncluded(otherRows, output[relationshipName].id, output[relationshipName].type, mainRecord);\n\t\t\t\t\tif (includedRecord) {\n\t\t\t\t\t\toutput[relationshipName] = deserializeSingle(includedRecord, otherRows, included, mainRecord);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tif (Object.prototype.hasOwnProperty.call(data, 'meta')) {\n\t\toutput.meta = data.meta;\n\t}\n\n\treturn output;\n};\n\nexport const deserialize = (body) => { // eslint-disable-line import/prefer-default-export\n\tif (Array.isArray(body.data)) {\n\t\tconst output = [];\n\t\tbody.data.forEach((data) => {\n\t\t\toutput.push(deserializeSingle(data, body.data, body.included, null));\n\t\t});\n\n\t\tif (Object.prototype.hasOwnProperty.call(body, 'meta')) {\n\t\t\treturn { data: output, meta: body.meta };\n\t\t}\n\n\t\treturn output;\n\t}\n\treturn deserializeSingle(body.data, [], body.included, body.data);\n};\n","import { deserialize } from './JsonApiDeserialize';\nimport { trackPromise } from 'react-promise-tracker';\n\nexport default class Api {\n\tstatic instance() {\n\t\tconst responses = {};\n\t\treturn (url, showSpinner) => {\n\t\t\tif (!Object.prototype.hasOwnProperty.call(responses, url)) {\n\t\t\t\tresponses[url] = Api.get(url, showSpinner);\n\t\t\t}\n\t\t\treturn responses[url];\n\t\t};\n\t}\n\n\tstatic get(url, showSpinner = true) {\n\t\treturn Api.request('GET', url, null, showSpinner);\n\t}\n\n\tstatic delete(url, showSpinner = true) {\n\t\treturn Api.request('DELETE', url, null, showSpinner);\n\t}\n\n\tstatic post(url, body, showSpinner = true) {\n\t\treturn Api.request('POST', url, body, showSpinner);\n\t}\n\n\tstatic put(url, body, showSpinner = true) {\n\t\treturn Api.request('PUT', url, body, showSpinner);\n\t}\n\n\tstatic request(method, url, body = null, showSpinner = true) {\n\t\tconst options = {\n\t\t\tmethod,\n\t\t\theaders: {\n\t\t\t\tAccept: 'application/json',\n\t\t\t\t'X-Requested-With': 'XMLHttpRequest',\n\t\t\t},\n\t\t};\n\t\tif (typeof body === 'string') {\n\t\t\toptions.headers['Content-Type'] = 'application/json';\n\t\t}\n\t\tif (Api.getToken()) {\n\t\t\toptions.headers.Authorization = `Bearer ${Api.getToken()}`;\n\t\t}\n\t\tif (body) {\n\t\t\toptions.body = body;\n\t\t}\n\n\t\tlet fullUrl = url;\n\t\tif (process.env.REACT_APP_API_URL && !url.startsWith('http')) {\n\t\t\tfullUrl = `${process.env.REACT_APP_API_URL.replace(/\\/$/, '')}/${url.replace(/^\\//, '')}`;\n\t\t}\n\n\t\tconst event = new CustomEvent('formosaApiRequest', { cancelable: true, detail: { url: fullUrl, options } });\n\t\tif (!document.dispatchEvent(event)) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\tconst promise = fetch(fullUrl, options)\n\t\t\t.then((response) => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\treturn response.json()\n\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\tif (error instanceof SyntaxError) {\n\t\t\t\t\t\t\t\tthrow { // eslint-disable-line no-throw-literal\n\t\t\t\t\t\t\t\t\terrors: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Unable to connect to the server. Please try again later.',\n\t\t\t\t\t\t\t\t\t\t\tstatus: '500',\n\t\t\t\t\t\t\t\t\t\t\tdetail: 'The server returned invalid JSON.',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\tstatus: 500,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthrow error;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then((json) => {\n\t\t\t\t\t\t\tjson.status = response.status;\n\t\t\t\t\t\t\tthrow json;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (response.status === 204) {\n\t\t\t\t\treturn {};\n\t\t\t\t}\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then((json) => {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(json, 'data')) {\n\t\t\t\t\treturn deserialize(json);\n\t\t\t\t}\n\t\t\t\treturn json;\n\t\t\t});\n\n\t\treturn showSpinner ? trackPromise(promise) : promise;\n\t}\n\n\tstatic getToken() {\n\t\treturn window.FORMOSA_TOKEN;\n\t}\n\n\tstatic setToken(token) {\n\t\twindow.FORMOSA_TOKEN = token;\n\t}\n\n\tstatic deserialize(json) {\n\t\tif (Object.prototype.hasOwnProperty.call(json, 'data')) {\n\t\t\treturn deserialize(json);\n\t\t}\n\t\treturn json;\n\t}\n}\n","import React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default React.createContext(\n\t{\n\t\talertClass: '',\n\t\talertText: '',\n\t\terrors: {},\n\t\tfiles: {},\n\t\toriginalRow: {},\n\t\trow: {},\n\t\tresponse: null,\n\t\tsetRow: null,\n\t\ttoastClass: '',\n\t\ttoastText: '',\n\t\tuuid: null,\n\t}\n);\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormContext from './FormContext';\nimport PropTypes from 'prop-types';\n\nexport default function Error({\n\tid,\n\tname,\n}) {\n\tconst { formState } = useContext(FormContext);\n\tconst hasError = formState && Object.prototype.hasOwnProperty.call(formState.errors, name);\n\n\tconst props = {};\n\tif (name) {\n\t\t// Used for matching the attribute name from the API to this error element.\n\t\tprops['data-name'] = name;\n\t}\n\tif (id || name) {\n\t\tprops.id = `${id || name}-error`;\n\t}\n\n\treturn (\n\t\t<div className=\"formosa-field__error\" {...props}>\n\t\t\t{hasError && formState.errors[name].map((e) => (<div key={e}>{e}</div>))}\n\t\t</div>\n\t);\n}\n\nError.propTypes = {\n\tid: PropTypes.string,\n\tname: PropTypes.string,\n};\n\nError.defaultProps = {\n\tid: null,\n\tname: '',\n};\n","import get from 'get-value';\n\nexport const normalizeOptions = (options, labelKey, valueKey = null) => {\n\tif (!options) {\n\t\treturn [];\n\t}\n\n\tconst output = [];\n\tif (Array.isArray(options)) {\n\t\toptions.forEach((option) => {\n\t\t\tif (typeof option === 'string') {\n\t\t\t\toutput.push({\n\t\t\t\t\tlabel: option,\n\t\t\t\t\tvalue: option,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\toutput.push({\n\t\t\t\t\t...option,\n\t\t\t\t\tlabel: typeof labelKey === 'function' ? labelKey(option) : get(option, labelKey),\n\t\t\t\t\tvalue: typeof valueKey === 'function' ? valueKey(option) : get(option, valueKey),\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t} else {\n\t\tObject.keys(options).forEach((value) => {\n\t\t\tconst option = options[value];\n\t\t\tif (typeof value === 'string') {\n\t\t\t\toutput.push({\n\t\t\t\t\tlabel: option,\n\t\t\t\t\tvalue,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\toutput.push({\n\t\t\t\t\t...option,\n\t\t\t\t\tlabel: typeof labelKey === 'function' ? labelKey(option) : get(option, labelKey),\n\t\t\t\t\tvalue: typeof valueKey === 'function' ? valueKey(option) : get(option, valueKey),\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\treturn output;\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Escaping\nexport const escapeRegExp = (string) => (string.replace(/[.*+\\-?^${}()|[\\]\\\\]/g, '\\\\$&'));\n\nconst toSlug = (s) => (\n\ts.toLowerCase()\n\t\t.replace(/ & /g, '-and-')\n\t\t.replace(/<[^>]+>/g, '')\n\t\t.replace(/['â€™.]/g, '')\n\t\t.replace(/[^a-z0-9-]+/g, '-')\n\t\t.replace(/^-+/, '')\n\t\t.replace(/-+$/, '')\n\t\t.replace(/--+/g, '-')\n);\n\nexport const filterByKey = (records, key, value) => {\n\tvalue = value.toLowerCase();\n\tconst escapedValue = escapeRegExp(value);\n\trecords = records.filter((record) => {\n\t\tconst recordValue = get(record, key).toString().toLowerCase() || '';\n\t\treturn recordValue.match(new RegExp(`(^|[^a-z])${escapedValue}`));\n\t});\n\tvalue = toSlug(value);\n\trecords = records.sort((a, b) => {\n\t\tconst aValue = toSlug(get(a, key).toString());\n\t\tconst bValue = toSlug(get(b, key).toString());\n\t\tconst aPos = aValue.indexOf(value) === 0;\n\t\tconst bPos = bValue.indexOf(value) === 0;\n\t\tif ((aPos && bPos) || (!aPos && !bPos)) {\n\t\t\treturn aValue.localeCompare(bValue);\n\t\t}\n\t\tif (aPos && !bPos) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn 1;\n\t});\n\treturn records;\n};\n","import { filterByKey, normalizeOptions } from '../Helpers/Options';\nimport React, { useContext, useEffect, useRef, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport Api from '../Helpers/Api';\nimport { ReactComponent as CloseIcon } from '../../svg/x.svg';\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\n\nexport default function Autocomplete({\n\tafterAdd,\n\tafterChange,\n\tclearable,\n\tclearButtonAttributes,\n\tclearButtonClassName,\n\tclearIconAttributes,\n\tclearIconHeight,\n\tclearIconWidth,\n\tclearText,\n\tdisabled,\n\tid,\n\tinputClassName,\n\tinputAttributes,\n\tlabelFn,\n\tlabelKey,\n\tloadingText,\n\tmax,\n\tname,\n\toptionButtonAttributes,\n\toptionButtonClassName,\n\toptionLabelFn,\n\toptionListAttributes,\n\toptionListClassName,\n\toptionListItemAttributes,\n\toptionListItemClassName,\n\toptions,\n\tplaceholder,\n\treadOnly,\n\tremoveButtonAttributes,\n\tremoveButtonClassName,\n\tremoveIconAttributes,\n\tremoveIconHeight,\n\tremoveIconWidth,\n\tremoveText,\n\tsetValue,\n\tshowLoading,\n\turl,\n\tvalue,\n\tvalueKey,\n\tvalueListItemAttributes,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\tconst clearButtonRef = useRef(null);\n\tconst inputRef = useRef(null);\n\tconst hiddenInputRef = useRef(null);\n\tconst removeButtonRef = useRef(null);\n\tconst [filter, setFilter] = useState('');\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst [highlightedIndex, setHighlightedIndex] = useState(0);\n\tconst [optionValues, setOptionValues] = useState(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\tconst [isLoading, setIsLoading] = useState(showLoading || !!url);\n\tconst [loadError, setLoadError] = useState('');\n\tconst api = Api.instance();\n\n\tuseEffect(() => {\n\t\tif (url) {\n\t\t\tapi(url, false)\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(error, 'errors')) {\n\t\t\t\t\t\tsetLoadError(error.errors.map((e) => (e.title)).join(' '));\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsetOptionValues(normalizeOptions(response, labelKey, valueKey));\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\t}, [url]);\n\n\tuseEffect(() => {\n\t\tsetOptionValues(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\t}, [options]);\n\n\tuseEffect(() => {\n\t\tsetIsLoading(showLoading);\n\t}, [showLoading]);\n\n\tif (isLoading) {\n\t\treturn (<div className=\"formosa-spinner\" role=\"status\">{loadingText}</div>);\n\t}\n\n\tif (loadError) {\n\t\treturn (<div className=\"formosa-field__error\">{loadError}</div>);\n\t}\n\n\tlet currentValue = null;\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<Autocomplete> component must be inside a <Form> component.');\n\t\t}\n\t\tcurrentValue = get(formState.row, name);\n\t}\n\tif (currentValue === null || currentValue === undefined || currentValue === '') {\n\t\tcurrentValue = null;\n\t} else if (max === 1 && !Array.isArray(currentValue)) {\n\t\tcurrentValue = [currentValue];\n\t}\n\tconst currentValueLength = currentValue ? currentValue.length : 0;\n\n\tconst isSelected = (option) => {\n\t\tif (!currentValue) {\n\t\t\treturn false;\n\t\t}\n\t\treturn currentValue.findIndex((v) => {\n\t\t\tif (typeof v === 'object') {\n\t\t\t\treturn JSON.stringify(v) === JSON.stringify(option.value);\n\t\t\t}\n\t\t\treturn v === option.value;\n\t\t}) > -1;\n\t};\n\n\tlet filteredOptions = [];\n\tif (filter) {\n\t\tfilteredOptions = filterByKey(optionValues, 'label', filter);\n\t\tfilteredOptions = filteredOptions.filter((option) => (!isSelected(option)));\n\t}\n\n\tconst focus = () => {\n\t\tif (inputRef.current) {\n\t\t\tinputRef.current.focus();\n\t\t}\n\t};\n\n\tconst addValue = (v) => {\n\t\tlet newValue;\n\t\tif (max === 1) {\n\t\t\tnewValue = v;\n\t\t} else if (currentValue) {\n\t\t\tnewValue = [...currentValue, v];\n\t\t} else {\n\t\t\tnewValue = [v];\n\t\t}\n\n\t\tconst e = { target: hiddenInputRef.current };\n\t\tif (setValue) {\n\t\t\tsetValue(newValue, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\n\t\tsetIsOpen(false);\n\t\tsetFilter('');\n\t\tfocus();\n\n\t\tif (afterAdd) {\n\t\t\tafterAdd();\n\t\t}\n\t};\n\n\tconst removeValue = (v) => {\n\t\tlet newValue = [];\n\t\tif (currentValue) {\n\t\t\tnewValue = [...currentValue];\n\t\t}\n\t\tif (max !== 1) {\n\t\t\tconst index = newValue.indexOf(v);\n\t\t\tif (index > -1) {\n\t\t\t\tnewValue.splice(index, 1);\n\t\t\t}\n\t\t} else {\n\t\t\tnewValue = '';\n\t\t}\n\n\t\tconst e = { target: hiddenInputRef.current };\n\t\tif (setValue) {\n\t\t\tsetValue(newValue, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\n\t\tfocus();\n\t};\n\n\tconst onChange = (e) => {\n\t\tsetFilter(e.target.value);\n\t};\n\n\tconst onFocus = () => {\n\t\tsetHighlightedIndex(0);\n\t\tsetIsOpen(filter.length > 0);\n\t};\n\n\tconst onKeyDown = (e) => {\n\t\tconst filterValue = e.target.value;\n\t\tif (e.key === 'Enter' && filterValue && filteredOptions.length > 0) {\n\t\t\te.preventDefault();\n\t\t} else if (e.key === 'Backspace' && !filter && currentValueLength > 0) {\n\t\t\tremoveValue(currentValue[currentValueLength - 1]);\n\t\t}\n\t};\n\n\tconst onKeyUp = (e) => {\n\t\tconst filterValue = e.target.value;\n\t\tif (e.key === 'Enter' && filterValue && filteredOptions.length > 0) {\n\t\t\te.preventDefault();\n\t\t\taddValue(filteredOptions[highlightedIndex].value);\n\t\t} else if (e.key === 'ArrowDown') {\n\t\t\tif (highlightedIndex >= (filteredOptions.length - 1)) {\n\t\t\t\tsetHighlightedIndex(0);\n\t\t\t} else {\n\t\t\t\tsetHighlightedIndex(highlightedIndex + 1);\n\t\t\t}\n\t\t} else if (e.key === 'ArrowUp') {\n\t\t\tif (highlightedIndex > 0) {\n\t\t\t\tsetHighlightedIndex(highlightedIndex - 1);\n\t\t\t} else {\n\t\t\t\tsetHighlightedIndex(filteredOptions.length - 1);\n\t\t\t}\n\t\t} else if (e.key === 'Escape') {\n\t\t\tsetIsOpen(false);\n\t\t} else {\n\t\t\tsetHighlightedIndex(0);\n\t\t\tsetIsOpen(filterValue.length > 0);\n\t\t}\n\t};\n\n\tconst onClickOption = (e) => {\n\t\tlet val = e.target.getAttribute('data-value');\n\t\tif (e.target.getAttribute('data-json') === 'true') {\n\t\t\tval = JSON.parse(val);\n\t\t}\n\t\taddValue(val);\n\t};\n\n\tconst onClickRemoveOption = (e) => {\n\t\tlet button = e.target;\n\t\twhile (button && button.tagName.toUpperCase() !== 'BUTTON') {\n\t\t\tbutton = button.parentNode;\n\t\t}\n\t\tremoveValue(currentValue[button.getAttribute('data-index')]);\n\t};\n\n\tconst clear = () => {\n\t\tconst newValue = [];\n\n\t\tconst e = { target: hiddenInputRef.current };\n\t\tif (setValue) {\n\t\t\tsetValue(newValue, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\n\t\tsetFilter('');\n\t\tfocus();\n\t};\n\n\tconst showClear = clearable && max !== 1 && currentValueLength > 0 && !disabled && !readOnly;\n\n\tlet className = ['formosa-autocomplete'];\n\tif (showClear) {\n\t\tclassName.push('formosa-autocomplete--clearable');\n\t}\n\tclassName = className.join(' ');\n\n\tconst canAddValues = !disabled && !readOnly && (max === null || currentValueLength < max);\n\n\tconst wrapperProps = {};\n\tif (id || name) {\n\t\twrapperProps.id = `${id || name}-wrapper`;\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`${className} ${wrapperClassName}`.trim()}\n\t\t\tdata-value={JSON.stringify(max === 1 && currentValueLength > 0 ? currentValue[0] : currentValue)} /* For testing. */\n\t\t\t{...wrapperProps}\n\t\t\t{...wrapperAttributes}\n\t\t>\n\t\t\t<ul className=\"formosa-autocomplete__values\">\n\t\t\t\t{currentValue && currentValue.map((v, index) => {\n\t\t\t\t\tlet val = v;\n\t\t\t\t\tlet isJson = false;\n\t\t\t\t\tif (typeof val === 'object') {\n\t\t\t\t\t\tval = JSON.stringify(val);\n\t\t\t\t\t\tisJson = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst option = optionValues.find((o) => (\n\t\t\t\t\t\tisJson ? JSON.stringify(o.value) === val : o.value === val\n\t\t\t\t\t));\n\n\t\t\t\t\tlet label = '';\n\t\t\t\t\tif (labelFn) {\n\t\t\t\t\t\tlabel = labelFn(option || v);\n\t\t\t\t\t} else if (option && Object.prototype.hasOwnProperty.call(option, 'label')) {\n\t\t\t\t\t\tlabel = option.label;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet valueListItemProps = {};\n\t\t\t\t\tif (typeof valueListItemAttributes === 'function') {\n\t\t\t\t\t\tvalueListItemProps = valueListItemAttributes(option);\n\t\t\t\t\t} else if (valueListItemAttributes && typeof valueListItemAttributes === 'object') {\n\t\t\t\t\t\tvalueListItemProps = valueListItemAttributes;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet removeButtonProps = {};\n\t\t\t\t\tif (typeof removeButtonAttributes === 'function') {\n\t\t\t\t\t\tremoveButtonProps = removeButtonAttributes(option);\n\t\t\t\t\t} else if (removeButtonAttributes && typeof removeButtonAttributes === 'object') {\n\t\t\t\t\t\tremoveButtonProps = removeButtonAttributes;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet removeIconProps = {};\n\t\t\t\t\tif (typeof removeIconAttributes === 'function') {\n\t\t\t\t\t\tremoveIconProps = removeIconAttributes(option);\n\t\t\t\t\t} else if (removeIconAttributes && typeof removeIconAttributes === 'object') {\n\t\t\t\t\t\tremoveIconProps = removeIconAttributes;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li className=\"formosa-autocomplete__value formosa-autocomplete__value--item\" key={val} {...valueListItemProps}>\n\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t{!disabled && !readOnly && (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={`formosa-autocomplete__value__remove ${removeButtonClassName}`.trim()}\n\t\t\t\t\t\t\t\t\tdata-index={index}\n\t\t\t\t\t\t\t\t\tonClick={onClickRemoveOption}\n\t\t\t\t\t\t\t\t\tref={removeButtonRef}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t{...removeButtonProps}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CloseIcon aria-hidden=\"true\" height={removeIconHeight} width={removeIconWidth} {...removeIconProps} />\n\t\t\t\t\t\t\t\t\t{removeText}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t{canAddValues && (\n\t\t\t\t\t<li className=\"formosa-autocomplete__value formosa-autocomplete__value--input\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t{...inputAttributes}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tclassName={`formosa-field__input formosa-autocomplete__input ${inputClassName}`.trim()}\n\t\t\t\t\t\t\tid={id || name}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\tonFocus={onFocus}\n\t\t\t\t\t\t\tonKeyDown={onKeyDown}\n\t\t\t\t\t\t\tonKeyUp={onKeyUp}\n\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t\tref={inputRef}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={filter}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t)}\n\t\t\t</ul>\n\n\t\t\t{isOpen && filteredOptions.length > 0 && (\n\t\t\t\t<ul className={`formosa-autocomplete__options ${optionListClassName}`.trim()} {...optionListAttributes}>\n\t\t\t\t\t{filteredOptions.map((option, index) => {\n\t\t\t\t\t\tlet optionClassName = ['formosa-autocomplete__option'];\n\t\t\t\t\t\tif (highlightedIndex === index) {\n\t\t\t\t\t\t\toptionClassName.push('formosa-autocomplete__option--highlighted');\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptionClassName = optionClassName.join(' ');\n\n\t\t\t\t\t\tlet val = option.value;\n\t\t\t\t\t\tlet isJson = false;\n\t\t\t\t\t\tif (typeof val === 'object') {\n\t\t\t\t\t\t\tisJson = true;\n\t\t\t\t\t\t\tval = JSON.stringify(val);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet label = '';\n\t\t\t\t\t\tif (optionLabelFn) {\n\t\t\t\t\t\t\tlabel = optionLabelFn(option);\n\t\t\t\t\t\t} else if (option && Object.prototype.hasOwnProperty.call(option, 'label')) {\n\t\t\t\t\t\t\tlabel = option.label;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet optionListItemProps = {};\n\t\t\t\t\t\tif (typeof optionListItemAttributes === 'function') {\n\t\t\t\t\t\t\toptionListItemProps = optionListItemAttributes(option);\n\t\t\t\t\t\t} else if (optionListItemAttributes && typeof optionListItemAttributes === 'object') {\n\t\t\t\t\t\t\toptionListItemProps = optionListItemAttributes;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet optionButtonProps = {};\n\t\t\t\t\t\tif (typeof optionButtonAttributes === 'function') {\n\t\t\t\t\t\t\toptionButtonProps = optionButtonAttributes(option);\n\t\t\t\t\t\t} else if (optionButtonAttributes && typeof optionButtonAttributes === 'object') {\n\t\t\t\t\t\t\toptionButtonProps = optionButtonAttributes;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tclassName={`${optionClassName} ${optionListItemClassName}`.trim()}\n\t\t\t\t\t\t\t\tkey={val}\n\t\t\t\t\t\t\t\t{...optionListItemProps}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={`formosa-autocomplete__option__button ${optionButtonClassName}`.trim()}\n\t\t\t\t\t\t\t\t\tdata-json={isJson}\n\t\t\t\t\t\t\t\t\tdata-value={val}\n\t\t\t\t\t\t\t\t\tonClick={onClickOption}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t{...optionButtonProps}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t)}\n\n\t\t\t{showClear && (\n\t\t\t\t<div>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`formosa-autocomplete__clear ${clearButtonClassName}`.trim()}\n\t\t\t\t\t\tonClick={clear}\n\t\t\t\t\t\tref={clearButtonRef}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t{...clearButtonAttributes}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CloseIcon aria-hidden=\"true\" height={clearIconHeight} width={clearIconWidth} {...clearIconAttributes} />\n\t\t\t\t\t\t{clearText}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<input\n\t\t\t\t{...otherProps}\n\t\t\t\tname={name}\n\t\t\t\tref={hiddenInputRef}\n\t\t\t\ttype=\"hidden\"\n\t\t\t\tvalue={filter}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nAutocomplete.propTypes = {\n\tafterAdd: PropTypes.func,\n\tafterChange: PropTypes.func,\n\tclearable: PropTypes.bool,\n\tclearButtonAttributes: PropTypes.object,\n\tclearButtonClassName: PropTypes.string,\n\tclearIconAttributes: PropTypes.object,\n\tclearIconHeight: PropTypes.number,\n\tclearIconWidth: PropTypes.number,\n\tclearText: PropTypes.string,\n\tdisabled: PropTypes.bool,\n\tid: PropTypes.string,\n\tinputAttributes: PropTypes.object,\n\tinputClassName: PropTypes.string,\n\tlabelFn: PropTypes.func,\n\tlabelKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tloadingText: PropTypes.string,\n\tmax: PropTypes.number,\n\tname: PropTypes.string,\n\toptionButtonAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\toptionButtonClassName: PropTypes.string,\n\toptionLabelFn: PropTypes.func,\n\toptionListAttributes: PropTypes.object,\n\toptionListClassName: PropTypes.string,\n\toptionListItemAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\toptionListItemClassName: PropTypes.string,\n\toptions: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]),\n\tplaceholder: PropTypes.string,\n\treadOnly: PropTypes.bool,\n\tremoveButtonAttributes: PropTypes.object,\n\tremoveButtonClassName: PropTypes.string,\n\tremoveIconAttributes: PropTypes.object,\n\tremoveIconHeight: PropTypes.number,\n\tremoveIconWidth: PropTypes.number,\n\tremoveText: PropTypes.string,\n\tsetValue: PropTypes.func,\n\tshowLoading: PropTypes.bool,\n\turl: PropTypes.string,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.arrayOf(PropTypes.number),\n\t\tPropTypes.arrayOf(PropTypes.object),\n\t\tPropTypes.arrayOf(PropTypes.string),\n\t\tPropTypes.number,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\tvalueKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tvalueListItemAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nAutocomplete.defaultProps = {\n\tafterAdd: null,\n\tafterChange: null,\n\tclearable: true,\n\tclearButtonAttributes: null,\n\tclearButtonClassName: '',\n\tclearIconAttributes: null,\n\tclearIconHeight: 12,\n\tclearIconWidth: 12,\n\tclearText: 'Clear',\n\tdisabled: false,\n\tid: '',\n\tinputAttributes: null,\n\tinputClassName: '',\n\tlabelFn: null,\n\tlabelKey: 'name',\n\tloadingText: 'Loading...',\n\tmax: null,\n\tname: '',\n\toptionButtonAttributes: null,\n\toptionButtonClassName: '',\n\toptionLabelFn: null,\n\toptionListAttributes: null,\n\toptionListClassName: '',\n\toptionListItemAttributes: null,\n\toptionListItemClassName: '',\n\toptions: null,\n\tplaceholder: 'Search',\n\treadOnly: false,\n\tremoveButtonAttributes: null,\n\tremoveButtonClassName: '',\n\tremoveIconAttributes: null,\n\tremoveIconHeight: 12,\n\tremoveIconWidth: 12,\n\tremoveText: 'Remove',\n\tsetValue: null,\n\tshowLoading: false,\n\turl: null,\n\tvalue: null,\n\tvalueKey: null,\n\tvalueListItemAttributes: null,\n\twrapperAttributes: null,\n\twrapperClassName: '',\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport { ReactComponent as CheckIcon } from '../../svg/check.svg';\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\n\nexport default function Checkbox({\n\tafterChange,\n\tclassName,\n\ticonAttributes,\n\ticonClassName,\n\ticonHeight,\n\ticonWidth,\n\tid,\n\tname,\n\tsetValue,\n\tvalue,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\n\tlet checked = false;\n\tif (setValue !== null) {\n\t\tchecked = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<Checkbox> component must be inside a <Form> component.');\n\t\t}\n\t\tchecked = !!get(formState.row, name);\n\t}\n\n\tconst onChange = (e) => {\n\t\tconst newValue = e.target.checked;\n\t\tif (setValue) {\n\t\t\tsetValue(newValue, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\t};\n\n\tconst props = {};\n\tif (id || name) {\n\t\tprops.id = id || name;\n\t}\n\tif (name) {\n\t\tprops.name = name;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<input\n\t\t\t\tclassName={`formosa-field__input formosa-field__input--checkbox ${className}`.trim()}\n\t\t\t\tchecked={checked}\n\t\t\t\tonChange={onChange}\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\t{...props}\n\t\t\t\t{...otherProps}\n\t\t\t/>\n\t\t\t<CheckIcon\n\t\t\t\taria-hidden=\"true\"\n\t\t\t\tclassName={`formosa-icon--check ${iconClassName}`.trim()}\n\t\t\t\theight={iconHeight}\n\t\t\t\twidth={iconWidth}\n\t\t\t\t{...iconAttributes}\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nCheckbox.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\ticonAttributes: PropTypes.object,\n\ticonClassName: PropTypes.string,\n\ticonHeight: PropTypes.number,\n\ticonWidth: PropTypes.number,\n\tid: PropTypes.string,\n\tname: PropTypes.string,\n\tsetValue: PropTypes.func,\n\tvalue: PropTypes.bool,\n};\n\nCheckbox.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\ticonAttributes: null,\n\ticonClassName: '',\n\ticonHeight: 16,\n\ticonWidth: 16,\n\tid: null,\n\tname: '',\n\tsetValue: null,\n\tvalue: null,\n};\n","import React, { useContext, useEffect, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport Api from '../Helpers/Api';\nimport { ReactComponent as CheckIcon } from '../../svg/check.svg';\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport { normalizeOptions } from '../Helpers/Options';\nimport PropTypes from 'prop-types';\n\nexport default function CheckboxList({\n\tafterChange,\n\tclassName,\n\tdisabled,\n\tfieldsetAttributes,\n\tfieldsetClassName,\n\ticonAttributes,\n\ticonClassName,\n\ticonHeight,\n\ticonWidth,\n\tinputAttributes,\n\titemAttributes,\n\titemClassName,\n\titemLabelAttributes,\n\titemLabelClassName,\n\titemSpanAttributes,\n\titemSpanClassName,\n\tlabelKey,\n\tlegend,\n\tloadingText,\n\tname,\n\toptions,\n\treadOnly,\n\tsetValue,\n\tshowLoading,\n\turl,\n\tvalue,\n\tvalueKey,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\tconst [optionValues, setOptionValues] = useState(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\tconst [isLoading, setIsLoading] = useState(showLoading || !!url);\n\tconst [loadError, setLoadError] = useState('');\n\tconst api = Api.instance();\n\n\tuseEffect(() => {\n\t\tif (url) {\n\t\t\tapi(url, false)\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(error, 'errors')) {\n\t\t\t\t\t\tsetLoadError(error.errors.map((e) => (e.title)).join(' '));\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsetOptionValues(normalizeOptions(response, labelKey, valueKey));\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\t}, [url]);\n\n\tuseEffect(() => {\n\t\tsetOptionValues(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\t}, [options]);\n\n\tuseEffect(() => {\n\t\tsetIsLoading(showLoading);\n\t}, [showLoading]);\n\n\tif (isLoading) {\n\t\treturn (<div className=\"formosa-spinner\" role=\"status\">{loadingText}</div>);\n\t}\n\n\tif (loadError) {\n\t\treturn (<div className=\"formosa-field__error\">{loadError}</div>);\n\t}\n\n\tlet currentValue = [];\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<CheckboxList> component must be inside a <Form> component.');\n\t\t}\n\t\tcurrentValue = get(formState.row, name);\n\t}\n\tif (currentValue === null || currentValue === undefined || currentValue === '') {\n\t\tcurrentValue = [];\n\t}\n\tconst currentValueStringified = currentValue.map((val) => (typeof val === 'object' ? JSON.stringify(val) : val));\n\n\tconst onChange = (e) => {\n\t\tconst newValue = [...currentValue];\n\t\tlet val = e.target.value;\n\n\t\tif (e.target.checked) {\n\t\t\tif (e.target.getAttribute('data-json') === 'true') {\n\t\t\t\tval = JSON.parse(val);\n\t\t\t}\n\t\t\tnewValue.push(val);\n\t\t} else {\n\t\t\tconst index = currentValueStringified.indexOf(val);\n\t\t\tif (index > -1) {\n\t\t\t\tnewValue.splice(index, 1);\n\t\t\t}\n\t\t}\n\n\t\tif (setValue) {\n\t\t\tsetValue(newValue, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\t};\n\n\treturn (\n\t\t<fieldset className={`formosa-radio ${fieldsetClassName}`.trim()} {...fieldsetAttributes}>\n\t\t\t<legend className=\"formosa-radio__legend\">{legend}</legend>\n\t\t\t{optionValues.map((optionValue) => {\n\t\t\t\tlet optionValueVal = optionValue.value;\n\t\t\t\tlet isJson = false;\n\t\t\t\tif (typeof optionValueVal === 'object') {\n\t\t\t\t\tisJson = true;\n\t\t\t\t\toptionValueVal = JSON.stringify(optionValueVal);\n\t\t\t\t}\n\n\t\t\t\tconst checked = currentValueStringified.includes(optionValueVal);\n\n\t\t\t\tlet itemProps = {};\n\t\t\t\tif (typeof itemAttributes === 'function') {\n\t\t\t\t\titemProps = itemAttributes(optionValue);\n\t\t\t\t} else if (itemAttributes && typeof itemAttributes === 'object') {\n\t\t\t\t\titemProps = itemAttributes;\n\t\t\t\t}\n\n\t\t\t\tlet itemLabelProps = {};\n\t\t\t\tif (typeof itemLabelAttributes === 'function') {\n\t\t\t\t\titemLabelProps = itemLabelAttributes(optionValue);\n\t\t\t\t} else if (itemLabelAttributes && typeof itemLabelAttributes === 'object') {\n\t\t\t\t\titemLabelProps = itemLabelAttributes;\n\t\t\t\t}\n\n\t\t\t\tlet inputProps = {};\n\t\t\t\tif (typeof inputAttributes === 'function') {\n\t\t\t\t\tinputProps = inputAttributes(optionValue);\n\t\t\t\t} else if (inputAttributes && typeof inputAttributes === 'object') {\n\t\t\t\t\tinputProps = inputAttributes;\n\t\t\t\t}\n\t\t\t\tif (isJson) {\n\t\t\t\t\tinputProps['data-json'] = true;\n\t\t\t\t}\n\t\t\t\tif (name) {\n\t\t\t\t\tinputProps.name = `${name}[]`;\n\t\t\t\t}\n\n\t\t\t\tlet iconProps = {};\n\t\t\t\tif (typeof iconAttributes === 'function') {\n\t\t\t\t\ticonProps = iconAttributes(optionValue);\n\t\t\t\t} else if (iconAttributes && typeof iconAttributes === 'object') {\n\t\t\t\t\ticonProps = iconAttributes;\n\t\t\t\t}\n\n\t\t\t\tlet itemSpanProps = {};\n\t\t\t\tif (typeof itemSpanAttributes === 'function') {\n\t\t\t\t\titemSpanProps = itemSpanAttributes(optionValue);\n\t\t\t\t} else if (itemSpanAttributes && typeof itemSpanAttributes === 'object') {\n\t\t\t\t\titemSpanProps = itemSpanAttributes;\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<div className={`formosa-radio__item ${itemClassName}`.trim()} key={optionValueVal} {...itemProps}>\n\t\t\t\t\t\t<label\n\t\t\t\t\t\t\tclassName={`formosa-radio__label${checked ? ' formosa-radio__label--checked' : ''} ${itemLabelClassName}`.trim()}\n\t\t\t\t\t\t\t{...itemLabelProps}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\taria-label={optionValue.label}\n\t\t\t\t\t\t\t\tchecked={checked}\n\t\t\t\t\t\t\t\tclassName={`formosa-field__input formosa-field__input--checkbox ${className}`.trim()}\n\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\treadOnly={readOnly}\n\t\t\t\t\t\t\t\tvalue={optionValueVal}\n\t\t\t\t\t\t\t\t{...inputProps}\n\t\t\t\t\t\t\t\t{...otherProps}\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<CheckIcon\n\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\tclassName={`formosa-icon--check ${iconClassName}`.trim()}\n\t\t\t\t\t\t\t\theight={iconHeight}\n\t\t\t\t\t\t\t\twidth={iconWidth}\n\t\t\t\t\t\t\t\t{...iconProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span aria-hidden=\"true\" className={`formosa-radio__span ${itemSpanClassName}`.trim()} {...itemSpanProps}>\n\t\t\t\t\t\t\t\t{optionValue.label}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})}\n\t\t</fieldset>\n\t);\n}\n\nCheckboxList.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\tdisabled: PropTypes.bool,\n\tfieldsetAttributes: PropTypes.object,\n\tfieldsetClassName: PropTypes.string,\n\ticonAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\ticonClassName: PropTypes.string,\n\ticonHeight: PropTypes.number,\n\ticonWidth: PropTypes.number,\n\tinputAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemClassName: PropTypes.string,\n\titemLabelAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemLabelClassName: PropTypes.string,\n\titemSpanAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemSpanClassName: PropTypes.string,\n\tlabelKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tlegend: PropTypes.string,\n\tloadingText: PropTypes.string,\n\tname: PropTypes.string,\n\toptions: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]),\n\treadOnly: PropTypes.bool,\n\tsetValue: PropTypes.func,\n\tshowLoading: PropTypes.bool,\n\turl: PropTypes.string,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.arrayOf(PropTypes.number),\n\t\tPropTypes.arrayOf(PropTypes.object),\n\t\tPropTypes.arrayOf(PropTypes.string),\n\t]),\n\tvalueKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n};\n\nCheckboxList.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\tdisabled: false,\n\tfieldsetAttributes: null,\n\tfieldsetClassName: '',\n\ticonAttributes: null,\n\ticonClassName: '',\n\ticonHeight: 16,\n\ticonWidth: 16,\n\tinputAttributes: null,\n\titemAttributes: null,\n\titemClassName: '',\n\titemLabelAttributes: null,\n\titemLabelClassName: '',\n\titemSpanAttributes: null,\n\titemSpanClassName: '',\n\tlabelKey: 'name',\n\tlegend: '',\n\tloadingText: 'Loading...',\n\tname: '',\n\toptions: null,\n\treadOnly: false,\n\tsetValue: null,\n\tshowLoading: false,\n\turl: null,\n\tvalue: null,\n\tvalueKey: null,\n};\n","import React, { useContext, useEffect, useRef, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\n\nexport default function File({\n\tafterChange,\n\tbuttonAttributes,\n\tbuttonClassName,\n\tclassName,\n\tdisabled,\n\temptyText,\n\tid,\n\timageAttributes,\n\timageClassName,\n\timageHeight,\n\timagePrefix,\n\timagePreview,\n\tinputWrapperAttributes,\n\tinputWrapperClassName,\n\tlinkAttributes,\n\tlinkClassName,\n\tlinkImage,\n\tmultiple,\n\tname,\n\treadOnly,\n\tremoveText,\n\trequired,\n\tsetValue,\n\tvalue,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\tconst inputRef = useRef(null);\n\n\tlet currentValue = '';\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<File> component must be inside a <Form> component.');\n\t\t}\n\t\tcurrentValue = get(formState.row, name);\n\t}\n\tif (currentValue === null || currentValue === undefined) {\n\t\tcurrentValue = '';\n\t}\n\tconst hasValue = multiple ? currentValue.length > 0 : !!currentValue;\n\n\tconst getFilenames = (v) => {\n\t\tif (v instanceof FileList) {\n\t\t\tconst numFiles = v.length;\n\t\t\tconst output = [];\n\t\t\tlet i;\n\t\t\tfor (i = 0; i < numFiles; i += 1) {\n\t\t\t\toutput.push(v.item(i).name);\n\t\t\t}\n\t\t\treturn output.join(', ');\n\t\t}\n\t\tif (Array.isArray(v)) {\n\t\t\treturn v.join(', ');\n\t\t}\n\t\tif (typeof v === 'object') {\n\t\t\treturn v.name;\n\t\t}\n\t\treturn v;\n\t};\n\n\tconst getSrcs = (v) => {\n\t\tconst output = [];\n\t\tif (v instanceof FileList) {\n\t\t\tconst numFiles = v.length;\n\t\t\tlet i;\n\t\t\tfor (i = 0; i < numFiles; i += 1) {\n\t\t\t\toutput.push(URL.createObjectURL(v.item(i)));\n\t\t\t}\n\t\t} else if (Array.isArray(v)) {\n\t\t\treturn v.map((v2) => (`${imagePrefix}${v2}`));\n\t\t} else if (typeof v === 'object') {\n\t\t\toutput.push(URL.createObjectURL(v));\n\t\t} else if (typeof v === 'string') {\n\t\t\toutput.push(`${imagePrefix}${v}`);\n\t\t}\n\t\treturn output;\n\t};\n\n\tconst [filenames, setFilenames] = useState(getFilenames(currentValue));\n\tconst [srcs, setSrcs] = useState(getSrcs(currentValue));\n\n\tuseEffect(() => {\n\t\tsetFilenames(getFilenames(currentValue));\n\t\tsetSrcs(getSrcs(currentValue));\n\t}, [currentValue]);\n\n\tconst onChange = (e) => {\n\t\tconst newFiles = multiple ? e.target.files : e.target.files.item(0);\n\n\t\tsetFilenames(getFilenames(newFiles));\n\t\tif (imagePreview) {\n\t\t\tsetSrcs(getSrcs(newFiles));\n\t\t}\n\n\t\tif (setValue) {\n\t\t\tsetValue(newFiles, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newFiles, afterChange, newFiles);\n\t\t}\n\t};\n\n\tconst onRemove = (e) => {\n\t\tsetFilenames('');\n\n\t\tconst newValue = '';\n\t\tif (setValue) {\n\t\t\tsetValue(newValue, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange, newValue);\n\t\t}\n\n\t\tinputRef.current.focus();\n\t};\n\n\tlet prefixClassName = inputWrapperClassName;\n\tif (hasValue && !disabled && !readOnly) {\n\t\tprefixClassName += ' formosa-prefix';\n\t}\n\n\tconst props = {};\n\tif (id || name) {\n\t\tprops.id = id || name;\n\t}\n\n\tconst hiddenProps = {};\n\tif (name) {\n\t\thiddenProps.name = name;\n\t}\n\n\tconst buttonProps = {};\n\tif (id || name) {\n\t\tbuttonProps.id = `${id || name}-remove`;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{(hasValue && imagePreview) && (\n\t\t\t\tsrcs.map((src) => {\n\t\t\t\t\tconst img = (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\tclassName={`formosa-file-image ${imageClassName}`.trim()}\n\t\t\t\t\t\t\theight={imageHeight}\n\t\t\t\t\t\t\tkey={src}\n\t\t\t\t\t\t\tsrc={src}\n\t\t\t\t\t\t\t{...imageAttributes}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\t\tif (linkImage) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<a className={`formosa-file-link ${linkClassName}`.trim()} href={src} key={src} {...linkAttributes}>\n\t\t\t\t\t\t\t\t{img}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn img;\n\t\t\t\t})\n\t\t\t)}\n\t\t\t<div className={`formosa-file-wrapper ${wrapperClassName}`.trim()} {...wrapperAttributes}>\n\t\t\t\t<div className={`formosa-file-input-wrapper ${prefixClassName}`.trim()} {...inputWrapperAttributes}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`formosa-file-name${!filenames ? ' formosa-file-name--empty' : ''}`}\n\t\t\t\t\t\tid={`${id || name}-name`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{filenames || emptyText}\n\t\t\t\t\t</div>\n\t\t\t\t\t{!readOnly && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName={`formosa-field__input formosa-field__input--file ${className}`.trim()}\n\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\tmultiple={multiple}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\tref={inputRef}\n\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\t{...otherProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\t\t\ttype=\"hidden\"\n\t\t\t\t\t\t\t\tvalue={currentValue}\n\t\t\t\t\t\t\t\t{...hiddenProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t{hasValue && !disabled && !readOnly && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`formosa-button formosa-button--remove-file formosa-postfix ${buttonClassName}`.trim()}\n\t\t\t\t\t\tonClick={onRemove}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t{...buttonProps}\n\t\t\t\t\t\t{...buttonAttributes}\n\t\t\t\t\t>\n\t\t\t\t\t\t{removeText}\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nFile.propTypes = {\n\tafterChange: PropTypes.func,\n\tbuttonAttributes: PropTypes.object,\n\tbuttonClassName: PropTypes.string,\n\tclassName: PropTypes.string,\n\tdisabled: PropTypes.bool,\n\temptyText: PropTypes.string,\n\tid: PropTypes.string,\n\timageAttributes: PropTypes.object,\n\timageClassName: PropTypes.string,\n\timageHeight: PropTypes.number,\n\timagePrefix: PropTypes.string,\n\timagePreview: PropTypes.bool,\n\tinputWrapperAttributes: PropTypes.object,\n\tinputWrapperClassName: PropTypes.string,\n\tlinkAttributes: PropTypes.object,\n\tlinkClassName: PropTypes.string,\n\tlinkImage: PropTypes.bool,\n\tmultiple: PropTypes.bool,\n\tname: PropTypes.string,\n\treadOnly: PropTypes.bool,\n\tremoveText: PropTypes.string,\n\trequired: PropTypes.bool,\n\tsetValue: PropTypes.func,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nFile.defaultProps = {\n\tafterChange: null,\n\tbuttonAttributes: null,\n\tbuttonClassName: '',\n\tclassName: '',\n\tdisabled: false,\n\temptyText: 'No file selected.',\n\tid: '',\n\timageAttributes: null,\n\timageClassName: '',\n\timageHeight: 100,\n\timagePrefix: '',\n\timagePreview: false,\n\tinputWrapperAttributes: null,\n\tinputWrapperClassName: '',\n\tlinkAttributes: null,\n\tlinkClassName: '',\n\tlinkImage: false,\n\tmultiple: false,\n\tname: '',\n\treadOnly: false,\n\tremoveText: 'Remove',\n\trequired: false,\n\tsetValue: null,\n\tvalue: null,\n\twrapperAttributes: null,\n\twrapperClassName: '',\n};\n","import PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default function ConditionalWrapper({ children, condition, ...props }) {\n\tif (!condition) {\n\t\treturn children;\n\t}\n\n\treturn (\n\t\t<div {...props}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nConditionalWrapper.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n\tcondition: PropTypes.any,\n};\n\nConditionalWrapper.defaultProps = {\n\tcondition: false,\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport ConditionalWrapper from './ConditionalWrapper';\nimport FormContext from './FormContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\n\nexport default function Input({\n\tafterChange,\n\tclassName,\n\tid,\n\tname,\n\tsetValue,\n\tsuffix,\n\ttype,\n\tvalue,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\n\tlet currentValue = '';\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<Input> component must be inside a <Form> component.');\n\t\t}\n\t\tif (type !== 'file') {\n\t\t\tcurrentValue = get(formState.row, name);\n\t\t\tif (currentValue === null || currentValue === undefined) {\n\t\t\t\tcurrentValue = '';\n\t\t\t}\n\t\t}\n\t}\n\n\tconst onChange = (e) => {\n\t\tconst newValue = e.target.value;\n\t\tif (setValue) {\n\t\t\tsetValue(newValue, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\t};\n\n\tconst props = {};\n\tif (id || name) {\n\t\tprops.id = id || name;\n\t}\n\tif (name) {\n\t\tprops.name = name;\n\t}\n\n\treturn (\n\t\t<ConditionalWrapper className=\"formosa-suffix-container\" condition={suffix}>\n\t\t\t<input\n\t\t\t\tclassName={`formosa-field__input ${className}`.trim()}\n\t\t\t\tonChange={onChange}\n\t\t\t\ttype={type}\n\t\t\t\tvalue={currentValue}\n\t\t\t\t{...props}\n\t\t\t\t{...otherProps}\n\t\t\t/>\n\t\t\t{suffix && <span className=\"formosa-suffix\">{suffix}</span>}\n\t\t</ConditionalWrapper>\n\t);\n}\n\nInput.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\tid: PropTypes.string,\n\tname: PropTypes.string,\n\tsetValue: PropTypes.func,\n\tsuffix: PropTypes.string,\n\ttype: PropTypes.string,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.string,\n\t]),\n};\n\nInput.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\tid: null,\n\tname: '',\n\tsetValue: null,\n\tsuffix: '',\n\ttype: 'text',\n\tvalue: null,\n};\n","import React, { useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport Input from '../Input';\nimport PropTypes from 'prop-types';\n\nexport default function Password({\n\tbuttonAttributes,\n\tbuttonClassName,\n\tclassName,\n\thideAria,\n\thideText,\n\tshowAria,\n\tshowText,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\tconst [tempType, setTempType] = useState('password');\n\tconst togglePassword = () => {\n\t\tif (tempType === 'password') {\n\t\t\tsetTempType('text');\n\t\t} else {\n\t\t\tsetTempType('password');\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={`formosa-password-wrapper ${wrapperClassName}`.trim()} {...wrapperAttributes}>\n\t\t\t<Input\n\t\t\t\tclassName={`formosa-field__input--password formosa-prefix ${className}`.trim()}\n\t\t\t\tspellCheck=\"false\"\n\t\t\t\t{...otherProps}\n\t\t\t\ttype={tempType}\n\t\t\t/>\n\t\t\t<button\n\t\t\t\taria-controls={otherProps.id || otherProps.name}\n\t\t\t\taria-label={tempType === 'password' ? showAria : hideAria}\n\t\t\t\tclassName={`formosa-button formosa-button--toggle-password formosa-postfix ${buttonClassName}`.trim()}\n\t\t\t\tonClick={togglePassword}\n\t\t\t\ttype=\"button\"\n\t\t\t\t{...buttonAttributes}\n\t\t\t>\n\t\t\t\t{tempType === 'password' ? showText : hideText}\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n\nPassword.propTypes = {\n\tbuttonAttributes: PropTypes.object,\n\tbuttonClassName: PropTypes.string,\n\tclassName: PropTypes.string,\n\thideAria: PropTypes.string,\n\thideText: PropTypes.string,\n\tshowAria: PropTypes.string,\n\tshowText: PropTypes.string,\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nPassword.defaultProps = {\n\tbuttonAttributes: null,\n\tbuttonClassName: '',\n\tclassName: '',\n\thideAria: 'Hide Password',\n\thideText: 'Hide',\n\tshowAria: 'Show Password',\n\tshowText: 'Show',\n\twrapperAttributes: null,\n\twrapperClassName: '',\n};\n","import React, { useContext, useEffect, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport Api from '../Helpers/Api';\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport { normalizeOptions } from '../Helpers/Options';\nimport PropTypes from 'prop-types';\n\nexport default function Radio({\n\tafterChange,\n\tclassName,\n\tfieldsetAttributes,\n\tfieldsetClassName,\n\tinputAttributes,\n\titemAttributes,\n\titemClassName,\n\titemLabelAttributes,\n\titemLabelClassName,\n\titemSpanAttributes,\n\titemSpanClassName,\n\tlabel,\n\tlabelKey,\n\tlegend,\n\tloadingText,\n\tname,\n\toptions,\n\trequired,\n\tsetValue,\n\tshowLoading,\n\turl,\n\tvalue,\n\tvalueKey,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\tconst [optionValues, setOptionValues] = useState(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\tconst [isLoading, setIsLoading] = useState(showLoading || !!url);\n\tconst [loadError, setLoadError] = useState('');\n\tconst api = Api.instance();\n\n\tuseEffect(() => {\n\t\tif (url) {\n\t\t\tapi(url, false)\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(error, 'errors')) {\n\t\t\t\t\t\tsetLoadError(error.errors.map((e) => (e.title)).join(' '));\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsetOptionValues(normalizeOptions(response, labelKey, valueKey));\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\t}, [url]);\n\n\tuseEffect(() => {\n\t\tsetOptionValues(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\t}, [options]);\n\n\tuseEffect(() => {\n\t\tsetIsLoading(showLoading);\n\t}, [showLoading]);\n\n\tif (isLoading) {\n\t\treturn (<div className=\"formosa-spinner\" role=\"status\">{loadingText}</div>);\n\t}\n\n\tif (loadError) {\n\t\treturn (<div className=\"formosa-field__error\">{loadError}</div>);\n\t}\n\n\tlet currentValue = '';\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<Radio> component must be inside a <Form> component.');\n\t\t}\n\t\tcurrentValue = get(formState.row, name);\n\t}\n\tif (currentValue === null || currentValue === undefined) {\n\t\tcurrentValue = '';\n\t}\n\tif (typeof currentValue === 'object') {\n\t\tcurrentValue = JSON.stringify(currentValue);\n\t}\n\n\tconst onChange = (e) => {\n\t\tlet newValue = e.target.value;\n\t\tif (e.target.getAttribute('data-json') === 'true') {\n\t\t\tnewValue = JSON.parse(newValue);\n\t\t}\n\n\t\tif (setValue) {\n\t\t\tsetValue(newValue, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\t};\n\n\treturn (\n\t\t<fieldset className={`formosa-radio ${fieldsetClassName}`.trim()} {...fieldsetAttributes}>\n\t\t\t<legend className=\"formosa-radio__legend\">{legend}</legend>\n\t\t\t{optionValues.map((optionValue) => {\n\t\t\t\tlet optionValueVal = optionValue.value;\n\t\t\t\tlet isJson = false;\n\t\t\t\tif (typeof optionValueVal === 'object') {\n\t\t\t\t\tisJson = true;\n\t\t\t\t\toptionValueVal = JSON.stringify(optionValueVal);\n\t\t\t\t}\n\n\t\t\t\tconst checked = currentValue === optionValueVal;\n\n\t\t\t\tlet itemProps = {};\n\t\t\t\tif (typeof itemAttributes === 'function') {\n\t\t\t\t\titemProps = itemAttributes(optionValue);\n\t\t\t\t} else if (itemAttributes && typeof itemAttributes === 'object') {\n\t\t\t\t\titemProps = itemAttributes;\n\t\t\t\t}\n\n\t\t\t\tlet itemLabelProps = {};\n\t\t\t\tif (typeof itemLabelAttributes === 'function') {\n\t\t\t\t\titemLabelProps = itemLabelAttributes(optionValue);\n\t\t\t\t} else if (itemLabelAttributes && typeof itemLabelAttributes === 'object') {\n\t\t\t\t\titemLabelProps = itemLabelAttributes;\n\t\t\t\t}\n\n\t\t\t\tlet inputProps = {};\n\t\t\t\tif (typeof inputAttributes === 'function') {\n\t\t\t\t\tinputProps = inputAttributes(optionValue);\n\t\t\t\t} else if (inputAttributes && typeof inputAttributes === 'object') {\n\t\t\t\t\tinputProps = inputAttributes;\n\t\t\t\t}\n\t\t\t\tif (isJson) {\n\t\t\t\t\tinputProps['data-json'] = true;\n\t\t\t\t}\n\t\t\t\tif (name) {\n\t\t\t\t\tinputProps.name = name;\n\t\t\t\t}\n\n\t\t\t\tlet itemSpanProps = {};\n\t\t\t\tif (typeof itemSpanAttributes === 'function') {\n\t\t\t\t\titemSpanProps = itemSpanAttributes(optionValue);\n\t\t\t\t} else if (itemSpanAttributes && typeof itemSpanAttributes === 'object') {\n\t\t\t\t\titemSpanProps = itemSpanAttributes;\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<div className={`formosa-radio__item ${itemClassName}`.trim()} key={optionValueVal} {...itemProps}>\n\t\t\t\t\t\t<label\n\t\t\t\t\t\t\tclassName={`formosa-radio__label${checked ? ' formosa-radio__label--checked' : ''} ${itemLabelClassName}`.trim()}\n\t\t\t\t\t\t\t{...itemLabelProps}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\taria-label={optionValue.label}\n\t\t\t\t\t\t\t\tchecked={checked}\n\t\t\t\t\t\t\t\tclassName={`formosa-field__input formosa-radio__input ${className}`.trim()}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tvalue={optionValueVal}\n\t\t\t\t\t\t\t\t{...inputProps}\n\t\t\t\t\t\t\t\t{...otherProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span aria-hidden=\"true\" className={`formosa-radio__span ${itemSpanClassName}`.trim()} {...itemSpanProps}>\n\t\t\t\t\t\t\t\t{optionValue.label}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})}\n\t\t</fieldset>\n\t);\n}\n\nRadio.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\tfieldsetAttributes: PropTypes.object,\n\tfieldsetClassName: PropTypes.string,\n\tinputAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemClassName: PropTypes.string,\n\titemLabelAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemLabelClassName: PropTypes.string,\n\titemSpanAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemSpanClassName: PropTypes.string,\n\tlabel: PropTypes.string,\n\tlabelKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tlegend: PropTypes.string,\n\tloadingText: PropTypes.string,\n\tname: PropTypes.string,\n\toptions: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]),\n\trequired: PropTypes.bool,\n\tsetValue: PropTypes.func,\n\tshowLoading: PropTypes.bool,\n\turl: PropTypes.string,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\tvalueKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n};\n\nRadio.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\tfieldsetAttributes: null,\n\tfieldsetClassName: '',\n\tinputAttributes: null,\n\titemAttributes: null,\n\titemClassName: '',\n\titemLabelAttributes: null,\n\titemLabelClassName: '',\n\titemSpanAttributes: null,\n\titemSpanClassName: '',\n\tlabel: '',\n\tlabelKey: 'name',\n\tlegend: '',\n\tloadingText: 'Loading...',\n\tname: '',\n\toptions: null,\n\trequired: false,\n\tsetValue: null,\n\tshowLoading: false,\n\turl: null,\n\tvalue: null,\n\tvalueKey: null,\n};\n","import Input from '../Input';\nimport PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\nimport { ReactComponent as SearchIcon } from '../../svg/search.svg';\n\nexport default function Search({\n\tclassName,\n\ticonAttributes,\n\ticonClassName,\n\ticonHeight,\n\ticonWidth,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\treturn (\n\t\t<div className={`formosa-search-wrapper ${wrapperClassName}`.trim()} {...wrapperAttributes}>\n\t\t\t<Input\n\t\t\t\tclassName={`formosa-field__input--search ${className}`.trim()}\n\t\t\t\t{...otherProps}\n\t\t\t/>\n\t\t\t<SearchIcon\n\t\t\t\taria-hidden=\"true\"\n\t\t\t\tclassName={`formosa-icon--search ${iconClassName}`.trim()}\n\t\t\t\theight={iconHeight}\n\t\t\t\twidth={iconWidth}\n\t\t\t\t{...iconAttributes}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nSearch.propTypes = {\n\tclassName: PropTypes.string,\n\ticonAttributes: PropTypes.object,\n\ticonClassName: PropTypes.string,\n\ticonHeight: PropTypes.number,\n\ticonWidth: PropTypes.number,\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nSearch.defaultProps = {\n\tclassName: '',\n\ticonAttributes: null,\n\ticonClassName: '',\n\ticonHeight: 16,\n\ticonWidth: 16,\n\twrapperAttributes: null,\n\twrapperClassName: '',\n};\n","import React, { useContext, useEffect, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport Api from '../Helpers/Api';\nimport { ReactComponent as CaretIcon } from '../../svg/caret.svg';\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport { normalizeOptions } from '../Helpers/Options';\nimport PropTypes from 'prop-types';\n\nexport default function Select({\n\tafterChange,\n\tclassName,\n\thideBlank,\n\ticonAttributes,\n\ticonClassName,\n\ticonHeight,\n\ticonWidth,\n\tid,\n\tlabelKey,\n\tloadingText,\n\tmultiple,\n\tname,\n\toptionAttributes,\n\toptions,\n\tsetValue,\n\tshowLoading,\n\turl,\n\tvalue,\n\tvalueKey,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\tconst [optionValues, setOptionValues] = useState(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\tconst [isLoading, setIsLoading] = useState(showLoading || !!url);\n\tconst [loadError, setLoadError] = useState('');\n\tconst api = Api.instance();\n\n\tuseEffect(() => {\n\t\tif (url) {\n\t\t\tapi(url, false)\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(error, 'errors')) {\n\t\t\t\t\t\tsetLoadError(error.errors.map((e) => (e.title)).join(' '));\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsetOptionValues(normalizeOptions(response, labelKey, valueKey));\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\t}, [url]);\n\n\tuseEffect(() => {\n\t\tsetOptionValues(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\t}, [options]);\n\n\tuseEffect(() => {\n\t\tsetIsLoading(showLoading);\n\t}, [showLoading]);\n\n\tif (isLoading) {\n\t\treturn (<div className=\"formosa-spinner\" role=\"status\">{loadingText}</div>);\n\t}\n\n\tif (loadError) {\n\t\treturn (<div className=\"formosa-field__error\">{loadError}</div>);\n\t}\n\n\tlet currentValue = multiple ? [] : '';\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<Select> component must be inside a <Form> component.');\n\t\t}\n\t\tcurrentValue = get(formState.row, name);\n\t}\n\tif (currentValue === null || currentValue === undefined) {\n\t\tcurrentValue = multiple ? [] : '';\n\t}\n\tif (typeof currentValue === 'object' && !multiple) {\n\t\tcurrentValue = JSON.stringify(currentValue);\n\t}\n\n\tconst onChange = (e) => {\n\t\tlet newValue;\n\t\tif (multiple) {\n\t\t\tnewValue = Array.from(e.target.options).filter((option) => (option.selected)).map((option) => (option.value));\n\t\t} else {\n\t\t\tnewValue = e.target.value;\n\t\t\tconst option = e.target.querySelector(`[value=\"${newValue.replace(/\"/g, '\\\\\"')}\"]`);\n\t\t\tif (option.getAttribute('data-json') === 'true') {\n\t\t\t\tnewValue = JSON.parse(newValue);\n\t\t\t}\n\t\t}\n\n\t\tif (setValue) {\n\t\t\tsetValue(newValue, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\t};\n\n\tconst props = {};\n\tif (id || name) {\n\t\tprops.id = id || name;\n\t}\n\tif (name) {\n\t\tprops.name = name;\n\t}\n\tif (multiple) {\n\t\tprops.multiple = true;\n\t}\n\n\treturn (\n\t\t<div className={`formosa-select-wrapper ${wrapperClassName}`.trim()} {...wrapperAttributes}>\n\t\t\t<select\n\t\t\t\tclassName={`formosa-field__input formosa-field__input--select ${className}`.trim()}\n\t\t\t\tonChange={onChange}\n\t\t\t\tvalue={currentValue}\n\t\t\t\t{...props}\n\t\t\t\t{...otherProps}\n\t\t\t>\n\t\t\t\t{!hideBlank && !multiple && <option value=\"\" />}\n\t\t\t\t{optionValues.map((optionValue) => {\n\t\t\t\t\tlet optionValueVal = optionValue.value;\n\t\t\t\t\tlet isJson = false;\n\t\t\t\t\tif (typeof optionValueVal === 'object') {\n\t\t\t\t\t\tisJson = true;\n\t\t\t\t\t\toptionValueVal = JSON.stringify(optionValueVal);\n\t\t\t\t\t}\n\n\t\t\t\t\tlet optionProps = {};\n\t\t\t\t\tif (typeof optionAttributes === 'function') {\n\t\t\t\t\t\toptionProps = optionAttributes(optionValue);\n\t\t\t\t\t} else if (optionAttributes && typeof optionAttributes === 'object') {\n\t\t\t\t\t\toptionProps = optionAttributes;\n\t\t\t\t\t}\n\t\t\t\t\tif (isJson) {\n\t\t\t\t\t\toptionProps['data-json'] = true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<option key={optionValueVal} value={optionValueVal} {...optionProps}>{optionValue.label}</option>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</select>\n\t\t\t{!multiple && (\n\t\t\t\t<CaretIcon\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tclassName={`formosa-icon--caret ${iconClassName}`.trim()}\n\t\t\t\t\theight={iconHeight}\n\t\t\t\t\twidth={iconWidth}\n\t\t\t\t\t{...iconAttributes}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nSelect.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\thideBlank: PropTypes.bool,\n\ticonAttributes: PropTypes.object,\n\ticonClassName: PropTypes.string,\n\ticonHeight: PropTypes.number,\n\ticonWidth: PropTypes.number,\n\tid: PropTypes.string,\n\tlabelKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tloadingText: PropTypes.string,\n\tmultiple: PropTypes.bool,\n\tname: PropTypes.string,\n\toptionAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\toptions: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]),\n\tsetValue: PropTypes.func,\n\tshowLoading: PropTypes.bool,\n\turl: PropTypes.string,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\tvalueKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nSelect.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\thideBlank: false,\n\ticonAttributes: null,\n\ticonClassName: '',\n\ticonHeight: 16,\n\ticonWidth: 16,\n\tid: null,\n\tlabelKey: 'name',\n\tloadingText: 'Loading...',\n\tmultiple: false,\n\tname: '',\n\toptionAttributes: null,\n\toptions: null,\n\tsetValue: null,\n\tshowLoading: false,\n\turl: null,\n\tvalue: null,\n\tvalueKey: null,\n\twrapperAttributes: null,\n\twrapperClassName: '',\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\n\nexport default function Textarea({\n\tafterChange,\n\tclassName,\n\tid,\n\tname,\n\tsetValue,\n\tvalue,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\n\tlet currentValue = '';\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<Textarea> component must be inside a <Form> component.');\n\t\t}\n\t\tcurrentValue = get(formState.row, name);\n\t}\n\tif (currentValue === null || currentValue === undefined) {\n\t\tcurrentValue = '';\n\t}\n\n\tconst onChange = (e) => {\n\t\tconst newValue = e.target.value;\n\t\tif (setValue) {\n\t\t\tsetValue(newValue, e);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\t};\n\n\tconst props = {};\n\tif (id || name) {\n\t\tprops.id = id || name;\n\t}\n\tif (name) {\n\t\tprops.name = name;\n\t}\n\n\treturn (\n\t\t<textarea\n\t\t\tclassName={`formosa-field__input formosa-field__input--textarea ${className}`.trim()}\n\t\t\tonChange={onChange}\n\t\t\tvalue={currentValue}\n\t\t\t{...props}\n\t\t\t{...otherProps}\n\t\t/>\n\t);\n}\n\nTextarea.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\tid: PropTypes.string,\n\tname: PropTypes.string,\n\tsetValue: PropTypes.func,\n\tvalue: PropTypes.string,\n};\n\nTextarea.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\tid: null,\n\tname: '',\n\tsetValue: null,\n\tvalue: null,\n};\n","import Autocomplete from './Input/Autocomplete';\nimport Checkbox from './Input/Checkbox';\nimport CheckboxList from './Input/CheckboxList';\nimport File from './Input/File';\nimport Input from './Input';\nimport Password from './Input/Password';\nimport Radio from './Input/Radio';\nimport Search from './Input/Search';\nimport Select from './Input/Select';\nimport Textarea from './Input/Textarea';\n\nexport default (type, component) => {\n\tif (component) {\n\t\treturn component;\n\t}\n\tif (type === 'select') {\n\t\treturn Select;\n\t}\n\tif (type === 'textarea') {\n\t\treturn Textarea;\n\t}\n\tif (type === 'radio') {\n\t\treturn Radio;\n\t}\n\tif (type === 'checkbox') {\n\t\treturn Checkbox;\n\t}\n\tif (type === 'password') {\n\t\treturn Password;\n\t}\n\tif (type === 'search') {\n\t\treturn Search;\n\t}\n\tif (type === 'autocomplete') {\n\t\treturn Autocomplete;\n\t}\n\tif (type === 'file') {\n\t\treturn File;\n\t}\n\tif (type === 'checkbox-list') {\n\t\treturn CheckboxList;\n\t}\n\treturn Input;\n};\n","import getInputElement from './FieldInput';\nimport PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default function ExportableInput({\n\tcomponent,\n\ttype,\n\t...otherProps\n}) {\n\tconst InputComponent = getInputElement(type, component);\n\treturn (\n\t\t<InputComponent type={type} {...otherProps} />\n\t);\n}\n\nExportableInput.propTypes = {\n\tcomponent: PropTypes.func,\n\ttype: PropTypes.string,\n};\n\nExportableInput.defaultProps = {\n\tcomponent: null,\n\ttype: 'text',\n};\n","import PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default function Label({\n\tclassName,\n\thtmlFor,\n\tlabel,\n\tnote,\n\trequired,\n\ttype,\n\t...otherProps\n}) {\n\tlet labelClassName = 'formosa-label';\n\tif (required) {\n\t\tlabelClassName += ' formosa-label--required';\n\t}\n\n\tlet wrapperClassName = 'formosa-label-wrapper';\n\tif (type === 'checkbox') {\n\t\twrapperClassName += ' formosa-label-wrapper--checkbox';\n\t}\n\n\tconst hasFieldset = ['radio', 'checkbox-list'].includes(type);\n\tconst props = {};\n\tif (htmlFor && !hasFieldset) {\n\t\tprops.htmlFor = htmlFor;\n\t}\n\tif (hasFieldset) {\n\t\tprops['aria-hidden'] = true;\n\t}\n\n\treturn (\n\t\t<div className={wrapperClassName}>\n\t\t\t<label className={`${labelClassName} ${className}`.trim()} {...props} {...otherProps}>{label}</label>\n\t\t\t{note && <span className=\"formosa-label__note\">{note}</span>}\n\t\t</div>\n\t);\n}\n\nLabel.propTypes = {\n\tclassName: PropTypes.string,\n\thtmlFor: PropTypes.string,\n\tlabel: PropTypes.string,\n\tnote: PropTypes.string,\n\trequired: PropTypes.bool,\n\ttype: PropTypes.string,\n};\n\nLabel.defaultProps = {\n\tclassName: '',\n\thtmlFor: '',\n\tlabel: '',\n\tnote: '',\n\trequired: false,\n\ttype: '',\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport ConditionalWrapper from './ConditionalWrapper';\nimport Error from './Error';\nimport FormContext from './FormContext';\nimport getInputElement from './FieldInput';\nimport Label from './Label';\nimport PropTypes from 'prop-types';\n\nexport default function Field({\n\tcomponent,\n\tdisabled,\n\tid,\n\tinputInnerWrapperAttributes,\n\tinputInnerWrapperClassName,\n\tinputWrapperAttributes,\n\tinputWrapperClassName,\n\tlabel,\n\tlabelAttributes,\n\tlabelClassName,\n\tlabelNote,\n\tlabelPosition,\n\tname,\n\tnote,\n\tprefix,\n\tpostfix,\n\treadOnly,\n\trequired,\n\tsuffix,\n\ttype,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\tconst { formState } = useContext(FormContext);\n\n\tconst inputProps = { ...otherProps };\n\tif (id) {\n\t\tinputProps.id = id;\n\t}\n\tif (name) {\n\t\tinputProps.name = name;\n\t}\n\tif (disabled) {\n\t\tinputProps.disabled = disabled;\n\t}\n\tif (readOnly) {\n\t\tinputProps.readOnly = readOnly;\n\t}\n\tif (required) {\n\t\tinputProps.required = required;\n\t}\n\tif (suffix) {\n\t\tinputProps.suffix = suffix;\n\t}\n\tif (type) {\n\t\tinputProps.type = type;\n\t\tif (readOnly && type === 'number') {\n\t\t\tinputProps.type = 'text';\n\t\t}\n\t\tif (['radio', 'checkbox-list'].includes(type) && !inputProps.legend) {\n\t\t\tinputProps.legend = label;\n\t\t}\n\t}\n\n\tconst InputComponent = getInputElement(type, component);\n\tconst input = (\n\t\t<InputComponent {...inputProps} />\n\t);\n\n\tif (type === 'hidden') {\n\t\treturn input;\n\t}\n\n\tconst htmlFor = id || name;\n\n\tconst labelComponent = (\n\t\t<Label\n\t\t\tclassName={labelClassName}\n\t\t\thtmlFor={htmlFor}\n\t\t\tlabel={label}\n\t\t\tnote={labelNote}\n\t\t\trequired={required}\n\t\t\ttype={type}\n\t\t\t{...labelAttributes}\n\t\t/>\n\t);\n\n\tconst hasError = formState && name && Object.prototype.hasOwnProperty.call(formState.errors, name);\n\n\tconst cleanName = htmlFor.replace(/[^a-z0-9_-]/gi, '');\n\tconst wrapperClassNameList = ['formosa-field'];\n\tif (cleanName) {\n\t\twrapperClassNameList.push(`formosa-field--${cleanName}`);\n\t}\n\tif (wrapperClassName) {\n\t\twrapperClassNameList.push(wrapperClassName);\n\t}\n\tif (hasError) {\n\t\twrapperClassNameList.push('formosa-field--has-error');\n\t}\n\tif (disabled) {\n\t\twrapperClassNameList.push('formosa-field--disabled');\n\t}\n\tif (readOnly) {\n\t\twrapperClassNameList.push('formosa-field--read-only');\n\t}\n\tif (prefix) {\n\t\twrapperClassNameList.push('formosa-field--has-prefix');\n\t}\n\tif (postfix) {\n\t\twrapperClassNameList.push('formosa-field--has-postfix');\n\t}\n\tif (labelPosition === 'after') {\n\t\twrapperClassNameList.push('formosa-field--label-after');\n\t}\n\n\tconst inputWrapperClassNameList = ['formosa-input-wrapper', `formosa-input-wrapper--${type}`];\n\tif (inputWrapperClassName) {\n\t\tinputWrapperClassNameList.push(inputWrapperClassName);\n\t}\n\tif (suffix) {\n\t\tinputWrapperClassNameList.push('formosa-field--has-suffix');\n\t}\n\n\tconst inputInnerWrapperClassNameList = ['formosa-input-inner-wrapper'];\n\tif (inputInnerWrapperClassName) {\n\t\tinputInnerWrapperClassNameList.push(inputInnerWrapperClassName);\n\t}\n\n\treturn (\n\t\t<div className={wrapperClassNameList.join(' ')} {...wrapperAttributes}>\n\t\t\t{label && labelPosition === 'before' && labelComponent}\n\t\t\t{label && labelPosition === 'after' && <div className=\"formosa-label-wrapper\" />}\n\t\t\t<div className={inputWrapperClassNameList.join(' ')} {...inputWrapperAttributes}>\n\t\t\t\t<ConditionalWrapper\n\t\t\t\t\tclassName={inputInnerWrapperClassNameList.join(' ')}\n\t\t\t\t\tcondition={!!prefix || !!postfix}\n\t\t\t\t\t{...inputInnerWrapperAttributes}\n\t\t\t\t>\n\t\t\t\t\t{prefix}\n\t\t\t\t\t{input}\n\t\t\t\t\t{label && labelPosition === 'after' && labelComponent}\n\t\t\t\t\t{note && (\n\t\t\t\t\t\t<div className=\"formosa-field__note\">{note}</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{postfix}\n\t\t\t\t</ConditionalWrapper>\n\t\t\t\t{formState && formState.showInlineErrors && <Error id={id} name={name} />}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nField.propTypes = {\n\tcomponent: PropTypes.func,\n\tdisabled: PropTypes.bool,\n\tid: PropTypes.string,\n\tinputInnerWrapperAttributes: PropTypes.object,\n\tinputInnerWrapperClassName: PropTypes.string,\n\tinputWrapperAttributes: PropTypes.object,\n\tinputWrapperClassName: PropTypes.string,\n\tlabel: PropTypes.string,\n\tlabelAttributes: PropTypes.object,\n\tlabelClassName: PropTypes.string,\n\tlabelNote: PropTypes.string,\n\tlabelPosition: PropTypes.string,\n\tname: PropTypes.string,\n\tnote: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\tprefix: PropTypes.node,\n\tpostfix: PropTypes.node,\n\treadOnly: PropTypes.bool,\n\trequired: PropTypes.bool,\n\tsuffix: PropTypes.string,\n\ttype: PropTypes.string,\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nField.defaultProps = {\n\tcomponent: null,\n\tdisabled: false,\n\tid: null,\n\tinputInnerWrapperAttributes: {},\n\tinputInnerWrapperClassName: '',\n\tinputWrapperAttributes: {},\n\tinputWrapperClassName: '',\n\tlabel: '',\n\tlabelAttributes: {},\n\tlabelClassName: '',\n\tlabelNote: '',\n\tlabelPosition: 'before',\n\tname: '',\n\tnote: '',\n\tprefix: null,\n\tpostfix: null,\n\treadOnly: false,\n\trequired: false,\n\tsuffix: '',\n\ttype: 'text',\n\twrapperAttributes: {},\n\twrapperClassName: '',\n};\n","import React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default React.createContext(\n\t{\n\t\ttoasts: {},\n\t\tshowWarningPrompt: true,\n\t\taddToast: () => {},\n\t\tremoveToast: () => {},\n\t\tdisableWarningPrompt: () => {},\n\t\tenableWarningPrompt: () => {},\n\t}\n);\n","import get from 'get-value';\nimport set from 'set-value';\n\nexport const getSimpleRecord = (record) => ({\n\tid: record.id,\n\ttype: record.type,\n});\n\nexport const cleanRelationship = (values) => {\n\tif (Array.isArray(values)) {\n\t\treturn values.map((value) => getSimpleRecord(value));\n\t}\n\treturn getSimpleRecord(values);\n};\n\nexport const cleanRecord = (record) => {\n\tconst hasAttributes = Object.keys(record.attributes).length > 0;\n\tif (!hasAttributes) {\n\t\tdelete record.attributes;\n\t}\n\n\tconst hasRelationships = Object.keys(record.relationships).length > 0;\n\tif (!hasRelationships) {\n\t\tdelete record.relationships;\n\t}\n\n\tif (!hasAttributes && !hasRelationships) {\n\t\treturn null;\n\t}\n\n\treturn record;\n};\n\nexport const filterByKey = (relationshipNames, key) => {\n\tconst output = [];\n\trelationshipNames.forEach((relName) => {\n\t\tif (relName.startsWith(`${key}.`)) {\n\t\t\tconst keys = relName.split('.');\n\t\t\tkeys.shift();\n\t\t\toutput.push(keys.join('.'));\n\t\t}\n\t});\n\treturn output;\n};\n\nexport const getDirtyRecords = (record, relationshipNames, dirtyRelationships) => {\n\tlet otherRecords = [];\n\tconst output = getSimpleRecord(record);\n\toutput.attributes = {};\n\toutput.relationships = {};\n\n\tObject.keys(record).forEach((key) => {\n\t\tif (key !== 'id' && key !== 'type') {\n\t\t\tif (Object.prototype.hasOwnProperty.call(dirtyRelationships, key)) {\n\t\t\t\tif (relationshipNames.includes(key)) {\n\t\t\t\t\tif (Array.isArray(record[key])) {\n\t\t\t\t\t\t// This is an array relationship.\n\t\t\t\t\t\tconst data = [];\n\t\t\t\t\t\trecord[key].forEach((rel, relIndex) => {\n\t\t\t\t\t\t\tif (typeof dirtyRelationships[key][relIndex] !== 'undefined') {\n\t\t\t\t\t\t\t\t// eslint-disable-next-line no-use-before-define\n\t\t\t\t\t\t\t\tconst x = getIncludedRecordData(rel, filterByKey(relationshipNames, key), dirtyRelationships[key][relIndex]);\n\t\t\t\t\t\t\t\totherRecords = otherRecords.concat(x);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdata.push(getSimpleRecord(rel));\n\t\t\t\t\t\t});\n\t\t\t\t\t\tset(output.relationships, key, { data });\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// This is an object relationship.\n\t\t\t\t\t\t// eslint-disable-next-line no-use-before-define\n\t\t\t\t\t\tconst x = getIncludedRecordData(record[key], filterByKey(relationshipNames, key), dirtyRelationships[key]);\n\t\t\t\t\t\tconst data = x.shift();\n\t\t\t\t\t\totherRecords = otherRecords.concat(x);\n\t\t\t\t\t\tset(output.relationships, key, { data });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// This is an attribute.\n\t\t\t\t\tset(output.attributes, key, record[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tconst rec = cleanRecord(output);\n\tif (rec !== null) {\n\t\totherRecords.unshift(rec);\n\t}\n\n\treturn otherRecords;\n};\n\nexport const getIncludedRecordData = (record, relationshipNames, dirtyRelationships) => {\n\t// This is a new record; include all attributes.\n\tif (record.id.startsWith('temp-')) {\n\t\treturn getDirtyRecords(record, relationshipNames, dirtyRelationships);\n\t}\n\n\t// This is an existing record with no changes; don't include it.\n\tif (typeof dirtyRelationships === 'undefined') {\n\t\treturn [];\n\t}\n\n\t// This is an existing record with no changes, but it's part of a relationship; include only the id/type.\n\tif (Object.keys(dirtyRelationships).length <= 0) {\n\t\treturn [getSimpleRecord(record)];\n\t}\n\n\t// This is an existing record with changes; include all the dirty attributes and relationships.\n\treturn getDirtyRecords(record, relationshipNames, dirtyRelationships);\n};\n\nexport const getDirtyRelationships = (dirtyKeys) => {\n\tconst output = {};\n\tdirtyKeys.forEach((key) => {\n\t\tconst currentKeys = [];\n\t\tkey.split('.').forEach((k) => {\n\t\t\tcurrentKeys.push(k);\n\t\t\tif (typeof get(output, currentKeys.join('.')) === 'undefined') {\n\t\t\t\tset(output, currentKeys.join('.'), {});\n\t\t\t}\n\t\t});\n\t});\n\treturn output;\n};\n\nexport const getIncludedRecords = (data, dirtyKeys, relationshipNames) => {\n\tlet output = [];\n\tif (dirtyKeys.length <= 0) {\n\t\treturn output;\n\t}\n\n\tconst dirtyRelationships = getDirtyRelationships(dirtyKeys);\n\n\t// For each dirty relationship, add the dirty records to the output.\n\tObject.keys(dirtyRelationships).forEach((relName) => {\n\t\tif (Object.prototype.hasOwnProperty.call(data.relationships, relName)) {\n\t\t\tif (Array.isArray(data.relationships[relName].data)) {\n\t\t\t\t// This is an array relationship.\n\t\t\t\tObject.keys(data.relationships[relName].data).forEach((relIndex) => {\n\t\t\t\t\tconst record = data.relationships[relName].data[relIndex];\n\t\t\t\t\tif (record) {\n\t\t\t\t\t\tconst records = getIncludedRecordData(record, filterByKey(relationshipNames, relName), dirtyRelationships[relName][relIndex]);\n\t\t\t\t\t\toutput = output.concat(records);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// This is an object relationship.\n\t\t\t\tconst record = data.relationships[relName].data;\n\t\t\t\tif (record) {\n\t\t\t\t\tconst records = getIncludedRecordData(record, filterByKey(relationshipNames, relName), dirtyRelationships[relName]);\n\t\t\t\t\toutput = output.concat(records);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t// Remove records with only an id/type.\n\treturn output.filter((record) => (Object.keys(record).length > 2));\n};\n\nexport const unset = (obj, key) => {\n\tif (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t\treturn delete obj[key];\n\t}\n\n\tconst keys = key.split('.');\n\tconst lastKey = keys.pop();\n\tlet o = obj;\n\tkeys.forEach((k) => {\n\t\to = o[k];\n\t});\n\treturn delete o[lastKey];\n};\n\nexport const appendToFormData = (obj, formData, prefix = '') => {\n\tObject.entries(obj).forEach((entry) => {\n\t\tconst [key, value] = entry;\n\t\tconst newKey = prefix ? `${prefix}[${key}]` : key;\n\t\tif (typeof value === 'object') {\n\t\t\tformData = appendToFormData(value, formData, newKey);\n\t\t} else {\n\t\t\tformData.append(newKey, JSON.stringify(value));\n\t\t}\n\t});\n\treturn formData;\n};\n\nexport const getBody = ( // eslint-disable-line import/prefer-default-export\n\tmethod,\n\ttype,\n\tid,\n\tformState,\n\tdirtyKeys,\n\trelationshipNames,\n\tfilterBody = null,\n\tfilterValues = null\n) => {\n\tlet body = null;\n\n\tif (method === 'PUT' || method === 'POST') {\n\t\t// Initialize the basic body structure.\n\t\tconst data = {\n\t\t\ttype,\n\t\t\tattributes: {},\n\t\t\trelationships: {},\n\t\t\tmeta: {},\n\t\t};\n\t\tif (method === 'PUT' && id) {\n\t\t\tdata.id = id;\n\t\t}\n\n\t\t// Allow the app to modify values before they are sorted into sections.\n\t\tlet values = { ...formState.row };\n\t\tif (filterValues) {\n\t\t\tvalues = filterValues(values);\n\t\t}\n\n\t\t// Get keys for file fields.\n\t\tconst fileKeys = Object.keys(formState.files);\n\n\t\t// If this is an update request, only include keys for changed values.\n\t\t// Otherwise (this must be an add request), include keys for all values.\n\t\tconst keys = method === 'PUT' ? dirtyKeys : Object.keys(formState.row);\n\n\t\t// Sort each value into the proper section.\n\t\tkeys.forEach((key) => {\n\t\t\tconst firstPartOfKey = key.replace(/\\..+$/, '');\n\t\t\tif (relationshipNames.includes(firstPartOfKey)) {\n\t\t\t\tdata.relationships[firstPartOfKey] = {\n\t\t\t\t\tdata: get(values, firstPartOfKey),\n\t\t\t\t};\n\t\t\t} else if (relationshipNames.includes(key)) {\n\t\t\t\tdata.relationships[key] = {\n\t\t\t\t\tdata: get(values, firstPartOfKey),\n\t\t\t\t};\n\t\t\t} else if (key.startsWith('meta.')) {\n\t\t\t\tset(data, key, get(values, key));\n\t\t\t} else if (key === 'meta') {\n\t\t\t\tdata.meta = values.meta;\n\t\t\t} else if (fileKeys.includes(key)) {\n\t\t\t\tunset(data.attributes, key);\n\t\t\t} else {\n\t\t\t\tset(data.attributes, key, get(values, key));\n\t\t\t}\n\t\t});\n\n\t\tbody = { data };\n\n\t\tconst included = getIncludedRecords(data, dirtyKeys, relationshipNames);\n\t\tif (included.length > 0) {\n\t\t\tbody.included = included;\n\t\t}\n\n\t\tObject.keys(data.relationships).forEach((relationshipName) => {\n\t\t\tif (typeof data.relationships[relationshipName].data === 'string') {\n\t\t\t\tif (data.relationships[relationshipName].data === '') {\n\t\t\t\t\tdata.relationships[relationshipName].data = null;\n\t\t\t\t} else {\n\t\t\t\t\tdata.relationships[relationshipName].data = JSON.parse(data.relationships[relationshipName].data);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (data.relationships[relationshipName].data) {\n\t\t\t\tdata.relationships[relationshipName].data = cleanRelationship(data.relationships[relationshipName].data);\n\t\t\t}\n\t\t});\n\n\t\t// Allow the app to modify values after they have been sorted into sections.\n\t\tif (filterBody) {\n\t\t\tbody = filterBody(body, formState.row);\n\t\t}\n\n\t\t// Remove any sections with no values.\n\t\tif (Object.keys(data.attributes).length <= 0) {\n\t\t\tdelete data.attributes;\n\t\t}\n\t\tif (Object.keys(data.meta).length <= 0) {\n\t\t\tdelete data.meta;\n\t\t}\n\t\tif (Object.keys(data.relationships).length <= 0) {\n\t\t\tdelete data.relationships;\n\t\t}\n\n\t\t// Handle file fields.\n\t\tconst filenames = fileKeys.filter((filename) => (formState.files[filename] !== false));\n\t\tif (filenames.length > 0) {\n\t\t\tconst formData = appendToFormData(body, new FormData());\n\t\t\tformData.append('meta[files]', JSON.stringify(filenames));\n\n\t\t\tfilenames.forEach((filename) => {\n\t\t\t\tformData.append(filename, formState.files[filename]);\n\t\t\t});\n\n\t\t\tbody = formData;\n\t\t}\n\t}\n\n\treturn body;\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport Alert from './Alert';\nimport Api from './Helpers/Api';\nimport FormContext from './FormContext';\nimport FormosaContext from './FormosaContext';\nimport { getBody } from './Helpers/JsonApi';\nimport PropTypes from 'prop-types';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport default function FormInner({\n\tafterNoSubmit,\n\tbeforeSubmit,\n\tchildren,\n\tclearOnSubmit,\n\tdefaultRow,\n\terrorMessageText,\n\terrorToastText,\n\tfilterBody,\n\tfilterValues,\n\thtmlId,\n\tid,\n\tmethod,\n\tparams,\n\tpath,\n\tpreventEmptyRequest,\n\tpreventEmptyRequestText,\n\trelationshipNames,\n\tshowMessage,\n\tsuccessMessageText,\n\tsuccessToastText,\n\t...otherProps\n}) {\n\tconst { formState, setFormState, getDirtyKeys } = useContext(FormContext);\n\tconst { addToast } = useContext(FormosaContext);\n\n\tconst submitApiRequest = (e) => {\n\t\te.preventDefault();\n\n\t\tconst dirtyKeys = getDirtyKeys();\n\t\tif (preventEmptyRequest && dirtyKeys.length <= 0) {\n\t\t\tif (preventEmptyRequestText) {\n\t\t\t\taddToast(preventEmptyRequestText);\n\t\t\t}\n\t\t\tif (afterNoSubmit) {\n\t\t\t\tafterNoSubmit();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (beforeSubmit && !beforeSubmit(e)) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet url = path;\n\t\tif (id) {\n\t\t\turl = `${path}/${id}`;\n\t\t}\n\t\tif (params) {\n\t\t\turl += `?${params}`;\n\t\t}\n\n\t\tconst body = getBody(\n\t\t\tmethod,\n\t\t\tpath,\n\t\t\tid,\n\t\t\tformState,\n\t\t\tdirtyKeys,\n\t\t\trelationshipNames,\n\t\t\tfilterBody,\n\t\t\tfilterValues\n\t\t);\n\n\t\tsetFormState({\n\t\t\t...formState,\n\t\t\talertClass: '',\n\t\t\talertText: '',\n\t\t\terrors: {},\n\t\t\tresponse: null,\n\t\t\ttoastClass: '',\n\t\t\ttoastText: '',\n\t\t});\n\n\t\tconst bodyString = body instanceof FormData ? body : JSON.stringify(body);\n\n\t\tApi.request(method, url, bodyString)\n\t\t\t.catch((response) => {\n\t\t\t\tif (!Object.prototype.hasOwnProperty.call(response, 'errors') || !Array.isArray(response.errors)) {\n\t\t\t\t\t// This is not a JSON:API-style error response.\n\t\t\t\t\tthrow response;\n\t\t\t\t}\n\n\t\t\t\tconst errors = {};\n\t\t\t\tlet key;\n\t\t\t\tresponse.errors.forEach((error) => {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(error, 'source')) {\n\t\t\t\t\t\tkey = error.source.pointer.replace('/data/attributes/', '');\n\t\t\t\t\t\tkey = key.replace('/data/meta/', 'meta.');\n\t\t\t\t\t\tif (key.startsWith('/included/')) {\n\t\t\t\t\t\t\tconst i = key.replace(/^\\/included\\/(\\d+)\\/.+$/g, '$1');\n\t\t\t\t\t\t\tconst includedRecord = body.included[parseInt(i, 10)];\n\t\t\t\t\t\t\tkey = key.replace(/^\\/included\\/(\\d+)\\//g, `included.${includedRecord.type}.${includedRecord.id}.`);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tkey = key.replace(/\\//g, '.');\n\t\t\t\t\t\tif (!document.querySelector(`[data-name=\"${key}\"].formosa-field__error`)) {\n\t\t\t\t\t\t\tkey = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tkey = '';\n\t\t\t\t\t}\n\t\t\t\t\tif (!Object.prototype.hasOwnProperty.call(errors, key)) {\n\t\t\t\t\t\terrors[key] = [];\n\t\t\t\t\t}\n\t\t\t\t\terrors[key].push(error.title);\n\t\t\t\t});\n\n\t\t\t\tsetFormState({\n\t\t\t\t\t...formState,\n\t\t\t\t\talertClass: 'error',\n\t\t\t\t\talertText: typeof errorMessageText === 'function' ? errorMessageText(response) : errorMessageText,\n\t\t\t\t\terrors,\n\t\t\t\t\tresponse,\n\t\t\t\t\ttoastClass: 'error',\n\t\t\t\t\ttoastText: typeof errorToastText === 'function' ? errorToastText(response) : errorToastText,\n\t\t\t\t\tuuid: uuidv4(),\n\t\t\t\t});\n\t\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tif (!response) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst newState = {\n\t\t\t\t\t...formState,\n\t\t\t\t\talertClass: 'success',\n\t\t\t\t\talertText: typeof successMessageText === 'function' ? successMessageText(response) : successMessageText,\n\t\t\t\t\terrors: {},\n\t\t\t\t\tresponse,\n\t\t\t\t\ttoastClass: 'success',\n\t\t\t\t\ttoastText: typeof successToastText === 'function' ? successToastText(response) : successToastText,\n\t\t\t\t\tuuid: uuidv4(),\n\t\t\t\t};\n\n\t\t\t\tif (clearOnSubmit) {\n\t\t\t\t\tnewState.originalRow = JSON.parse(JSON.stringify(defaultRow)); // Deep copy.\n\t\t\t\t\tnewState.row = JSON.parse(JSON.stringify(defaultRow)); // Deep copy.\n\t\t\t\t\tif (formState.setRow) {\n\t\t\t\t\t\tformState.setRow(newState.row);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tnewState.originalRow = JSON.parse(JSON.stringify(formState.row)); // Deep copy.\n\t\t\t\t}\n\n\t\t\t\tsetFormState(newState);\n\t\t\t});\n\t};\n\tif (method && path && !Object.prototype.hasOwnProperty.call(otherProps, 'onSubmit')) {\n\t\totherProps.onSubmit = submitApiRequest;\n\t}\n\tif (htmlId) {\n\t\totherProps.id = htmlId;\n\t}\n\n\treturn (\n\t\t<form {...otherProps}>\n\t\t\t{showMessage && formState.alertText && (<Alert type={formState.alertClass}>{formState.alertText}</Alert>)}\n\t\t\t{children}\n\t\t</form>\n\t);\n}\n\nFormInner.propTypes = {\n\tafterNoSubmit: PropTypes.func,\n\tbeforeSubmit: PropTypes.func,\n\tchildren: PropTypes.node,\n\tclearOnSubmit: PropTypes.bool,\n\tdefaultRow: PropTypes.object,\n\terrorMessageText: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\terrorToastText: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tfilterBody: PropTypes.func,\n\tfilterValues: PropTypes.func,\n\thtmlId: PropTypes.string,\n\tid: PropTypes.string,\n\tmethod: PropTypes.string,\n\tparams: PropTypes.string,\n\tpath: PropTypes.string,\n\tpreventEmptyRequest: PropTypes.bool,\n\tpreventEmptyRequestText: PropTypes.oneOfType([\n\t\tPropTypes.bool,\n\t\tPropTypes.string,\n\t]),\n\trelationshipNames: PropTypes.array,\n\tshowMessage: PropTypes.bool,\n\tsuccessMessageText: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tsuccessToastText: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n};\n\nFormInner.defaultProps = {\n\tafterNoSubmit: null,\n\tbeforeSubmit: null,\n\tchildren: null,\n\tclearOnSubmit: false,\n\tdefaultRow: {},\n\terrorMessageText: '',\n\terrorToastText: '',\n\tfilterBody: null,\n\tfilterValues: null,\n\thtmlId: '',\n\tid: '',\n\tmethod: null,\n\tparams: '',\n\tpath: null,\n\tpreventEmptyRequest: false,\n\tpreventEmptyRequestText: 'No changes to save.',\n\trelationshipNames: [],\n\tshowMessage: true,\n\tsuccessMessageText: '',\n\tsuccessToastText: '',\n};\n","import React, { useContext, useEffect, useMemo, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormContext from './FormContext';\nimport FormInner from './FormInner';\nimport FormosaContext from './FormosaContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\nimport set from 'set-value';\n\nexport default function Form({\n\tafterSubmitFailure,\n\tafterSubmitSuccess,\n\tchildren,\n\trow,\n\tsetRow,\n\tshowInlineErrors,\n\t...otherProps\n}) {\n\tconst { addToast } = useContext(FormosaContext);\n\n\tconst setOriginalValue = (fs, setFs, key, value) => {\n\t\tconst newRow = { ...fs.originalRow };\n\t\tset(newRow, key, value);\n\t\tsetFs({\n\t\t\t...fs,\n\t\t\toriginalRow: JSON.parse(JSON.stringify(newRow)), // Deep copy.\n\t\t});\n\t};\n\n\tconst [formState, setFormState] = useState({\n\t\talertClass: '',\n\t\talertText: '',\n\t\terrors: {},\n\t\tfiles: {},\n\t\toriginalRow: JSON.parse(JSON.stringify(row)), // Deep copy.\n\t\trow,\n\t\tresponse: null,\n\t\tsetOriginalValue,\n\t\tsetRow,\n\t\tshowInlineErrors,\n\t\ttoastClass: '',\n\t\ttoastText: '',\n\t\tuuid: null,\n\t});\n\n\tuseEffect(() => {\n\t\tif (JSON.stringify(row) === JSON.stringify(formState.row)) {\n\t\t\treturn;\n\t\t}\n\t\tsetFormState({\n\t\t\t...formState,\n\t\t\trow,\n\t\t});\n\t});\n\n\tuseEffect(() => {\n\t\tif (!formState.uuid) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (formState.toastText) {\n\t\t\taddToast(formState.toastText, formState.toastClass);\n\t\t}\n\n\t\tif (formState.alertClass === 'success' && afterSubmitSuccess) {\n\t\t\tafterSubmitSuccess(formState.response, formState, setFormState);\n\t\t} else if (formState.alertClass === 'error' && afterSubmitFailure) {\n\t\t\tafterSubmitFailure(formState.response, formState, setFormState);\n\t\t}\n\t}, [formState.uuid]);\n\n\tconst getDirtyKeys = (r, originalRow) => {\n\t\tlet dirtyKeys = [];\n\n\t\tObject.keys(r).forEach((key) => {\n\t\t\t// Get the old and new values.\n\t\t\tlet oldValue = get(originalRow, key);\n\t\t\tlet newValue = get(r, key);\n\t\t\tconst isArray = Array.isArray(oldValue) || Array.isArray(newValue);\n\n\t\t\tif (isArray) {\n\t\t\t\tlet itemDirtyKeys;\n\t\t\t\tObject.keys(newValue).forEach((newIndex) => {\n\t\t\t\t\tconst oldIndex = oldValue ? oldValue.findIndex((o) => (o.id === newValue[newIndex].id)) : -1;\n\t\t\t\t\titemDirtyKeys = getDirtyKeys(newValue[newIndex], oldIndex > -1 ? oldValue[oldIndex] : {});\n\t\t\t\t\titemDirtyKeys = itemDirtyKeys.map((k2) => `${key}.${newIndex}.${k2}`);\n\t\t\t\t\tdirtyKeys = dirtyKeys.concat(itemDirtyKeys);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Stringify for easier comparison.\n\t\t\tif (typeof oldValue !== 'string') {\n\t\t\t\toldValue = JSON.stringify(oldValue);\n\t\t\t}\n\t\t\tif (typeof newValue !== 'string') {\n\t\t\t\tnewValue = JSON.stringify(newValue);\n\t\t\t}\n\n\t\t\tif (newValue !== oldValue) {\n\t\t\t\tdirtyKeys.push(key);\n\t\t\t}\n\t\t});\n\n\t\treturn dirtyKeys;\n\t};\n\n\tconst setValues = (e, name, value, afterChange = null, files = null) => {\n\t\tconst newRow = { ...formState.row };\n\t\tset(newRow, name, value);\n\n\t\tif (afterChange) {\n\t\t\tconst additionalChanges = afterChange(e, newRow, value);\n\t\t\tObject.keys(additionalChanges).forEach((key) => {\n\t\t\t\tset(newRow, key, additionalChanges[key]);\n\t\t\t});\n\t\t}\n\n\t\tconst newFormState = {\n\t\t\t...formState,\n\t\t\trow: newRow,\n\t\t};\n\t\tif (files !== null) {\n\t\t\tset(newFormState, `files.${name}`, files);\n\t\t}\n\n\t\tsetFormState(newFormState);\n\t\tif (formState.setRow) {\n\t\t\tformState.setRow(newRow);\n\t\t}\n\t};\n\n\tconst value = useMemo(() => ({\n\t\tformState,\n\t\tsetFormState,\n\t\tclearAlert: () => (setFormState({ ...formState, alertText: '', alertClass: '' })),\n\t\tclearErrors: () => (setFormState({ ...formState, errors: {} })),\n\t\tgetDirtyKeys: () => (getDirtyKeys(formState.row, formState.originalRow)),\n\t\tsetValues,\n\t}), [formState]);\n\n\treturn (\n\t\t<FormContext.Provider value={value}>\n\t\t\t<FormInner {...otherProps}>\n\t\t\t\t{children}\n\t\t\t</FormInner>\n\t\t</FormContext.Provider>\n\t);\n}\n\nForm.propTypes = {\n\tafterSubmitFailure: PropTypes.func,\n\tafterSubmitSuccess: PropTypes.func,\n\tchildren: PropTypes.node,\n\trow: PropTypes.object,\n\tsetRow: PropTypes.func,\n\tshowInlineErrors: PropTypes.bool,\n};\n\nForm.defaultProps = {\n\tafterSubmitFailure: null,\n\tafterSubmitSuccess: null,\n\tchildren: null,\n\trow: {},\n\tsetRow: null,\n\tshowInlineErrors: true,\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport Alert from './Alert';\nimport FormContext from './FormContext';\n\nexport default function FormAlert({ ...otherProps }) {\n\tconst { formState } = useContext(FormContext);\n\n\tif (!formState.alertText) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Alert type={formState.alertClass} {...otherProps}>{formState.alertText}</Alert>\n\t);\n}\n","import PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\nimport { usePromiseTracker } from 'react-promise-tracker';\n\nexport default function Spinner({ loadingText }) {\n\tconst { promiseInProgress } = usePromiseTracker();\n\tif (!promiseInProgress) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<div className=\"formosa-spinner formosa-spinner--fullscreen\" role=\"status\">{loadingText}</div>\n\t);\n}\n\nSpinner.propTypes = {\n\tloadingText: PropTypes.string,\n};\n\nSpinner.defaultProps = {\n\tloadingText: 'Loading...',\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport { ReactComponent as CloseIcon } from '../svg/x.svg';\nimport FormosaContext from './FormosaContext';\nimport PropTypes from 'prop-types';\n\nexport default function Toast({\n\tclassName,\n\tid,\n\tmilliseconds,\n\ttext,\n}) {\n\tconst { removeToast } = useContext(FormosaContext);\n\n\treturn (\n\t\t<div aria-live=\"polite\" className={`formosa-toast ${className}`.trim()} role=\"alert\" style={{ animationDuration: `${milliseconds}ms` }}>\n\t\t\t<div className=\"formosa-toast__text\">{text}</div>\n\t\t\t<button className=\"formosa-toast__close\" onClick={() => (removeToast(id))} type=\"button\">\n\t\t\t\t<CloseIcon aria-hidden=\"true\" className=\"formosa-toast__close-icon\" height={12} width={12} />\n\t\t\t\tClose\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n\nToast.propTypes = {\n\tclassName: PropTypes.string,\n\tid: PropTypes.string.isRequired,\n\tmilliseconds: PropTypes.number.isRequired,\n\ttext: PropTypes.string.isRequired,\n};\n\nToast.defaultProps = {\n\tclassName: '',\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormosaContext from './FormosaContext';\nimport Toast from './Toast';\n\nexport default function ToastContainer() {\n\tconst { toasts } = useContext(FormosaContext);\n\treturn (\n\t\t<div className=\"formosa-toast-container\">\n\t\t\t{Object.keys(toasts).map((id) => (\n\t\t\t\t<Toast\n\t\t\t\t\tclassName={toasts[id].className}\n\t\t\t\t\tkey={id}\n\t\t\t\t\tid={id}\n\t\t\t\t\tmilliseconds={toasts[id].milliseconds}\n\t\t\t\t\ttext={toasts[id].text}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n","import React, { useMemo, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormosaContext from './FormosaContext';\nimport PropTypes from 'prop-types';\nimport Spinner from './Spinner';\nimport ToastContainer from './ToastContainer';\n\nexport default function FormContainer({ children, loadingText }) {\n\tconst [showWarningPrompt, setShowWarningPrompt] = useState(true);\n\tconst [toasts, setToasts] = useState({});\n\n\tconst removeToast = (toastId) => {\n\t\tconst newToasts = { ...toasts };\n\t\tif (Object.prototype.hasOwnProperty.call(toasts, toastId)) {\n\t\t\tdelete newToasts[toastId];\n\t\t\tsetToasts(newToasts);\n\t\t}\n\t};\n\n\tconst addToast = (text, type = '', milliseconds = 5000) => {\n\t\tconst toastId = new Date().getTime();\n\t\tconst toast = {\n\t\t\tclassName: type ? `formosa-toast--${type}` : '',\n\t\t\ttext,\n\t\t\tmilliseconds,\n\t\t};\n\t\tconst newToasts = {\n\t\t\t...toasts,\n\t\t\t[toastId]: toast,\n\t\t};\n\t\tsetToasts(newToasts);\n\t\tsetTimeout(() => {\n\t\t\tremoveToast(toastId);\n\t\t}, milliseconds);\n\t};\n\n\tconst disableWarningPrompt = () => {\n\t\tsetShowWarningPrompt(false);\n\t};\n\n\tconst enableWarningPrompt = () => {\n\t\tsetShowWarningPrompt(true);\n\t};\n\n\tconst value = useMemo(() => ({\n\t\ttoasts,\n\t\tshowWarningPrompt,\n\t\taddToast,\n\t\tremoveToast,\n\t\tdisableWarningPrompt,\n\t\tenableWarningPrompt,\n\t}), [toasts, showWarningPrompt]);\n\n\treturn (\n\t\t<FormosaContext.Provider value={value}>\n\t\t\t{children}\n\t\t\t<Spinner loadingText={loadingText} />\n\t\t\t<ToastContainer />\n\t\t</FormosaContext.Provider>\n\t);\n}\n\nFormContainer.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n\tloadingText: PropTypes.string,\n};\n\nFormContainer.defaultProps = {\n\tloadingText: 'Loading...',\n};\n","import PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default function Submit({\n\tclassName,\n\tlabel,\n\tprefix,\n\tpostfix,\n\t...otherProps\n}) {\n\treturn (\n\t\t<div className=\"formosa-field formosa-field--submit\">\n\t\t\t<div className=\"formosa-label-wrapper formosa-label-wrapper--submit\" />\n\t\t\t<div className=\"formosa-input-wrapper formosa-input-wrapper--submit\">\n\t\t\t\t{prefix}\n\t\t\t\t<button\n\t\t\t\t\tclassName={`formosa-button formosa-button--submit ${className}`.trim()}\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t{...otherProps}\n\t\t\t\t>\n\t\t\t\t\t{label}\n\t\t\t\t</button>\n\t\t\t\t{postfix}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nSubmit.propTypes = {\n\tclassName: PropTypes.string,\n\tlabel: PropTypes.string,\n\tprefix: PropTypes.node,\n\tpostfix: PropTypes.node,\n};\n\nSubmit.defaultProps = {\n\tclassName: '',\n\tlabel: 'Submit',\n\tprefix: null,\n\tpostfix: null,\n};\n"],"names":["Alert","_ref","className","children","type","otherProps","alertClass","React","createElement","_extends","role","propTypes","PropTypes","string","node","isRequired","defaultProps","findIncluded","included","id","mainRecord","output","Object","prototype","hasOwnProperty","call","attributes","meta","find","data","deserializeSingle","otherRows","includedRecord","keys","relationships","forEach","relationshipName","Array","isArray","rel","i","deserialize","body","push","Api","instance","responses","url","showSpinner","get","request","delete","post","put","method","options","headers","Accept","getToken","Authorization","fullUrl","process","env","REACT_APP_API_URL","startsWith","replace","event","CustomEvent","cancelable","detail","document","dispatchEvent","Promise","resolve","promise","fetch","then","response","ok","json","catch","error","SyntaxError","errors","title","status","trackPromise","window","FORMOSA_TOKEN","setToken","token","createContext","alertText","files","originalRow","row","setRow","toastClass","toastText","uuid","Error","name","formState","useContext","FormContext","hasError","props","map","e","key","normalizeOptions","labelKey","valueKey","option","label","value","escapeRegExp","toSlug","s","toLowerCase","filterByKey","records","escapedValue","filter","record","recordValue","toString","match","RegExp","sort","a","b","aValue","bValue","aPos","indexOf","bPos","localeCompare","Autocomplete","afterAdd","afterChange","clearable","clearButtonAttributes","clearButtonClassName","clearIconAttributes","clearIconHeight","clearIconWidth","clearText","disabled","inputClassName","inputAttributes","labelFn","loadingText","max","optionButtonAttributes","optionButtonClassName","optionLabelFn","optionListAttributes","optionListClassName","optionListItemAttributes","optionListItemClassName","placeholder","readOnly","removeButtonAttributes","removeButtonClassName","removeIconAttributes","removeIconHeight","removeIconWidth","removeText","setValue","showLoading","valueListItemAttributes","wrapperAttributes","wrapperClassName","setValues","clearButtonRef","useRef","inputRef","hiddenInputRef","removeButtonRef","setFilter","useState","isOpen","setIsOpen","highlightedIndex","setHighlightedIndex","optionValues","setOptionValues","isLoading","setIsLoading","loadError","setLoadError","api","useEffect","join","currentValue","undefined","currentValueLength","length","isSelected","findIndex","v","JSON","stringify","filteredOptions","focus","current","addValue","newValue","target","removeValue","index","splice","onChange","onFocus","onKeyDown","filterValue","preventDefault","onKeyUp","onClickOption","val","getAttribute","parse","onClickRemoveOption","button","tagName","toUpperCase","parentNode","clear","showClear","canAddValues","wrapperProps","trim","isJson","o","valueListItemProps","removeButtonProps","removeIconProps","onClick","ref","CloseIcon","height","width","autoComplete","optionClassName","optionListItemProps","optionButtonProps","func","bool","object","number","oneOfType","array","arrayOf","Checkbox","iconAttributes","iconClassName","iconHeight","iconWidth","checked","Fragment","CheckIcon","CheckboxList","fieldsetAttributes","fieldsetClassName","itemAttributes","itemClassName","itemLabelAttributes","itemLabelClassName","itemSpanAttributes","itemSpanClassName","legend","currentValueStringified","optionValue","optionValueVal","includes","itemProps","itemLabelProps","inputProps","iconProps","itemSpanProps","File","buttonAttributes","buttonClassName","emptyText","imageAttributes","imageClassName","imageHeight","imagePrefix","imagePreview","inputWrapperAttributes","inputWrapperClassName","linkAttributes","linkClassName","linkImage","multiple","required","hasValue","getFilenames","FileList","numFiles","item","getSrcs","URL","createObjectURL","v2","filenames","setFilenames","srcs","setSrcs","newFiles","onRemove","prefixClassName","hiddenProps","buttonProps","src","img","alt","href","ConditionalWrapper","condition","any","Input","suffix","Password","hideAria","hideText","showAria","showText","tempType","setTempType","togglePassword","spellCheck","Radio","Search","SearchIcon","Select","hideBlank","optionAttributes","from","selected","querySelector","optionProps","CaretIcon","Textarea","component","ExportableInput","InputComponent","getInputElement","Label","htmlFor","note","labelClassName","hasFieldset","Field","inputInnerWrapperAttributes","inputInnerWrapperClassName","labelAttributes","labelNote","labelPosition","prefix","postfix","input","labelComponent","cleanName","wrapperClassNameList","inputWrapperClassNameList","inputInnerWrapperClassNameList","showInlineErrors","toasts","showWarningPrompt","addToast","removeToast","disableWarningPrompt","enableWarningPrompt","getSimpleRecord","cleanRelationship","values","cleanRecord","hasAttributes","hasRelationships","relationshipNames","relName","split","shift","getDirtyRecords","dirtyRelationships","otherRecords","relIndex","x","getIncludedRecordData","concat","set","rec","unshift","getDirtyRelationships","dirtyKeys","currentKeys","k","getIncludedRecords","unset","obj","lastKey","pop","appendToFormData","formData","entries","entry","newKey","append","getBody","filterBody","filterValues","fileKeys","firstPartOfKey","filename","FormData","FormInner","afterNoSubmit","beforeSubmit","clearOnSubmit","defaultRow","errorMessageText","errorToastText","htmlId","params","path","preventEmptyRequest","preventEmptyRequestText","showMessage","successMessageText","successToastText","setFormState","getDirtyKeys","FormosaContext","submitApiRequest","bodyString","source","pointer","parseInt","uuidv4","newState","onSubmit","Form","afterSubmitFailure","afterSubmitSuccess","setOriginalValue","fs","setFs","newRow","r","oldValue","itemDirtyKeys","newIndex","oldIndex","k2","additionalChanges","newFormState","useMemo","clearAlert","clearErrors","Provider","FormAlert","Spinner","promiseInProgress","usePromiseTracker","Toast","milliseconds","text","style","animationDuration","ToastContainer","FormContainer","setShowWarningPrompt","setToasts","toastId","newToasts","Date","getTime","toast","setTimeout","Submit"],"mappings":"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"}