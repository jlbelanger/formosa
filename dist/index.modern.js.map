{"version":3,"file":"index.modern.js","sources":["../src/js/Alert.js","../src/js/Helpers/JsonApi.js","../src/js/Helpers/Api.js","../src/js/FormContext.js","../src/js/Error.js","../src/js/Helpers/Options.js","../src/js/Input/Autocomplete.js","../src/js/Input/Checkbox.js","../src/js/Input/CheckboxList.js","../src/js/Input/File.js","../src/js/ConditionalWrapper.js","../src/js/Input.js","../src/js/Input/Password.js","../src/js/Input/Radio.js","../src/js/Input/Search.js","../src/js/Input/Select.js","../src/js/Input/Textarea.js","../src/js/FieldInput.js","../src/js/ExportableInput.js","../src/js/Label.js","../src/js/Field.js","../src/js/FormosaContext.js","../src/js/FormInner.js","../src/js/Form.js","../src/js/FormAlert.js","../src/js/Spinner.js","../src/js/Toast.js","../src/js/ToastContainer.js","../src/js/FormContainer.js","../src/js/Submit.js","../src/index.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default function Alert({ className, children, type, ...otherProps }) {\n\tif (!children) {\n\t\treturn null;\n\t}\n\n\tlet alertClass = 'formosa-alert';\n\tif (type) {\n\t\talertClass += ` formosa-alert--${type}`;\n\t}\n\tif (className) {\n\t\talertClass += ` ${className}`;\n\t}\n\n\treturn (\n\t\t<div aria-live=\"polite\" className={alertClass} role=\"alert\" {...otherProps}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nAlert.propTypes = {\n\tclassName: PropTypes.string,\n\tchildren: PropTypes.node.isRequired,\n\ttype: PropTypes.string,\n};\n\nAlert.defaultProps = {\n\tclassName: '',\n\ttype: null,\n};\n","import get from 'get-value';\nimport set from 'set-value';\n\nconst findIncluded = (included, id, type, mainRecord) => {\n\tif (mainRecord && id === mainRecord.id && type === mainRecord.type) {\n\t\tconst output = {\n\t\t\tid: mainRecord.id,\n\t\t\ttype: mainRecord.type,\n\t\t};\n\t\tif (Object.prototype.hasOwnProperty.call(mainRecord, 'attributes')) {\n\t\t\toutput.attributes = mainRecord.attributes;\n\t\t}\n\t\tif (Object.prototype.hasOwnProperty.call(mainRecord, 'meta')) {\n\t\t\toutput.meta = mainRecord.meta;\n\t\t}\n\t\treturn output;\n\t}\n\treturn included.find((data) => (data.id === id && data.type === type));\n};\n\nconst deserializeSingle = (data, otherRows = [], included = [], mainRecord = null) => {\n\tif (!data) {\n\t\treturn data;\n\t}\n\tconst output = {\n\t\tid: data.id,\n\t\ttype: data.type,\n\t\t...data.attributes,\n\t};\n\n\tif (Object.prototype.hasOwnProperty.call(data, 'relationships')) {\n\t\tlet includedRecord;\n\t\tObject.keys(data.relationships).forEach((relationshipName) => {\n\t\t\toutput[relationshipName] = data.relationships[relationshipName].data;\n\t\t\tif (Array.isArray(output[relationshipName])) {\n\t\t\t\toutput[relationshipName].forEach((rel, i) => {\n\t\t\t\t\tincludedRecord = findIncluded(included, rel.id, rel.type, mainRecord);\n\t\t\t\t\tif (includedRecord) {\n\t\t\t\t\t\toutput[relationshipName][i] = deserializeSingle(includedRecord, otherRows, included, mainRecord);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tincludedRecord = findIncluded(otherRows, rel.id, rel.type, mainRecord);\n\t\t\t\t\t\tif (includedRecord) {\n\t\t\t\t\t\t\toutput[relationshipName][i] = deserializeSingle(includedRecord, otherRows, included, mainRecord);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (output[relationshipName] !== null) {\n\t\t\t\tincludedRecord = findIncluded(included, output[relationshipName].id, output[relationshipName].type, mainRecord);\n\t\t\t\tif (includedRecord) {\n\t\t\t\t\toutput[relationshipName] = deserializeSingle(includedRecord, otherRows, included, mainRecord);\n\t\t\t\t} else {\n\t\t\t\t\tincludedRecord = findIncluded(otherRows, output[relationshipName].id, output[relationshipName].type, mainRecord);\n\t\t\t\t\tif (includedRecord) {\n\t\t\t\t\t\toutput[relationshipName] = deserializeSingle(includedRecord, otherRows, included, mainRecord);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tif (Object.prototype.hasOwnProperty.call(data, 'meta')) {\n\t\toutput.meta = data.meta;\n\t}\n\n\treturn output;\n};\n\nexport const deserialize = (body) => {\n\tif (Array.isArray(body.data)) {\n\t\tconst output = [];\n\t\tbody.data.forEach((data) => {\n\t\t\toutput.push(deserializeSingle(data, body.data, body.included, null));\n\t\t});\n\n\t\tif (Object.prototype.hasOwnProperty.call(body, 'meta')) {\n\t\t\treturn { data: output, meta: body.meta };\n\t\t}\n\n\t\treturn output;\n\t}\n\treturn deserializeSingle(body.data, [], body.included, body.data);\n};\n\nconst cleanSingleRelationship = (values) => ({\n\tid: values.id,\n\ttype: values.type,\n});\n\nconst cleanRelationship = (values) => {\n\tif (Array.isArray(values)) {\n\t\treturn values.map((value) => cleanSingleRelationship(value));\n\t}\n\treturn cleanSingleRelationship(values);\n};\n\nconst getIncludedItemData = (rel, relName, childRelationshipNames, dirtyRelationships, relIndex = null) => {\n\tconst relData = {\n\t\tid: rel.id,\n\t\ttype: rel.type,\n\t\tattributes: {},\n\t\trelationships: {},\n\t};\n\n\tif (rel.id.startsWith('temp-')) {\n\t\t// This is a new record; include all attributes.\n\t\tObject.keys(rel).forEach((key) => {\n\t\t\tif (key !== 'id' && key !== 'type') {\n\t\t\t\tif (childRelationshipNames[relName].includes(key)) {\n\t\t\t\t\tconst childRel = {\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tid: rel[key].id,\n\t\t\t\t\t\t\ttype: rel[key].type,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t\tset(relData.relationships, key, childRel);\n\t\t\t\t} else {\n\t\t\t\t\tset(relData.attributes, key, rel[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t} else {\n\t\t// This is an existing record; include only the dirty attributes.\n\t\tObject.keys(rel).forEach((key) => {\n\t\t\tif (key !== 'id' && key !== 'type') {\n\t\t\t\tif (relIndex === null) {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(dirtyRelationships[relName], key)) {\n\t\t\t\t\t\tset(relData.attributes, key, rel[key]);\n\t\t\t\t\t}\n\t\t\t\t} else if (Object.prototype.hasOwnProperty.call(dirtyRelationships[relName], relIndex)) {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(dirtyRelationships[relName][relIndex], key)) {\n\t\t\t\t\t\tset(relData.attributes, key, rel[key]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tconst hasAttributes = Object.keys(relData.attributes).length > 0;\n\tif (!hasAttributes) {\n\t\tdelete relData.attributes;\n\t}\n\tconst hasRelationships = Object.keys(relData.relationships).length > 0;\n\tif (!hasRelationships) {\n\t\tdelete relData.relationships;\n\t}\n\n\tif (!hasAttributes && !hasRelationships) {\n\t\treturn null;\n\t}\n\n\treturn relData;\n};\n\nconst getIncluded = (data, dirtyKeys, relationshipNames) => {\n\tconst included = [];\n\n\tconst dirtyRelationships = {};\n\tdirtyKeys.forEach((key) => {\n\t\tconst currentKeys = [];\n\t\tkey.split('.').forEach((k) => {\n\t\t\tcurrentKeys.push(k);\n\t\t\tif (typeof get(dirtyRelationships, currentKeys.join('.')) === 'undefined') {\n\t\t\t\tset(dirtyRelationships, currentKeys.join('.'), {});\n\t\t\t}\n\t\t});\n\t});\n\n\tconst childRelationshipNames = {};\n\trelationshipNames.forEach((relName) => {\n\t\tchildRelationshipNames[relName] = [];\n\t\tif (relName.includes('.')) {\n\t\t\tconst keys = relName.split('.');\n\t\t\tchildRelationshipNames[keys.shift()].push(keys.join('.'));\n\t\t}\n\t});\n\n\tObject.keys(dirtyRelationships).forEach((relName) => {\n\t\tif (Object.prototype.hasOwnProperty.call(data.relationships, relName)) {\n\t\t\tlet relData;\n\t\t\tif (Array.isArray(data.relationships[relName].data)) {\n\t\t\t\tObject.keys(data.relationships[relName].data).forEach((relIndex) => {\n\t\t\t\t\tconst rel = data.relationships[relName].data[relIndex];\n\t\t\t\t\tif (rel) {\n\t\t\t\t\t\trelData = getIncludedItemData(rel, relName, childRelationshipNames, dirtyRelationships, relIndex);\n\t\t\t\t\t\tif (relData) {\n\t\t\t\t\t\t\tincluded.push(relData);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst rel = data.relationships[relName].data;\n\t\t\t\tif (rel) {\n\t\t\t\t\trelData = getIncludedItemData(rel, relName, childRelationshipNames, dirtyRelationships);\n\t\t\t\t\tif (relData) {\n\t\t\t\t\t\tincluded.push(relData);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\treturn included;\n};\n\nconst unset = (obj, key) => {\n\tif (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t\treturn delete obj[key];\n\t}\n\n\tconst keys = key.split('.');\n\tconst lastKey = keys.pop();\n\tlet o = obj;\n\tkeys.forEach((k) => {\n\t\to = o[k];\n\t});\n\treturn delete o[lastKey];\n};\n\nconst appendToFormData = (obj, formData, prefix = '') => {\n\tObject.entries(obj).forEach((entry) => {\n\t\tconst [key, value] = entry;\n\t\tconst newKey = prefix ? `${prefix}[${key}]` : key;\n\t\tif (typeof value === 'object') {\n\t\t\tformData = appendToFormData(value, formData, newKey);\n\t\t} else {\n\t\t\tformData.append(newKey, JSON.stringify(value));\n\t\t}\n\t});\n\treturn formData;\n};\n\nexport const getBody = (\n\tmethod,\n\ttype,\n\tid,\n\tformState,\n\tdirtyKeys,\n\trelationshipNames,\n\tfilterBody,\n\tfilterValues\n) => {\n\tlet body = null;\n\n\tif (method === 'PUT' || method === 'POST') {\n\t\t// Initialize the basic body structure.\n\t\tconst data = {\n\t\t\ttype,\n\t\t\tattributes: {},\n\t\t\trelationships: {},\n\t\t\tmeta: {},\n\t\t};\n\t\tif (method === 'PUT' && id) {\n\t\t\tdata.id = id;\n\t\t}\n\n\t\t// Allow the app to modify values before they are sorted into sections.\n\t\tlet values = { ...formState.row };\n\t\tif (filterValues) {\n\t\t\tvalues = filterValues(values);\n\t\t}\n\n\t\t// Get keys for file fields.\n\t\tconst fileKeys = Object.keys(formState.files);\n\n\t\t// If this is an update request, only include keys for changed values.\n\t\t// Otherwise (this must be an add request), include keys for all values.\n\t\tconst keys = method === 'PUT' ? dirtyKeys : Object.keys(formState.row);\n\n\t\t// Sort each value into the proper section.\n\t\tkeys.forEach((key) => {\n\t\t\tconst firstPartOfKey = key.replace(/\\..+$/, '');\n\t\t\tif (relationshipNames.includes(firstPartOfKey)) {\n\t\t\t\tdata.relationships[firstPartOfKey] = {\n\t\t\t\t\tdata: get(values, firstPartOfKey),\n\t\t\t\t};\n\t\t\t} else if (relationshipNames.includes(key)) {\n\t\t\t\tdata.relationships[key] = {\n\t\t\t\t\tdata: get(values, firstPartOfKey),\n\t\t\t\t};\n\t\t\t} else if (key.startsWith('meta.')) {\n\t\t\t\tset(data, key, get(values, key));\n\t\t\t} else if (key === 'meta') {\n\t\t\t\tdata.meta = values.meta;\n\t\t\t} else if (fileKeys.includes(key)) {\n\t\t\t\tunset(data.attributes, key);\n\t\t\t} else {\n\t\t\t\tset(data.attributes, key, get(values, key));\n\t\t\t}\n\t\t});\n\n\t\tbody = { data };\n\n\t\tconst included = getIncluded(data, dirtyKeys, relationshipNames);\n\t\tif (included.length > 0) {\n\t\t\tbody.included = included;\n\t\t}\n\n\t\tObject.keys(data.relationships).forEach((relationshipName) => {\n\t\t\tif (typeof data.relationships[relationshipName].data === 'string') {\n\t\t\t\tif (data.relationships[relationshipName].data === '') {\n\t\t\t\t\tdata.relationships[relationshipName].data = null;\n\t\t\t\t} else {\n\t\t\t\t\tdata.relationships[relationshipName].data = JSON.parse(data.relationships[relationshipName].data);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (data.relationships[relationshipName].data) {\n\t\t\t\tdata.relationships[relationshipName].data = cleanRelationship(data.relationships[relationshipName].data);\n\t\t\t}\n\t\t});\n\n\t\t// Allow the app to modify values after they have been sorted into sections.\n\t\tif (filterBody) {\n\t\t\tbody = filterBody(body, formState.row);\n\t\t}\n\n\t\t// Remove any sections with no values.\n\t\tif (Object.keys(data.attributes).length <= 0) {\n\t\t\tdelete data.attributes;\n\t\t}\n\t\tif (Object.keys(data.meta).length <= 0) {\n\t\t\tdelete data.meta;\n\t\t}\n\t\tif (Object.keys(data.relationships).length <= 0) {\n\t\t\tdelete data.relationships;\n\t\t}\n\n\t\t// Handle file fields.\n\t\tconst filenames = fileKeys.filter((filename) => (formState.files[filename] !== false));\n\t\tif (filenames.length > 0) {\n\t\t\tconst formData = appendToFormData(body, new FormData());\n\t\t\tformData.append('meta[files]', JSON.stringify(filenames));\n\n\t\t\tfilenames.forEach((filename) => {\n\t\t\t\tformData.append(filename, formState.files[filename]);\n\t\t\t});\n\n\t\t\tbody = formData;\n\t\t}\n\t}\n\n\treturn body;\n};\n","import { deserialize } from './JsonApi';\nimport { trackPromise } from 'react-promise-tracker';\n\nexport default class Api {\n\tstatic instance() {\n\t\tconst responses = {};\n\t\treturn (url, showSpinner) => {\n\t\t\tif (!Object.prototype.hasOwnProperty.call(responses, url)) {\n\t\t\t\tresponses[url] = Api.get(url, showSpinner);\n\t\t\t}\n\t\t\treturn responses[url];\n\t\t};\n\t}\n\n\tstatic get(url, showSpinner = true) {\n\t\treturn Api.request('GET', url, null, showSpinner);\n\t}\n\n\tstatic delete(url, showSpinner = true) {\n\t\treturn Api.request('DELETE', url, null, showSpinner);\n\t}\n\n\tstatic post(url, body, showSpinner = true) {\n\t\treturn Api.request('POST', url, body, showSpinner);\n\t}\n\n\tstatic put(url, body, showSpinner = true) {\n\t\treturn Api.request('PUT', url, body, showSpinner);\n\t}\n\n\tstatic request(method, url, body = null, showSpinner = true) {\n\t\tconst options = {\n\t\t\tmethod,\n\t\t\theaders: {\n\t\t\t\tAccept: 'application/json',\n\t\t\t\t'X-Requested-With': 'XMLHttpRequest',\n\t\t\t},\n\t\t};\n\t\tif (typeof body === 'string') {\n\t\t\toptions.headers['Content-Type'] = 'application/json';\n\t\t}\n\t\tif (Api.getToken()) {\n\t\t\toptions.headers.Authorization = `Bearer ${Api.getToken()}`;\n\t\t}\n\t\tif (body) {\n\t\t\toptions.body = body;\n\t\t}\n\n\t\tlet fullUrl = url;\n\t\tif (process.env.REACT_APP_API_URL && !url.startsWith('http')) {\n\t\t\tfullUrl = `${process.env.REACT_APP_API_URL.replace(/\\/$/, '')}/${url.replace(/^\\//, '')}`;\n\t\t}\n\n\t\tconst event = new CustomEvent('formosaApiRequest', { cancelable: true, detail: { url: fullUrl, options } });\n\t\tif (!document.dispatchEvent(event)) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\tconst promise = fetch(fullUrl, options)\n\t\t\t.then((response) => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\treturn response.json()\n\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\tif (error instanceof SyntaxError) {\n\t\t\t\t\t\t\t\tthrow { // eslint-disable-line no-throw-literal\n\t\t\t\t\t\t\t\t\terrors: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Unable to connect to the server. Please try again later.',\n\t\t\t\t\t\t\t\t\t\t\tstatus: '500',\n\t\t\t\t\t\t\t\t\t\t\tdetail: 'The server returned invalid JSON.',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\tstatus: 500,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthrow error;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then((json) => {\n\t\t\t\t\t\t\tjson.status = response.status;\n\t\t\t\t\t\t\tthrow json;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (response.status === 204) {\n\t\t\t\t\treturn {};\n\t\t\t\t}\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then((json) => {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(json, 'data')) {\n\t\t\t\t\treturn deserialize(json);\n\t\t\t\t}\n\t\t\t\treturn json;\n\t\t\t});\n\n\t\treturn showSpinner ? trackPromise(promise) : promise;\n\t}\n\n\tstatic getToken() {\n\t\treturn window.FORMOSA_TOKEN;\n\t}\n\n\tstatic setToken(token) {\n\t\twindow.FORMOSA_TOKEN = token;\n\t}\n\n\tstatic deserialize(json) {\n\t\tif (Object.prototype.hasOwnProperty.call(json, 'data')) {\n\t\t\treturn deserialize(json);\n\t\t}\n\t\treturn json;\n\t}\n}\n","import React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default React.createContext(\n\t{\n\t\talertClass: '',\n\t\talertText: '',\n\t\terrors: {},\n\t\tfiles: {},\n\t\toriginalRow: {},\n\t\trow: {},\n\t\tresponse: null,\n\t\tsetRow: null,\n\t\ttoastClass: '',\n\t\ttoastText: '',\n\t\tuuid: null,\n\t}\n);\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormContext from './FormContext';\nimport PropTypes from 'prop-types';\n\nexport default function Error({\n\tid,\n\tname,\n}) {\n\tconst { formState } = useContext(FormContext);\n\tconst hasError = formState && Object.prototype.hasOwnProperty.call(formState.errors, name);\n\n\tconst props = {};\n\tif (name) {\n\t\t// Used for matching the attribute name from the API to this error element.\n\t\tprops['data-name'] = name;\n\t}\n\tif (id || name) {\n\t\tprops.id = `${id || name}-error`;\n\t}\n\n\treturn (\n\t\t<div className=\"formosa-field__error\" {...props}>\n\t\t\t{hasError && formState.errors[name].map((e) => (<div key={e}>{e}</div>))}\n\t\t</div>\n\t);\n}\n\nError.propTypes = {\n\tid: PropTypes.string,\n\tname: PropTypes.string,\n};\n\nError.defaultProps = {\n\tid: null,\n\tname: '',\n};\n","import get from 'get-value';\n\nexport const normalizeOptions = (options, labelKey, valueKey = null) => {\n\tif (!options) {\n\t\treturn [];\n\t}\n\n\tconst output = [];\n\tif (Array.isArray(options)) {\n\t\toptions.forEach((option) => {\n\t\t\tif (typeof option === 'string') {\n\t\t\t\toutput.push({\n\t\t\t\t\tlabel: option,\n\t\t\t\t\tvalue: option,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\toutput.push({\n\t\t\t\t\t...option,\n\t\t\t\t\tlabel: typeof labelKey === 'function' ? labelKey(option) : get(option, labelKey),\n\t\t\t\t\tvalue: typeof valueKey === 'function' ? valueKey(option) : get(option, valueKey),\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t} else {\n\t\tObject.keys(options).forEach((value) => {\n\t\t\tconst option = options[value];\n\t\t\tif (typeof value === 'string') {\n\t\t\t\toutput.push({\n\t\t\t\t\tlabel: option,\n\t\t\t\t\tvalue,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\toutput.push({\n\t\t\t\t\t...option,\n\t\t\t\t\tlabel: typeof labelKey === 'function' ? labelKey(option) : get(option, labelKey),\n\t\t\t\t\tvalue: typeof valueKey === 'function' ? valueKey(option) : get(option, valueKey),\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\treturn output;\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Escaping\nexport const escapeRegExp = (string) => (string.replace(/[.*+\\-?^${}()|[\\]\\\\]/g, '\\\\$&'));\n\nconst toSlug = (s) => (\n\ts.toLowerCase()\n\t\t.replace(/ & /g, '-and-')\n\t\t.replace(/<[^>]+>/g, '')\n\t\t.replace(/['’.]/g, '')\n\t\t.replace(/[^a-z0-9-]+/g, '-')\n\t\t.replace(/^-+/, '')\n\t\t.replace(/-+$/, '')\n\t\t.replace(/--+/g, '-')\n);\n\nexport const filterByKey = (records, key, value) => {\n\tvalue = value.toLowerCase();\n\tconst escapedValue = escapeRegExp(value);\n\trecords = records.filter((record) => {\n\t\tconst recordValue = get(record, key).toString().toLowerCase() || '';\n\t\treturn recordValue.match(new RegExp(`(^|[^a-z])${escapedValue}`));\n\t});\n\tvalue = toSlug(value);\n\trecords = records.sort((a, b) => {\n\t\tconst aValue = toSlug(get(a, key).toString());\n\t\tconst bValue = toSlug(get(b, key).toString());\n\t\tconst aPos = aValue.indexOf(value) === 0;\n\t\tconst bPos = bValue.indexOf(value) === 0;\n\t\tif ((aPos && bPos) || (!aPos && !bPos)) {\n\t\t\treturn aValue.localeCompare(bValue);\n\t\t}\n\t\tif (aPos && !bPos) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn 1;\n\t});\n\treturn records;\n};\n","import { filterByKey, normalizeOptions } from '../Helpers/Options';\nimport React, { useContext, useEffect, useRef, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport Api from '../Helpers/Api';\nimport { ReactComponent as CloseIcon } from '../../svg/x.svg';\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\n\nexport default function Autocomplete({\n\tafterAdd,\n\tafterChange,\n\tclearable,\n\tclearButtonAttributes,\n\tclearButtonClassName,\n\tclearIconAttributes,\n\tclearIconHeight,\n\tclearIconWidth,\n\tclearText,\n\tdisabled,\n\tid,\n\tinputClassName,\n\tlabelFn,\n\tlabelKey,\n\tloadingText,\n\tmax,\n\tname,\n\toptionButtonAttributes,\n\toptionButtonClassName,\n\toptionLabelFn,\n\toptionListAttributes,\n\toptionListClassName,\n\toptionListItemAttributes,\n\toptionListItemClassName,\n\toptions,\n\tplaceholder,\n\treadOnly,\n\tremoveButtonAttributes,\n\tremoveButtonClassName,\n\tremoveIconAttributes,\n\tremoveIconHeight,\n\tremoveIconWidth,\n\tremoveText,\n\tsetValue,\n\tshowLoading,\n\turl,\n\tvalue,\n\tvalueKey,\n\tvalueListItemAttributes,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\tconst clearButtonRef = useRef(null);\n\tconst inputRef = useRef(null);\n\tconst removeButtonRef = useRef(null);\n\tconst [filter, setFilter] = useState('');\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst [highlightedIndex, setHighlightedIndex] = useState(0);\n\tconst [optionValues, setOptionValues] = useState(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\tconst [isLoading, setIsLoading] = useState(showLoading || !!url);\n\tconst [loadError, setLoadError] = useState('');\n\tconst api = Api.instance();\n\n\tuseEffect(() => {\n\t\tif (url) {\n\t\t\tapi(url, false)\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(error, 'errors')) {\n\t\t\t\t\t\tsetLoadError(error.errors.map((e) => (e.title)).join(' '));\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsetOptionValues(normalizeOptions(response, labelKey, valueKey));\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\t}, [url]);\n\n\tuseEffect(() => {\n\t\tsetOptionValues(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\t}, [options]);\n\n\tuseEffect(() => {\n\t\tsetIsLoading(showLoading);\n\t}, [showLoading]);\n\n\tif (isLoading) {\n\t\treturn (<div className=\"formosa-spinner\" role=\"status\">{loadingText}</div>);\n\t}\n\n\tif (loadError) {\n\t\treturn (<div className=\"formosa-field__error\">{loadError}</div>);\n\t}\n\n\tlet currentValue = null;\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<Autocomplete> component must be inside a <Form> component.');\n\t\t}\n\t\tcurrentValue = get(formState.row, name);\n\t}\n\tif (currentValue === null || currentValue === undefined || currentValue === '') {\n\t\tcurrentValue = null;\n\t} else if (max === 1 && !Array.isArray(currentValue)) {\n\t\tcurrentValue = [currentValue];\n\t}\n\tconst currentValueLength = currentValue ? currentValue.length : 0;\n\n\tconst isSelected = (option) => {\n\t\tif (!currentValue) {\n\t\t\treturn false;\n\t\t}\n\t\treturn currentValue.findIndex((v) => {\n\t\t\tif (typeof v === 'object') {\n\t\t\t\treturn JSON.stringify(v) === JSON.stringify(option.value);\n\t\t\t}\n\t\t\treturn v === option.value;\n\t\t}) > -1;\n\t};\n\n\tlet filteredOptions = [];\n\tif (filter) {\n\t\tfilteredOptions = filterByKey(optionValues, 'label', filter);\n\t\tfilteredOptions = filteredOptions.filter((option) => (!isSelected(option)));\n\t}\n\n\tconst focus = () => {\n\t\tif (inputRef.current) {\n\t\t\tinputRef.current.focus();\n\t\t}\n\t};\n\n\tconst addValue = (v) => {\n\t\tlet newValue;\n\t\tif (max === 1) {\n\t\t\tnewValue = v;\n\t\t} else if (currentValue) {\n\t\t\tnewValue = [...currentValue, v];\n\t\t} else {\n\t\t\tnewValue = [v];\n\t\t}\n\n\t\tif (setValue) {\n\t\t\tsetValue(newValue);\n\t\t} else {\n\t\t\tconst e = { target: { name } };\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\n\t\tsetIsOpen(false);\n\t\tsetFilter('');\n\t\tfocus();\n\n\t\tif (afterAdd) {\n\t\t\tafterAdd();\n\t\t}\n\t};\n\n\tconst removeValue = (v) => {\n\t\tlet newValue = [];\n\t\tif (currentValue) {\n\t\t\tnewValue = [...currentValue];\n\t\t}\n\t\tif (max !== 1) {\n\t\t\tconst index = newValue.indexOf(v);\n\t\t\tif (index > -1) {\n\t\t\t\tnewValue.splice(index, 1);\n\t\t\t}\n\t\t} else {\n\t\t\tnewValue = '';\n\t\t}\n\n\t\tif (setValue) {\n\t\t\tsetValue(newValue);\n\t\t} else {\n\t\t\tconst e = { target: { name } };\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\n\t\tfocus();\n\t};\n\n\tconst onChange = (e) => {\n\t\tsetFilter(e.target.value);\n\t};\n\n\tconst onFocus = () => {\n\t\tsetHighlightedIndex(0);\n\t\tsetIsOpen(filter.length > 0);\n\t};\n\n\tconst onKeyDown = (e) => {\n\t\tconst filterValue = e.target.value;\n\t\tif (e.key === 'Enter' && filterValue && filteredOptions.length > 0) {\n\t\t\te.preventDefault();\n\t\t} else if (e.key === 'Backspace' && !filter && currentValueLength > 0) {\n\t\t\tremoveValue(currentValue[currentValueLength - 1]);\n\t\t}\n\t};\n\n\tconst onKeyUp = (e) => {\n\t\tconst filterValue = e.target.value;\n\t\tif (e.key === 'Enter' && filterValue && filteredOptions.length > 0) {\n\t\t\te.preventDefault();\n\t\t\taddValue(filteredOptions[highlightedIndex].value);\n\t\t} else if (e.key === 'ArrowDown') {\n\t\t\tif (highlightedIndex >= (filteredOptions.length - 1)) {\n\t\t\t\tsetHighlightedIndex(0);\n\t\t\t} else {\n\t\t\t\tsetHighlightedIndex(highlightedIndex + 1);\n\t\t\t}\n\t\t} else if (e.key === 'ArrowUp') {\n\t\t\tif (highlightedIndex > 0) {\n\t\t\t\tsetHighlightedIndex(highlightedIndex - 1);\n\t\t\t} else {\n\t\t\t\tsetHighlightedIndex(filteredOptions.length - 1);\n\t\t\t}\n\t\t} else if (e.key === 'Escape') {\n\t\t\tsetIsOpen(false);\n\t\t} else {\n\t\t\tsetHighlightedIndex(0);\n\t\t\tsetIsOpen(filterValue.length > 0);\n\t\t}\n\t};\n\n\tconst onClickOption = (e) => {\n\t\tlet val = e.target.getAttribute('data-value');\n\t\tif (e.target.getAttribute('data-json') === 'true') {\n\t\t\tval = JSON.parse(val);\n\t\t}\n\t\taddValue(val);\n\t};\n\n\tconst onClickRemoveOption = (e) => {\n\t\tlet button = e.target;\n\t\twhile (button && button.tagName.toUpperCase() !== 'BUTTON') {\n\t\t\tbutton = button.parentNode;\n\t\t}\n\t\tremoveValue(currentValue[button.getAttribute('data-index')]);\n\t};\n\n\tconst clear = () => {\n\t\tconst newValue = [];\n\n\t\tif (setValue) {\n\t\t\tsetValue(newValue);\n\t\t} else {\n\t\t\tconst e = { target: { name } };\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\n\t\tsetFilter('');\n\t\tfocus();\n\t};\n\n\tconst showClear = clearable && max !== 1 && currentValueLength > 0 && !disabled && !readOnly;\n\n\tlet className = ['formosa-autocomplete'];\n\tif (showClear) {\n\t\tclassName.push('formosa-autocomplete--clearable');\n\t}\n\tclassName = className.join(' ');\n\n\tconst canAddValues = !disabled && !readOnly && (max === null || currentValueLength < max);\n\n\tconst wrapperProps = {};\n\tif (id || name) {\n\t\twrapperProps.id = `${id || name}-wrapper`;\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`${className} ${wrapperClassName}`.trim()}\n\t\t\tdata-value={JSON.stringify(max === 1 && currentValueLength > 0 ? currentValue[0] : currentValue)} /* For testing. */\n\t\t\t{...wrapperProps}\n\t\t\t{...wrapperAttributes}\n\t\t>\n\t\t\t<ul className=\"formosa-autocomplete__values\">\n\t\t\t\t{currentValue && currentValue.map((v, index) => {\n\t\t\t\t\tlet val = v;\n\t\t\t\t\tlet isJson = false;\n\t\t\t\t\tif (typeof val === 'object') {\n\t\t\t\t\t\tval = JSON.stringify(val);\n\t\t\t\t\t\tisJson = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst option = optionValues.find((o) => (\n\t\t\t\t\t\tisJson ? JSON.stringify(o.value) === val : o.value === val\n\t\t\t\t\t));\n\n\t\t\t\t\tlet label = '';\n\t\t\t\t\tif (labelFn) {\n\t\t\t\t\t\tlabel = labelFn(option || v);\n\t\t\t\t\t} else if (option && Object.prototype.hasOwnProperty.call(option, 'label')) {\n\t\t\t\t\t\tlabel = option.label;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet valueListItemProps = {};\n\t\t\t\t\tif (typeof valueListItemAttributes === 'function') {\n\t\t\t\t\t\tvalueListItemProps = valueListItemAttributes(option);\n\t\t\t\t\t} else if (valueListItemAttributes && typeof valueListItemAttributes === 'object') {\n\t\t\t\t\t\tvalueListItemProps = valueListItemAttributes;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet removeButtonProps = {};\n\t\t\t\t\tif (typeof removeButtonAttributes === 'function') {\n\t\t\t\t\t\tremoveButtonProps = removeButtonAttributes(option);\n\t\t\t\t\t} else if (removeButtonAttributes && typeof removeButtonAttributes === 'object') {\n\t\t\t\t\t\tremoveButtonProps = removeButtonAttributes;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet removeIconProps = {};\n\t\t\t\t\tif (typeof removeIconAttributes === 'function') {\n\t\t\t\t\t\tremoveIconProps = removeIconAttributes(option);\n\t\t\t\t\t} else if (removeIconAttributes && typeof removeIconAttributes === 'object') {\n\t\t\t\t\t\tremoveIconProps = removeIconAttributes;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li className=\"formosa-autocomplete__value formosa-autocomplete__value--item\" key={val} {...valueListItemProps}>\n\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t{!disabled && !readOnly && (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={`formosa-autocomplete__value__remove ${removeButtonClassName}`.trim()}\n\t\t\t\t\t\t\t\t\tdata-index={index}\n\t\t\t\t\t\t\t\t\tonClick={onClickRemoveOption}\n\t\t\t\t\t\t\t\t\tref={removeButtonRef}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t{...removeButtonProps}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CloseIcon aria-hidden=\"true\" height={removeIconHeight} width={removeIconWidth} {...removeIconProps} />\n\t\t\t\t\t\t\t\t\t{removeText}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t{canAddValues && (\n\t\t\t\t\t<li className=\"formosa-autocomplete__value formosa-autocomplete__value--input\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t{...otherProps}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tclassName={`formosa-field__input formosa-autocomplete__input ${inputClassName}`.trim()}\n\t\t\t\t\t\t\tid={id || name}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\tonFocus={onFocus}\n\t\t\t\t\t\t\tonKeyDown={onKeyDown}\n\t\t\t\t\t\t\tonKeyUp={onKeyUp}\n\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t\tref={inputRef}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={filter}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t)}\n\t\t\t</ul>\n\n\t\t\t{isOpen && filteredOptions.length > 0 && (\n\t\t\t\t<ul className={`formosa-autocomplete__options ${optionListClassName}`.trim()} {...optionListAttributes}>\n\t\t\t\t\t{filteredOptions.map((option, index) => {\n\t\t\t\t\t\tlet optionClassName = ['formosa-autocomplete__option'];\n\t\t\t\t\t\tif (highlightedIndex === index) {\n\t\t\t\t\t\t\toptionClassName.push('formosa-autocomplete__option--highlighted');\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptionClassName = optionClassName.join(' ');\n\n\t\t\t\t\t\tlet val = option.value;\n\t\t\t\t\t\tlet isJson = false;\n\t\t\t\t\t\tif (typeof val === 'object') {\n\t\t\t\t\t\t\tisJson = true;\n\t\t\t\t\t\t\tval = JSON.stringify(val);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet label = '';\n\t\t\t\t\t\tif (optionLabelFn) {\n\t\t\t\t\t\t\tlabel = optionLabelFn(option);\n\t\t\t\t\t\t} else if (option && Object.prototype.hasOwnProperty.call(option, 'label')) {\n\t\t\t\t\t\t\tlabel = option.label;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet optionListItemProps = {};\n\t\t\t\t\t\tif (typeof optionListItemAttributes === 'function') {\n\t\t\t\t\t\t\toptionListItemProps = optionListItemAttributes(option);\n\t\t\t\t\t\t} else if (optionListItemAttributes && typeof optionListItemAttributes === 'object') {\n\t\t\t\t\t\t\toptionListItemProps = optionListItemAttributes;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet optionButtonProps = {};\n\t\t\t\t\t\tif (typeof optionButtonAttributes === 'function') {\n\t\t\t\t\t\t\toptionButtonProps = optionButtonAttributes(option);\n\t\t\t\t\t\t} else if (optionButtonAttributes && typeof optionButtonAttributes === 'object') {\n\t\t\t\t\t\t\toptionButtonProps = optionButtonAttributes;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tclassName={`${optionClassName} ${optionListItemClassName}`.trim()}\n\t\t\t\t\t\t\t\tkey={val}\n\t\t\t\t\t\t\t\t{...optionListItemProps}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={`formosa-autocomplete__option__button ${optionButtonClassName}`.trim()}\n\t\t\t\t\t\t\t\t\tdata-json={isJson}\n\t\t\t\t\t\t\t\t\tdata-value={val}\n\t\t\t\t\t\t\t\t\tonClick={onClickOption}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t{...optionButtonProps}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t)}\n\n\t\t\t{showClear && (\n\t\t\t\t<div>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`formosa-autocomplete__clear ${clearButtonClassName}`.trim()}\n\t\t\t\t\t\tonClick={clear}\n\t\t\t\t\t\tref={clearButtonRef}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t{...clearButtonAttributes}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CloseIcon aria-hidden=\"true\" height={clearIconHeight} width={clearIconWidth} {...clearIconAttributes} />\n\t\t\t\t\t\t{clearText}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nAutocomplete.propTypes = {\n\tafterAdd: PropTypes.func,\n\tafterChange: PropTypes.func,\n\tclearable: PropTypes.bool,\n\tclearButtonAttributes: PropTypes.object,\n\tclearButtonClassName: PropTypes.string,\n\tclearIconAttributes: PropTypes.object,\n\tclearIconHeight: PropTypes.number,\n\tclearIconWidth: PropTypes.number,\n\tclearText: PropTypes.string,\n\tdisabled: PropTypes.bool,\n\tid: PropTypes.string,\n\tinputClassName: PropTypes.string,\n\tlabelFn: PropTypes.func,\n\tlabelKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tloadingText: PropTypes.string,\n\tmax: PropTypes.number,\n\tname: PropTypes.string,\n\toptionButtonAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\toptionButtonClassName: PropTypes.string,\n\toptionLabelFn: PropTypes.func,\n\toptionListAttributes: PropTypes.object,\n\toptionListClassName: PropTypes.string,\n\toptionListItemAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\toptionListItemClassName: PropTypes.string,\n\toptions: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]),\n\tplaceholder: PropTypes.string,\n\treadOnly: PropTypes.bool,\n\tremoveButtonAttributes: PropTypes.object,\n\tremoveButtonClassName: PropTypes.string,\n\tremoveIconAttributes: PropTypes.object,\n\tremoveIconHeight: PropTypes.number,\n\tremoveIconWidth: PropTypes.number,\n\tremoveText: PropTypes.string,\n\tsetValue: PropTypes.func,\n\tshowLoading: PropTypes.bool,\n\turl: PropTypes.string,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.arrayOf(PropTypes.number),\n\t\tPropTypes.arrayOf(PropTypes.object),\n\t\tPropTypes.arrayOf(PropTypes.string),\n\t\tPropTypes.number,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\tvalueKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tvalueListItemAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nAutocomplete.defaultProps = {\n\tafterAdd: null,\n\tafterChange: null,\n\tclearable: true,\n\tclearButtonAttributes: null,\n\tclearButtonClassName: '',\n\tclearIconAttributes: null,\n\tclearIconHeight: 12,\n\tclearIconWidth: 12,\n\tclearText: 'Clear',\n\tdisabled: false,\n\tid: '',\n\tinputClassName: '',\n\tlabelFn: null,\n\tlabelKey: 'name',\n\tloadingText: 'Loading...',\n\tmax: null,\n\tname: '',\n\toptionButtonAttributes: null,\n\toptionButtonClassName: '',\n\toptionLabelFn: null,\n\toptionListAttributes: null,\n\toptionListClassName: '',\n\toptionListItemAttributes: null,\n\toptionListItemClassName: '',\n\toptions: null,\n\tplaceholder: 'Search',\n\treadOnly: false,\n\tremoveButtonAttributes: null,\n\tremoveButtonClassName: '',\n\tremoveIconAttributes: null,\n\tremoveIconHeight: 12,\n\tremoveIconWidth: 12,\n\tremoveText: 'Remove',\n\tsetValue: null,\n\tshowLoading: false,\n\turl: null,\n\tvalue: null,\n\tvalueKey: null,\n\tvalueListItemAttributes: null,\n\twrapperAttributes: null,\n\twrapperClassName: '',\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport { ReactComponent as CheckIcon } from '../../svg/check.svg';\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\n\nexport default function Checkbox({\n\tafterChange,\n\tclassName,\n\ticonAttributes,\n\ticonClassName,\n\ticonHeight,\n\ticonWidth,\n\tid,\n\tname,\n\tsetValue,\n\tvalue,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\n\tlet checked = false;\n\tif (setValue !== null) {\n\t\tchecked = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<Checkbox> component must be inside a <Form> component.');\n\t\t}\n\t\tchecked = !!get(formState.row, name);\n\t}\n\n\tconst onChange = (e) => {\n\t\tconst newValue = e.target.checked;\n\t\tif (setValue) {\n\t\t\tsetValue(newValue);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\t};\n\n\tconst props = {};\n\tif (id || name) {\n\t\tprops.id = id || name;\n\t}\n\tif (name) {\n\t\tprops.name = name;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<input\n\t\t\t\tclassName={`formosa-field__input formosa-field__input--checkbox ${className}`.trim()}\n\t\t\t\tchecked={checked}\n\t\t\t\tonChange={onChange}\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\t{...props}\n\t\t\t\t{...otherProps}\n\t\t\t/>\n\t\t\t<CheckIcon\n\t\t\t\taria-hidden=\"true\"\n\t\t\t\tclassName={`formosa-icon--check ${iconClassName}`.trim()}\n\t\t\t\theight={iconHeight}\n\t\t\t\twidth={iconWidth}\n\t\t\t\t{...iconAttributes}\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nCheckbox.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\ticonAttributes: PropTypes.object,\n\ticonClassName: PropTypes.string,\n\ticonHeight: PropTypes.number,\n\ticonWidth: PropTypes.number,\n\tid: PropTypes.string,\n\tname: PropTypes.string,\n\tsetValue: PropTypes.func,\n\tvalue: PropTypes.bool,\n};\n\nCheckbox.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\ticonAttributes: null,\n\ticonClassName: '',\n\ticonHeight: 16,\n\ticonWidth: 16,\n\tid: null,\n\tname: '',\n\tsetValue: null,\n\tvalue: null,\n};\n","import React, { useContext, useEffect, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport Api from '../Helpers/Api';\nimport { ReactComponent as CheckIcon } from '../../svg/check.svg';\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport { normalizeOptions } from '../Helpers/Options';\nimport PropTypes from 'prop-types';\n\nexport default function CheckboxList({\n\tafterChange,\n\tclassName,\n\tdisabled,\n\tfieldsetAttributes,\n\tfieldsetClassName,\n\ticonAttributes,\n\ticonClassName,\n\ticonHeight,\n\ticonWidth,\n\tinputAttributes,\n\titemAttributes,\n\titemClassName,\n\titemLabelAttributes,\n\titemLabelClassName,\n\titemSpanAttributes,\n\titemSpanClassName,\n\tlabelKey,\n\tlegend,\n\tloadingText,\n\tname,\n\toptions,\n\treadOnly,\n\tsetValue,\n\tshowLoading,\n\turl,\n\tvalue,\n\tvalueKey,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\tconst [optionValues, setOptionValues] = useState(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\tconst [isLoading, setIsLoading] = useState(showLoading || !!url);\n\tconst [loadError, setLoadError] = useState('');\n\tconst api = Api.instance();\n\n\tuseEffect(() => {\n\t\tif (url) {\n\t\t\tapi(url, false)\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(error, 'errors')) {\n\t\t\t\t\t\tsetLoadError(error.errors.map((e) => (e.title)).join(' '));\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsetOptionValues(normalizeOptions(response, labelKey, valueKey));\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\t}, [url]);\n\n\tuseEffect(() => {\n\t\tsetOptionValues(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\t}, [options]);\n\n\tuseEffect(() => {\n\t\tsetIsLoading(showLoading);\n\t}, [showLoading]);\n\n\tif (isLoading) {\n\t\treturn (<div className=\"formosa-spinner\" role=\"status\">{loadingText}</div>);\n\t}\n\n\tif (loadError) {\n\t\treturn (<div className=\"formosa-field__error\">{loadError}</div>);\n\t}\n\n\tlet currentValue = [];\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<CheckboxList> component must be inside a <Form> component.');\n\t\t}\n\t\tcurrentValue = get(formState.row, name);\n\t}\n\tif (currentValue === null || currentValue === undefined || currentValue === '') {\n\t\tcurrentValue = [];\n\t}\n\tconst currentValueStringified = currentValue.map((val) => (typeof val === 'object' ? JSON.stringify(val) : val));\n\n\tconst onChange = (e) => {\n\t\tconst newValue = [...currentValue];\n\t\tlet val = e.target.value;\n\n\t\tif (e.target.checked) {\n\t\t\tif (e.target.getAttribute('data-json') === 'true') {\n\t\t\t\tval = JSON.parse(val);\n\t\t\t}\n\t\t\tnewValue.push(val);\n\t\t} else {\n\t\t\tconst index = currentValueStringified.indexOf(val);\n\t\t\tif (index > -1) {\n\t\t\t\tnewValue.splice(index, 1);\n\t\t\t}\n\t\t}\n\n\t\tif (setValue) {\n\t\t\tsetValue(newValue);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\t};\n\n\treturn (\n\t\t<fieldset className={`formosa-radio ${fieldsetClassName}`.trim()} {...fieldsetAttributes}>\n\t\t\t<legend className=\"formosa-radio__legend\">{legend}</legend>\n\t\t\t{optionValues.map((optionValue) => {\n\t\t\t\tlet optionValueVal = optionValue.value;\n\t\t\t\tlet isJson = false;\n\t\t\t\tif (typeof optionValueVal === 'object') {\n\t\t\t\t\tisJson = true;\n\t\t\t\t\toptionValueVal = JSON.stringify(optionValueVal);\n\t\t\t\t}\n\n\t\t\t\tconst checked = currentValueStringified.includes(optionValueVal);\n\n\t\t\t\tlet itemProps = {};\n\t\t\t\tif (typeof itemAttributes === 'function') {\n\t\t\t\t\titemProps = itemAttributes(optionValue);\n\t\t\t\t} else if (itemAttributes && typeof itemAttributes === 'object') {\n\t\t\t\t\titemProps = itemAttributes;\n\t\t\t\t}\n\n\t\t\t\tlet itemLabelProps = {};\n\t\t\t\tif (typeof itemLabelAttributes === 'function') {\n\t\t\t\t\titemLabelProps = itemLabelAttributes(optionValue);\n\t\t\t\t} else if (itemLabelAttributes && typeof itemLabelAttributes === 'object') {\n\t\t\t\t\titemLabelProps = itemLabelAttributes;\n\t\t\t\t}\n\n\t\t\t\tlet inputProps = {};\n\t\t\t\tif (typeof inputAttributes === 'function') {\n\t\t\t\t\tinputProps = inputAttributes(optionValue);\n\t\t\t\t} else if (inputAttributes && typeof inputAttributes === 'object') {\n\t\t\t\t\tinputProps = inputAttributes;\n\t\t\t\t}\n\t\t\t\tif (isJson) {\n\t\t\t\t\tinputProps['data-json'] = true;\n\t\t\t\t}\n\t\t\t\tif (name) {\n\t\t\t\t\tinputProps.name = `${name}[]`;\n\t\t\t\t}\n\n\t\t\t\tlet iconProps = {};\n\t\t\t\tif (typeof iconAttributes === 'function') {\n\t\t\t\t\ticonProps = iconAttributes(optionValue);\n\t\t\t\t} else if (iconAttributes && typeof iconAttributes === 'object') {\n\t\t\t\t\ticonProps = iconAttributes;\n\t\t\t\t}\n\n\t\t\t\tlet itemSpanProps = {};\n\t\t\t\tif (typeof itemSpanAttributes === 'function') {\n\t\t\t\t\titemSpanProps = itemSpanAttributes(optionValue);\n\t\t\t\t} else if (itemSpanAttributes && typeof itemSpanAttributes === 'object') {\n\t\t\t\t\titemSpanProps = itemSpanAttributes;\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<div className={`formosa-radio__item ${itemClassName}`.trim()} key={optionValueVal} {...itemProps}>\n\t\t\t\t\t\t<label\n\t\t\t\t\t\t\tclassName={`formosa-radio__label${checked ? ' formosa-radio__label--checked' : ''} ${itemLabelClassName}`.trim()}\n\t\t\t\t\t\t\t{...itemLabelProps}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\taria-label={optionValue.label}\n\t\t\t\t\t\t\t\tchecked={checked}\n\t\t\t\t\t\t\t\tclassName={`formosa-field__input formosa-field__input--checkbox ${className}`.trim()}\n\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\treadOnly={readOnly}\n\t\t\t\t\t\t\t\tvalue={optionValueVal}\n\t\t\t\t\t\t\t\t{...inputProps}\n\t\t\t\t\t\t\t\t{...otherProps}\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<CheckIcon\n\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\tclassName={`formosa-icon--check ${iconClassName}`.trim()}\n\t\t\t\t\t\t\t\theight={iconHeight}\n\t\t\t\t\t\t\t\twidth={iconWidth}\n\t\t\t\t\t\t\t\t{...iconProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span aria-hidden=\"true\" className={`formosa-radio__span ${itemSpanClassName}`.trim()} {...itemSpanProps}>\n\t\t\t\t\t\t\t\t{optionValue.label}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})}\n\t\t</fieldset>\n\t);\n}\n\nCheckboxList.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\tdisabled: PropTypes.bool,\n\tfieldsetAttributes: PropTypes.object,\n\tfieldsetClassName: PropTypes.string,\n\ticonAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\ticonClassName: PropTypes.string,\n\ticonHeight: PropTypes.number,\n\ticonWidth: PropTypes.number,\n\tinputAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemClassName: PropTypes.string,\n\titemLabelAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemLabelClassName: PropTypes.string,\n\titemSpanAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemSpanClassName: PropTypes.string,\n\tlabelKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tlegend: PropTypes.string,\n\tloadingText: PropTypes.string,\n\tname: PropTypes.string,\n\toptions: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]),\n\treadOnly: PropTypes.bool,\n\tsetValue: PropTypes.func,\n\tshowLoading: PropTypes.bool,\n\turl: PropTypes.string,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.arrayOf(PropTypes.number),\n\t\tPropTypes.arrayOf(PropTypes.object),\n\t\tPropTypes.arrayOf(PropTypes.string),\n\t]),\n\tvalueKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n};\n\nCheckboxList.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\tdisabled: false,\n\tfieldsetAttributes: null,\n\tfieldsetClassName: '',\n\ticonAttributes: null,\n\ticonClassName: '',\n\ticonHeight: 16,\n\ticonWidth: 16,\n\tinputAttributes: null,\n\titemAttributes: null,\n\titemClassName: '',\n\titemLabelAttributes: null,\n\titemLabelClassName: '',\n\titemSpanAttributes: null,\n\titemSpanClassName: '',\n\tlabelKey: 'name',\n\tlegend: '',\n\tloadingText: 'Loading...',\n\tname: '',\n\toptions: null,\n\treadOnly: false,\n\tsetValue: null,\n\tshowLoading: false,\n\turl: null,\n\tvalue: null,\n\tvalueKey: null,\n};\n","import React, { useContext, useEffect, useRef, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\n\nexport default function File({\n\tafterChange,\n\tbuttonAttributes,\n\tbuttonClassName,\n\tclassName,\n\tdisabled,\n\temptyText,\n\tid,\n\timageAttributes,\n\timageClassName,\n\timageHeight,\n\timagePrefix,\n\timagePreview,\n\tinputWrapperAttributes,\n\tinputWrapperClassName,\n\tlinkAttributes,\n\tlinkClassName,\n\tlinkImage,\n\tmultiple,\n\tname,\n\treadOnly,\n\tremoveText,\n\trequired,\n\tsetValue,\n\tvalue,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\tconst inputRef = useRef(null);\n\n\tlet currentValue = '';\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<File> component must be inside a <Form> component.');\n\t\t}\n\t\tcurrentValue = get(formState.row, name);\n\t}\n\tif (currentValue === null || currentValue === undefined) {\n\t\tcurrentValue = '';\n\t}\n\tconst hasValue = multiple ? currentValue.length > 0 : !!currentValue;\n\n\tconst getFilenames = (v) => {\n\t\tif (v instanceof FileList) {\n\t\t\tconst numFiles = v.length;\n\t\t\tconst output = [];\n\t\t\tlet i;\n\t\t\tfor (i = 0; i < numFiles; i += 1) {\n\t\t\t\toutput.push(v.item(i).name);\n\t\t\t}\n\t\t\treturn output.join(', ');\n\t\t}\n\t\tif (Array.isArray(v)) {\n\t\t\treturn v.join(', ');\n\t\t}\n\t\tif (typeof v === 'object') {\n\t\t\treturn v.name;\n\t\t}\n\t\treturn v;\n\t};\n\n\tconst getSrcs = (v) => {\n\t\tconst output = [];\n\t\tif (v instanceof FileList) {\n\t\t\tconst numFiles = v.length;\n\t\t\tlet i;\n\t\t\tfor (i = 0; i < numFiles; i += 1) {\n\t\t\t\toutput.push(URL.createObjectURL(v.item(i)));\n\t\t\t}\n\t\t} else if (Array.isArray(v)) {\n\t\t\treturn v.map((v2) => (`${imagePrefix}${v2}`));\n\t\t} else if (typeof v === 'object') {\n\t\t\toutput.push(URL.createObjectURL(v));\n\t\t} else if (typeof v === 'string') {\n\t\t\toutput.push(`${imagePrefix}${v}`);\n\t\t}\n\t\treturn output;\n\t};\n\n\tconst [filenames, setFilenames] = useState(getFilenames(currentValue));\n\tconst [srcs, setSrcs] = useState(getSrcs(currentValue));\n\n\tuseEffect(() => {\n\t\tsetFilenames(getFilenames(currentValue));\n\t\tsetSrcs(getSrcs(currentValue));\n\t}, [currentValue]);\n\n\tconst onChange = (e) => {\n\t\tconst newFiles = multiple ? e.target.files : e.target.files.item(0);\n\n\t\tsetFilenames(getFilenames(newFiles));\n\t\tif (imagePreview) {\n\t\t\tsetSrcs(getSrcs(newFiles));\n\t\t}\n\n\t\tif (setValue) {\n\t\t\tsetValue(newFiles);\n\t\t} else {\n\t\t\tsetValues(e, name, newFiles, afterChange, newFiles);\n\t\t}\n\t};\n\n\tconst onRemove = (e) => {\n\t\tsetFilenames('');\n\n\t\tconst newValue = '';\n\t\tif (setValue) {\n\t\t\tsetValue(newValue);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange, newValue);\n\t\t}\n\n\t\tinputRef.current.focus();\n\t};\n\n\tlet prefixClassName = inputWrapperClassName;\n\tif (hasValue && !disabled && !readOnly) {\n\t\tprefixClassName += ' formosa-prefix';\n\t}\n\n\tconst props = {};\n\tif (id || name) {\n\t\tprops.id = id || name;\n\t}\n\n\tconst hiddenProps = {};\n\tif (name) {\n\t\thiddenProps.name = name;\n\t}\n\n\tconst buttonProps = {};\n\tif (id || name) {\n\t\tbuttonProps.id = `${id || name}-remove`;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{(hasValue && imagePreview) && (\n\t\t\t\tsrcs.map((src) => {\n\t\t\t\t\tconst img = (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\tclassName={`formosa-file-image ${imageClassName}`.trim()}\n\t\t\t\t\t\t\theight={imageHeight}\n\t\t\t\t\t\t\tkey={src}\n\t\t\t\t\t\t\tsrc={src}\n\t\t\t\t\t\t\t{...imageAttributes}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\t\tif (linkImage) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<a className={`formosa-file-link ${linkClassName}`.trim()} href={src} key={src} {...linkAttributes}>\n\t\t\t\t\t\t\t\t{img}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn img;\n\t\t\t\t})\n\t\t\t)}\n\t\t\t<div className={`formosa-file-wrapper ${wrapperClassName}`.trim()} {...wrapperAttributes}>\n\t\t\t\t<div className={`formosa-file-input-wrapper ${prefixClassName}`.trim()} {...inputWrapperAttributes}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`formosa-file-name${!filenames ? ' formosa-file-name--empty' : ''}`}\n\t\t\t\t\t\tid={`${id || name}-name`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{filenames || emptyText}\n\t\t\t\t\t</div>\n\t\t\t\t\t{!readOnly && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName={`formosa-field__input formosa-field__input--file ${className}`.trim()}\n\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\tmultiple={multiple}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\tref={inputRef}\n\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\t{...otherProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\t\t\ttype=\"hidden\"\n\t\t\t\t\t\t\t\tvalue={currentValue}\n\t\t\t\t\t\t\t\t{...hiddenProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t{hasValue && !disabled && !readOnly && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`formosa-button formosa-button--remove-file formosa-postfix ${buttonClassName}`.trim()}\n\t\t\t\t\t\tonClick={onRemove}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t{...buttonProps}\n\t\t\t\t\t\t{...buttonAttributes}\n\t\t\t\t\t>\n\t\t\t\t\t\t{removeText}\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nFile.propTypes = {\n\tafterChange: PropTypes.func,\n\tbuttonAttributes: PropTypes.object,\n\tbuttonClassName: PropTypes.string,\n\tclassName: PropTypes.string,\n\tdisabled: PropTypes.bool,\n\temptyText: PropTypes.string,\n\tid: PropTypes.string,\n\timageAttributes: PropTypes.object,\n\timageClassName: PropTypes.string,\n\timageHeight: PropTypes.number,\n\timagePrefix: PropTypes.string,\n\timagePreview: PropTypes.bool,\n\tinputWrapperAttributes: PropTypes.object,\n\tinputWrapperClassName: PropTypes.string,\n\tlinkAttributes: PropTypes.object,\n\tlinkClassName: PropTypes.string,\n\tlinkImage: PropTypes.bool,\n\tmultiple: PropTypes.bool,\n\tname: PropTypes.string,\n\treadOnly: PropTypes.bool,\n\tremoveText: PropTypes.string,\n\trequired: PropTypes.bool,\n\tsetValue: PropTypes.func,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nFile.defaultProps = {\n\tafterChange: null,\n\tbuttonAttributes: null,\n\tbuttonClassName: '',\n\tclassName: '',\n\tdisabled: false,\n\temptyText: 'No file selected.',\n\tid: '',\n\timageAttributes: null,\n\timageClassName: '',\n\timageHeight: 100,\n\timagePrefix: '',\n\timagePreview: false,\n\tinputWrapperAttributes: null,\n\tinputWrapperClassName: '',\n\tlinkAttributes: null,\n\tlinkClassName: '',\n\tlinkImage: false,\n\tmultiple: false,\n\tname: '',\n\treadOnly: false,\n\tremoveText: 'Remove',\n\trequired: false,\n\tsetValue: null,\n\tvalue: null,\n\twrapperAttributes: null,\n\twrapperClassName: '',\n};\n","import PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default function ConditionalWrapper({ children, condition, ...props }) {\n\tif (!condition) {\n\t\treturn children;\n\t}\n\n\treturn (\n\t\t<div {...props}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nConditionalWrapper.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n\tcondition: PropTypes.any,\n};\n\nConditionalWrapper.defaultProps = {\n\tcondition: false,\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport ConditionalWrapper from './ConditionalWrapper';\nimport FormContext from './FormContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\n\nexport default function Input({\n\tafterChange,\n\tclassName,\n\tid,\n\tname,\n\tsetValue,\n\tsuffix,\n\ttype,\n\tvalue,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\n\tlet currentValue = '';\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<Input> component must be inside a <Form> component.');\n\t\t}\n\t\tif (type !== 'file') {\n\t\t\tcurrentValue = get(formState.row, name);\n\t\t\tif (currentValue === null || currentValue === undefined) {\n\t\t\t\tcurrentValue = '';\n\t\t\t}\n\t\t}\n\t}\n\n\tconst onChange = (e) => {\n\t\tconst newValue = e.target.value;\n\t\tif (setValue) {\n\t\t\tsetValue(newValue);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\t};\n\n\tconst props = {};\n\tif (id || name) {\n\t\tprops.id = id || name;\n\t}\n\tif (name) {\n\t\tprops.name = name;\n\t}\n\n\treturn (\n\t\t<ConditionalWrapper className=\"formosa-suffix-container\" condition={suffix}>\n\t\t\t<input\n\t\t\t\tclassName={`formosa-field__input ${className}`.trim()}\n\t\t\t\tonChange={onChange}\n\t\t\t\ttype={type}\n\t\t\t\tvalue={currentValue}\n\t\t\t\t{...props}\n\t\t\t\t{...otherProps}\n\t\t\t/>\n\t\t\t{suffix && <span className=\"formosa-suffix\">{suffix}</span>}\n\t\t</ConditionalWrapper>\n\t);\n}\n\nInput.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\tid: PropTypes.string,\n\tname: PropTypes.string,\n\tsetValue: PropTypes.func,\n\tsuffix: PropTypes.string,\n\ttype: PropTypes.string,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.string,\n\t]),\n};\n\nInput.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\tid: null,\n\tname: '',\n\tsetValue: null,\n\tsuffix: '',\n\ttype: 'text',\n\tvalue: null,\n};\n","import React, { useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport Input from '../Input';\nimport PropTypes from 'prop-types';\n\nexport default function Password({\n\tbuttonAttributes,\n\tbuttonClassName,\n\tclassName,\n\thideAria,\n\thideText,\n\tshowAria,\n\tshowText,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\tconst [tempType, setTempType] = useState('password');\n\tconst togglePassword = () => {\n\t\tif (tempType === 'password') {\n\t\t\tsetTempType('text');\n\t\t} else {\n\t\t\tsetTempType('password');\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={`formosa-password-wrapper ${wrapperClassName}`.trim()} {...wrapperAttributes}>\n\t\t\t<Input\n\t\t\t\tclassName={`formosa-field__input--password formosa-prefix ${className}`.trim()}\n\t\t\t\tspellCheck=\"false\"\n\t\t\t\t{...otherProps}\n\t\t\t\ttype={tempType}\n\t\t\t/>\n\t\t\t<button\n\t\t\t\taria-controls={otherProps.id || otherProps.name}\n\t\t\t\taria-label={tempType === 'password' ? showAria : hideAria}\n\t\t\t\tclassName={`formosa-button formosa-button--toggle-password formosa-postfix ${buttonClassName}`.trim()}\n\t\t\t\tonClick={togglePassword}\n\t\t\t\ttype=\"button\"\n\t\t\t\t{...buttonAttributes}\n\t\t\t>\n\t\t\t\t{tempType === 'password' ? showText : hideText}\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n\nPassword.propTypes = {\n\tbuttonAttributes: PropTypes.object,\n\tbuttonClassName: PropTypes.string,\n\tclassName: PropTypes.string,\n\thideAria: PropTypes.string,\n\thideText: PropTypes.string,\n\tshowAria: PropTypes.string,\n\tshowText: PropTypes.string,\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nPassword.defaultProps = {\n\tbuttonAttributes: null,\n\tbuttonClassName: '',\n\tclassName: '',\n\thideAria: 'Hide Password',\n\thideText: 'Hide',\n\tshowAria: 'Show Password',\n\tshowText: 'Show',\n\twrapperAttributes: null,\n\twrapperClassName: '',\n};\n","import React, { useContext, useEffect, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport Api from '../Helpers/Api';\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport { normalizeOptions } from '../Helpers/Options';\nimport PropTypes from 'prop-types';\n\nexport default function Radio({\n\tafterChange,\n\tclassName,\n\tfieldsetAttributes,\n\tfieldsetClassName,\n\tinputAttributes,\n\titemAttributes,\n\titemClassName,\n\titemLabelAttributes,\n\titemLabelClassName,\n\titemSpanAttributes,\n\titemSpanClassName,\n\tlabel,\n\tlabelKey,\n\tlegend,\n\tloadingText,\n\tname,\n\toptions,\n\trequired,\n\tsetValue,\n\tshowLoading,\n\turl,\n\tvalue,\n\tvalueKey,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\tconst [optionValues, setOptionValues] = useState(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\tconst [isLoading, setIsLoading] = useState(showLoading || !!url);\n\tconst [loadError, setLoadError] = useState('');\n\tconst api = Api.instance();\n\n\tuseEffect(() => {\n\t\tif (url) {\n\t\t\tapi(url, false)\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(error, 'errors')) {\n\t\t\t\t\t\tsetLoadError(error.errors.map((e) => (e.title)).join(' '));\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsetOptionValues(normalizeOptions(response, labelKey, valueKey));\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\t}, [url]);\n\n\tuseEffect(() => {\n\t\tsetOptionValues(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\t}, [options]);\n\n\tuseEffect(() => {\n\t\tsetIsLoading(showLoading);\n\t}, [showLoading]);\n\n\tif (isLoading) {\n\t\treturn (<div className=\"formosa-spinner\" role=\"status\">{loadingText}</div>);\n\t}\n\n\tif (loadError) {\n\t\treturn (<div className=\"formosa-field__error\">{loadError}</div>);\n\t}\n\n\tlet currentValue = '';\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<Radio> component must be inside a <Form> component.');\n\t\t}\n\t\tcurrentValue = get(formState.row, name);\n\t}\n\tif (currentValue === null || currentValue === undefined) {\n\t\tcurrentValue = '';\n\t}\n\tif (typeof currentValue === 'object') {\n\t\tcurrentValue = JSON.stringify(currentValue);\n\t}\n\n\tconst onChange = (e) => {\n\t\tlet newValue = e.target.value;\n\t\tif (e.target.getAttribute('data-json') === 'true') {\n\t\t\tnewValue = JSON.parse(newValue);\n\t\t}\n\n\t\tif (setValue) {\n\t\t\tsetValue(newValue);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\t};\n\n\treturn (\n\t\t<fieldset className={`formosa-radio ${fieldsetClassName}`.trim()} {...fieldsetAttributes}>\n\t\t\t<legend className=\"formosa-radio__legend\">{legend}</legend>\n\t\t\t{optionValues.map((optionValue) => {\n\t\t\t\tlet optionValueVal = optionValue.value;\n\t\t\t\tlet isJson = false;\n\t\t\t\tif (typeof optionValueVal === 'object') {\n\t\t\t\t\tisJson = true;\n\t\t\t\t\toptionValueVal = JSON.stringify(optionValueVal);\n\t\t\t\t}\n\n\t\t\t\tconst checked = currentValue === optionValueVal;\n\n\t\t\t\tlet itemProps = {};\n\t\t\t\tif (typeof itemAttributes === 'function') {\n\t\t\t\t\titemProps = itemAttributes(optionValue);\n\t\t\t\t} else if (itemAttributes && typeof itemAttributes === 'object') {\n\t\t\t\t\titemProps = itemAttributes;\n\t\t\t\t}\n\n\t\t\t\tlet itemLabelProps = {};\n\t\t\t\tif (typeof itemLabelAttributes === 'function') {\n\t\t\t\t\titemLabelProps = itemLabelAttributes(optionValue);\n\t\t\t\t} else if (itemLabelAttributes && typeof itemLabelAttributes === 'object') {\n\t\t\t\t\titemLabelProps = itemLabelAttributes;\n\t\t\t\t}\n\n\t\t\t\tlet inputProps = {};\n\t\t\t\tif (typeof inputAttributes === 'function') {\n\t\t\t\t\tinputProps = inputAttributes(optionValue);\n\t\t\t\t} else if (inputAttributes && typeof inputAttributes === 'object') {\n\t\t\t\t\tinputProps = inputAttributes;\n\t\t\t\t}\n\t\t\t\tif (isJson) {\n\t\t\t\t\tinputProps['data-json'] = true;\n\t\t\t\t}\n\t\t\t\tif (name) {\n\t\t\t\t\tinputProps.name = name;\n\t\t\t\t}\n\n\t\t\t\tlet itemSpanProps = {};\n\t\t\t\tif (typeof itemSpanAttributes === 'function') {\n\t\t\t\t\titemSpanProps = itemSpanAttributes(optionValue);\n\t\t\t\t} else if (itemSpanAttributes && typeof itemSpanAttributes === 'object') {\n\t\t\t\t\titemSpanProps = itemSpanAttributes;\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<div className={`formosa-radio__item ${itemClassName}`.trim()} key={optionValueVal} {...itemProps}>\n\t\t\t\t\t\t<label\n\t\t\t\t\t\t\tclassName={`formosa-radio__label${checked ? ' formosa-radio__label--checked' : ''} ${itemLabelClassName}`.trim()}\n\t\t\t\t\t\t\t{...itemLabelProps}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\taria-label={optionValue.label}\n\t\t\t\t\t\t\t\tchecked={checked}\n\t\t\t\t\t\t\t\tclassName={`formosa-field__input formosa-radio__input ${className}`.trim()}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tvalue={optionValueVal}\n\t\t\t\t\t\t\t\t{...inputProps}\n\t\t\t\t\t\t\t\t{...otherProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span aria-hidden=\"true\" className={`formosa-radio__span ${itemSpanClassName}`.trim()} {...itemSpanProps}>\n\t\t\t\t\t\t\t\t{optionValue.label}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})}\n\t\t</fieldset>\n\t);\n}\n\nRadio.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\tfieldsetAttributes: PropTypes.object,\n\tfieldsetClassName: PropTypes.string,\n\tinputAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemClassName: PropTypes.string,\n\titemLabelAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemLabelClassName: PropTypes.string,\n\titemSpanAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\titemSpanClassName: PropTypes.string,\n\tlabel: PropTypes.string,\n\tlabelKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tlegend: PropTypes.string,\n\tloadingText: PropTypes.string,\n\tname: PropTypes.string,\n\toptions: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]),\n\trequired: PropTypes.bool,\n\tsetValue: PropTypes.func,\n\tshowLoading: PropTypes.bool,\n\turl: PropTypes.string,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\tvalueKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n};\n\nRadio.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\tfieldsetAttributes: null,\n\tfieldsetClassName: '',\n\tinputAttributes: null,\n\titemAttributes: null,\n\titemClassName: '',\n\titemLabelAttributes: null,\n\titemLabelClassName: '',\n\titemSpanAttributes: null,\n\titemSpanClassName: '',\n\tlabel: '',\n\tlabelKey: 'name',\n\tlegend: '',\n\tloadingText: 'Loading...',\n\tname: '',\n\toptions: null,\n\trequired: false,\n\tsetValue: null,\n\tshowLoading: false,\n\turl: null,\n\tvalue: null,\n\tvalueKey: null,\n};\n","import Input from '../Input';\nimport PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\nimport { ReactComponent as SearchIcon } from '../../svg/search.svg';\n\nexport default function Search({\n\tclassName,\n\ticonAttributes,\n\ticonClassName,\n\ticonHeight,\n\ticonWidth,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\treturn (\n\t\t<div className={`formosa-search-wrapper ${wrapperClassName}`.trim()} {...wrapperAttributes}>\n\t\t\t<Input\n\t\t\t\tclassName={`formosa-field__input--search ${className}`.trim()}\n\t\t\t\t{...otherProps}\n\t\t\t/>\n\t\t\t<SearchIcon\n\t\t\t\taria-hidden=\"true\"\n\t\t\t\tclassName={`formosa-icon--search ${iconClassName}`.trim()}\n\t\t\t\theight={iconHeight}\n\t\t\t\twidth={iconWidth}\n\t\t\t\t{...iconAttributes}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nSearch.propTypes = {\n\tclassName: PropTypes.string,\n\ticonAttributes: PropTypes.object,\n\ticonClassName: PropTypes.string,\n\ticonHeight: PropTypes.number,\n\ticonWidth: PropTypes.number,\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nSearch.defaultProps = {\n\tclassName: '',\n\ticonAttributes: null,\n\ticonClassName: '',\n\ticonHeight: 16,\n\ticonWidth: 16,\n\twrapperAttributes: null,\n\twrapperClassName: '',\n};\n","import React, { useContext, useEffect, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport Api from '../Helpers/Api';\nimport { ReactComponent as CaretIcon } from '../../svg/caret.svg';\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport { normalizeOptions } from '../Helpers/Options';\nimport PropTypes from 'prop-types';\n\nexport default function Select({\n\tafterChange,\n\tclassName,\n\thideBlank,\n\ticonAttributes,\n\ticonClassName,\n\ticonHeight,\n\ticonWidth,\n\tid,\n\tlabelKey,\n\tloadingText,\n\tmultiple,\n\tname,\n\toptionAttributes,\n\toptions,\n\tsetValue,\n\tshowLoading,\n\turl,\n\tvalue,\n\tvalueKey,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\tconst [optionValues, setOptionValues] = useState(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\tconst [isLoading, setIsLoading] = useState(showLoading || !!url);\n\tconst [loadError, setLoadError] = useState('');\n\tconst api = Api.instance();\n\n\tuseEffect(() => {\n\t\tif (url) {\n\t\t\tapi(url, false)\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(error, 'errors')) {\n\t\t\t\t\t\tsetLoadError(error.errors.map((e) => (e.title)).join(' '));\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsetOptionValues(normalizeOptions(response, labelKey, valueKey));\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\t}, [url]);\n\n\tuseEffect(() => {\n\t\tsetOptionValues(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\t}, [options]);\n\n\tuseEffect(() => {\n\t\tsetIsLoading(showLoading);\n\t}, [showLoading]);\n\n\tif (isLoading) {\n\t\treturn (<div className=\"formosa-spinner\" role=\"status\">{loadingText}</div>);\n\t}\n\n\tif (loadError) {\n\t\treturn (<div className=\"formosa-field__error\">{loadError}</div>);\n\t}\n\n\tlet currentValue = multiple ? [] : '';\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<Select> component must be inside a <Form> component.');\n\t\t}\n\t\tcurrentValue = get(formState.row, name);\n\t}\n\tif (currentValue === null || currentValue === undefined) {\n\t\tcurrentValue = multiple ? [] : '';\n\t}\n\tif (typeof currentValue === 'object' && !multiple) {\n\t\tcurrentValue = JSON.stringify(currentValue);\n\t}\n\n\tconst onChange = (e) => {\n\t\tlet newValue;\n\t\tif (multiple) {\n\t\t\tnewValue = Array.from(e.target.options).filter((option) => (option.selected)).map((option) => (option.value));\n\t\t} else {\n\t\t\tnewValue = e.target.value;\n\t\t\tconst option = e.target.querySelector(`[value=\"${newValue.replace(/\"/g, '\\\\\"')}\"]`);\n\t\t\tif (option.getAttribute('data-json') === 'true') {\n\t\t\t\tnewValue = JSON.parse(newValue);\n\t\t\t}\n\t\t}\n\n\t\tif (setValue) {\n\t\t\tsetValue(newValue);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\t};\n\n\tconst props = {};\n\tif (id || name) {\n\t\tprops.id = id || name;\n\t}\n\tif (name) {\n\t\tprops.name = name;\n\t}\n\tif (multiple) {\n\t\tprops.multiple = true;\n\t}\n\n\treturn (\n\t\t<div className={`formosa-select-wrapper ${wrapperClassName}`.trim()} {...wrapperAttributes}>\n\t\t\t<select\n\t\t\t\tclassName={`formosa-field__input formosa-field__input--select ${className}`.trim()}\n\t\t\t\tonChange={onChange}\n\t\t\t\tvalue={currentValue}\n\t\t\t\t{...props}\n\t\t\t\t{...otherProps}\n\t\t\t>\n\t\t\t\t{!hideBlank && !multiple && <option value=\"\" />}\n\t\t\t\t{optionValues.map((optionValue) => {\n\t\t\t\t\tlet optionValueVal = optionValue.value;\n\t\t\t\t\tlet isJson = false;\n\t\t\t\t\tif (typeof optionValueVal === 'object') {\n\t\t\t\t\t\tisJson = true;\n\t\t\t\t\t\toptionValueVal = JSON.stringify(optionValueVal);\n\t\t\t\t\t}\n\n\t\t\t\t\tlet optionProps = {};\n\t\t\t\t\tif (typeof optionAttributes === 'function') {\n\t\t\t\t\t\toptionProps = optionAttributes(optionValue);\n\t\t\t\t\t} else if (optionAttributes && typeof optionAttributes === 'object') {\n\t\t\t\t\t\toptionProps = optionAttributes;\n\t\t\t\t\t}\n\t\t\t\t\tif (isJson) {\n\t\t\t\t\t\toptionProps['data-json'] = true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<option key={optionValueVal} value={optionValueVal} {...optionProps}>{optionValue.label}</option>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</select>\n\t\t\t{!multiple && (\n\t\t\t\t<CaretIcon\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tclassName={`formosa-icon--caret ${iconClassName}`.trim()}\n\t\t\t\t\theight={iconHeight}\n\t\t\t\t\twidth={iconWidth}\n\t\t\t\t\t{...iconAttributes}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nSelect.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\thideBlank: PropTypes.bool,\n\ticonAttributes: PropTypes.object,\n\ticonClassName: PropTypes.string,\n\ticonHeight: PropTypes.number,\n\ticonWidth: PropTypes.number,\n\tid: PropTypes.string,\n\tlabelKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tloadingText: PropTypes.string,\n\tmultiple: PropTypes.bool,\n\tname: PropTypes.string,\n\toptionAttributes: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]),\n\toptions: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]),\n\tsetValue: PropTypes.func,\n\tshowLoading: PropTypes.bool,\n\turl: PropTypes.string,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\tvalueKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nSelect.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\thideBlank: false,\n\ticonAttributes: null,\n\ticonClassName: '',\n\ticonHeight: 16,\n\ticonWidth: 16,\n\tid: null,\n\tlabelKey: 'name',\n\tloadingText: 'Loading...',\n\tmultiple: false,\n\tname: '',\n\toptionAttributes: null,\n\toptions: null,\n\tsetValue: null,\n\tshowLoading: false,\n\turl: null,\n\tvalue: null,\n\tvalueKey: null,\n\twrapperAttributes: null,\n\twrapperClassName: '',\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\n\nexport default function Textarea({\n\tafterChange,\n\tclassName,\n\tid,\n\tname,\n\tsetValue,\n\tvalue,\n\t...otherProps\n}) {\n\tconst { formState, setValues } = useContext(FormContext);\n\n\tlet currentValue = '';\n\tif (setValue !== null) {\n\t\tcurrentValue = value;\n\t} else {\n\t\tif (formState === undefined) {\n\t\t\tthrow new Error('<Textarea> component must be inside a <Form> component.');\n\t\t}\n\t\tcurrentValue = get(formState.row, name);\n\t}\n\tif (currentValue === null || currentValue === undefined) {\n\t\tcurrentValue = '';\n\t}\n\n\tconst onChange = (e) => {\n\t\tconst newValue = e.target.value;\n\t\tif (setValue) {\n\t\t\tsetValue(newValue);\n\t\t} else {\n\t\t\tsetValues(e, name, newValue, afterChange);\n\t\t}\n\t};\n\n\tconst props = {};\n\tif (id || name) {\n\t\tprops.id = id || name;\n\t}\n\tif (name) {\n\t\tprops.name = name;\n\t}\n\n\treturn (\n\t\t<textarea\n\t\t\tclassName={`formosa-field__input formosa-field__input--textarea ${className}`.trim()}\n\t\t\tonChange={onChange}\n\t\t\tvalue={currentValue}\n\t\t\t{...props}\n\t\t\t{...otherProps}\n\t\t/>\n\t);\n}\n\nTextarea.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\tid: PropTypes.string,\n\tname: PropTypes.string,\n\tsetValue: PropTypes.func,\n\tvalue: PropTypes.string,\n};\n\nTextarea.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\tid: null,\n\tname: '',\n\tsetValue: null,\n\tvalue: null,\n};\n","import Autocomplete from './Input/Autocomplete';\nimport Checkbox from './Input/Checkbox';\nimport CheckboxList from './Input/CheckboxList';\nimport File from './Input/File';\nimport Input from './Input';\nimport Password from './Input/Password';\nimport Radio from './Input/Radio';\nimport Search from './Input/Search';\nimport Select from './Input/Select';\nimport Textarea from './Input/Textarea';\n\nexport default (type, component) => {\n\tif (component) {\n\t\treturn component;\n\t}\n\tif (type === 'select') {\n\t\treturn Select;\n\t}\n\tif (type === 'textarea') {\n\t\treturn Textarea;\n\t}\n\tif (type === 'radio') {\n\t\treturn Radio;\n\t}\n\tif (type === 'checkbox') {\n\t\treturn Checkbox;\n\t}\n\tif (type === 'password') {\n\t\treturn Password;\n\t}\n\tif (type === 'search') {\n\t\treturn Search;\n\t}\n\tif (type === 'autocomplete') {\n\t\treturn Autocomplete;\n\t}\n\tif (type === 'file') {\n\t\treturn File;\n\t}\n\tif (type === 'checkbox-list') {\n\t\treturn CheckboxList;\n\t}\n\treturn Input;\n};\n","import getInputElement from './FieldInput';\nimport PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default function ExportableInput({\n\tcomponent,\n\ttype,\n\t...otherProps\n}) {\n\tconst InputComponent = getInputElement(type, component);\n\treturn (\n\t\t<InputComponent type={type} {...otherProps} />\n\t);\n}\n\nExportableInput.propTypes = {\n\tcomponent: PropTypes.func,\n\ttype: PropTypes.string,\n};\n\nExportableInput.defaultProps = {\n\tcomponent: null,\n\ttype: 'text',\n};\n","import PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default function Label({\n\tclassName,\n\thtmlFor,\n\tlabel,\n\tnote,\n\trequired,\n\ttype,\n\t...otherProps\n}) {\n\tlet labelClassName = 'formosa-label';\n\tif (required) {\n\t\tlabelClassName += ' formosa-label--required';\n\t}\n\n\tlet wrapperClassName = 'formosa-label-wrapper';\n\tif (type === 'checkbox') {\n\t\twrapperClassName += ' formosa-label-wrapper--checkbox';\n\t}\n\n\tconst hasFieldset = ['radio', 'checkbox-list'].includes(type);\n\tconst props = {};\n\tif (htmlFor && !hasFieldset) {\n\t\tprops.htmlFor = htmlFor;\n\t}\n\tif (hasFieldset) {\n\t\tprops['aria-hidden'] = true;\n\t}\n\n\treturn (\n\t\t<div className={wrapperClassName}>\n\t\t\t<label className={`${labelClassName} ${className}`.trim()} {...props} {...otherProps}>{label}</label>\n\t\t\t{note && <span className=\"formosa-label__note\">{note}</span>}\n\t\t</div>\n\t);\n}\n\nLabel.propTypes = {\n\tclassName: PropTypes.string,\n\thtmlFor: PropTypes.string,\n\tlabel: PropTypes.string,\n\tnote: PropTypes.string,\n\trequired: PropTypes.bool,\n\ttype: PropTypes.string,\n};\n\nLabel.defaultProps = {\n\tclassName: '',\n\thtmlFor: '',\n\tlabel: '',\n\tnote: '',\n\trequired: false,\n\ttype: '',\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport ConditionalWrapper from './ConditionalWrapper';\nimport Error from './Error';\nimport FormContext from './FormContext';\nimport getInputElement from './FieldInput';\nimport Label from './Label';\nimport PropTypes from 'prop-types';\n\nexport default function Field({\n\tcomponent,\n\tdisabled,\n\tid,\n\tinputInnerWrapperAttributes,\n\tinputInnerWrapperClassName,\n\tinputWrapperAttributes,\n\tinputWrapperClassName,\n\tlabel,\n\tlabelAttributes,\n\tlabelClassName,\n\tlabelNote,\n\tlabelPosition,\n\tname,\n\tnote,\n\tprefix,\n\tpostfix,\n\treadOnly,\n\trequired,\n\tsuffix,\n\ttype,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\tconst { formState } = useContext(FormContext);\n\n\tconst inputProps = { ...otherProps };\n\tif (id) {\n\t\tinputProps.id = id;\n\t}\n\tif (name) {\n\t\tinputProps.name = name;\n\t}\n\tif (disabled) {\n\t\tinputProps.disabled = disabled;\n\t}\n\tif (readOnly) {\n\t\tinputProps.readOnly = readOnly;\n\t}\n\tif (required) {\n\t\tinputProps.required = required;\n\t}\n\tif (suffix) {\n\t\tinputProps.suffix = suffix;\n\t}\n\tif (type) {\n\t\tinputProps.type = type;\n\t\tif (readOnly && type === 'number') {\n\t\t\tinputProps.type = 'text';\n\t\t}\n\t\tif (['radio', 'checkbox-list'].includes(type) && !inputProps.legend) {\n\t\t\tinputProps.legend = label;\n\t\t}\n\t}\n\n\tconst InputComponent = getInputElement(type, component);\n\tconst input = (\n\t\t<InputComponent {...inputProps} />\n\t);\n\n\tif (type === 'hidden') {\n\t\treturn input;\n\t}\n\n\tconst htmlFor = id || name;\n\n\tconst labelComponent = (\n\t\t<Label\n\t\t\tclassName={labelClassName}\n\t\t\thtmlFor={htmlFor}\n\t\t\tlabel={label}\n\t\t\tnote={labelNote}\n\t\t\trequired={required}\n\t\t\ttype={type}\n\t\t\t{...labelAttributes}\n\t\t/>\n\t);\n\n\tconst hasError = formState && name && Object.prototype.hasOwnProperty.call(formState.errors, name);\n\n\tconst cleanName = htmlFor.replace(/[^a-z0-9_-]/gi, '');\n\tconst wrapperClassNameList = ['formosa-field'];\n\tif (cleanName) {\n\t\twrapperClassNameList.push(`formosa-field--${cleanName}`);\n\t}\n\tif (wrapperClassName) {\n\t\twrapperClassNameList.push(wrapperClassName);\n\t}\n\tif (hasError) {\n\t\twrapperClassNameList.push('formosa-field--has-error');\n\t}\n\tif (disabled) {\n\t\twrapperClassNameList.push('formosa-field--disabled');\n\t}\n\tif (readOnly) {\n\t\twrapperClassNameList.push('formosa-field--read-only');\n\t}\n\tif (prefix) {\n\t\twrapperClassNameList.push('formosa-field--has-prefix');\n\t}\n\tif (postfix) {\n\t\twrapperClassNameList.push('formosa-field--has-postfix');\n\t}\n\tif (labelPosition === 'after') {\n\t\twrapperClassNameList.push('formosa-field--label-after');\n\t}\n\n\tconst inputWrapperClassNameList = ['formosa-input-wrapper', `formosa-input-wrapper--${type}`];\n\tif (inputWrapperClassName) {\n\t\tinputWrapperClassNameList.push(inputWrapperClassName);\n\t}\n\tif (suffix) {\n\t\tinputWrapperClassNameList.push('formosa-field--has-suffix');\n\t}\n\n\tconst inputInnerWrapperClassNameList = ['formosa-input-inner-wrapper'];\n\tif (inputInnerWrapperClassName) {\n\t\tinputInnerWrapperClassNameList.push(inputInnerWrapperClassName);\n\t}\n\n\treturn (\n\t\t<div className={wrapperClassNameList.join(' ')} {...wrapperAttributes}>\n\t\t\t{label && labelPosition === 'before' && labelComponent}\n\t\t\t{label && labelPosition === 'after' && <div className=\"formosa-label-wrapper\" />}\n\t\t\t<div className={inputWrapperClassNameList.join(' ')} {...inputWrapperAttributes}>\n\t\t\t\t<ConditionalWrapper\n\t\t\t\t\tclassName={inputInnerWrapperClassNameList.join(' ')}\n\t\t\t\t\tcondition={!!prefix || !!postfix}\n\t\t\t\t\t{...inputInnerWrapperAttributes}\n\t\t\t\t>\n\t\t\t\t\t{prefix}\n\t\t\t\t\t{input}\n\t\t\t\t\t{label && labelPosition === 'after' && labelComponent}\n\t\t\t\t\t{note && (\n\t\t\t\t\t\t<div className=\"formosa-field__note\">{note}</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{postfix}\n\t\t\t\t</ConditionalWrapper>\n\t\t\t\t{formState && formState.showInlineErrors && <Error id={id} name={name} />}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nField.propTypes = {\n\tcomponent: PropTypes.func,\n\tdisabled: PropTypes.bool,\n\tid: PropTypes.string,\n\tinputInnerWrapperAttributes: PropTypes.object,\n\tinputInnerWrapperClassName: PropTypes.string,\n\tinputWrapperAttributes: PropTypes.object,\n\tinputWrapperClassName: PropTypes.string,\n\tlabel: PropTypes.string,\n\tlabelAttributes: PropTypes.object,\n\tlabelClassName: PropTypes.string,\n\tlabelNote: PropTypes.string,\n\tlabelPosition: PropTypes.string,\n\tname: PropTypes.string,\n\tnote: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\tprefix: PropTypes.node,\n\tpostfix: PropTypes.node,\n\treadOnly: PropTypes.bool,\n\trequired: PropTypes.bool,\n\tsuffix: PropTypes.string,\n\ttype: PropTypes.string,\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nField.defaultProps = {\n\tcomponent: null,\n\tdisabled: false,\n\tid: null,\n\tinputInnerWrapperAttributes: {},\n\tinputInnerWrapperClassName: '',\n\tinputWrapperAttributes: {},\n\tinputWrapperClassName: '',\n\tlabel: '',\n\tlabelAttributes: {},\n\tlabelClassName: '',\n\tlabelNote: '',\n\tlabelPosition: 'before',\n\tname: '',\n\tnote: '',\n\tprefix: null,\n\tpostfix: null,\n\treadOnly: false,\n\trequired: false,\n\tsuffix: '',\n\ttype: 'text',\n\twrapperAttributes: {},\n\twrapperClassName: '',\n};\n","import React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default React.createContext(\n\t{\n\t\ttoasts: {},\n\t\tshowWarningPrompt: true,\n\t\taddToast: () => {},\n\t\tremoveToast: () => {},\n\t\tdisableWarningPrompt: () => {},\n\t\tenableWarningPrompt: () => {},\n\t}\n);\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport Alert from './Alert';\nimport Api from './Helpers/Api';\nimport FormContext from './FormContext';\nimport FormosaContext from './FormosaContext';\nimport { getBody } from './Helpers/JsonApi';\nimport PropTypes from 'prop-types';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport default function FormInner({\n\tafterNoSubmit,\n\tbeforeSubmit,\n\tchildren,\n\tclearOnSubmit,\n\tdefaultRow,\n\terrorMessageText,\n\terrorToastText,\n\tfilterBody,\n\tfilterValues,\n\thtmlId,\n\tid,\n\tmethod,\n\tparams,\n\tpath,\n\tpreventEmptyRequest,\n\tpreventEmptyRequestText,\n\trelationshipNames,\n\tshowMessage,\n\tsuccessMessageText,\n\tsuccessToastText,\n\t...otherProps\n}) {\n\tconst { formState, setFormState, getDirtyKeys } = useContext(FormContext);\n\tconst { addToast } = useContext(FormosaContext);\n\n\tconst submitApiRequest = (e) => {\n\t\te.preventDefault();\n\n\t\tconst dirtyKeys = getDirtyKeys();\n\t\tif (preventEmptyRequest && dirtyKeys.length <= 0) {\n\t\t\tif (preventEmptyRequestText) {\n\t\t\t\taddToast(preventEmptyRequestText);\n\t\t\t}\n\t\t\tif (afterNoSubmit) {\n\t\t\t\tafterNoSubmit();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (beforeSubmit && !beforeSubmit(e)) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet url = path;\n\t\tif (id) {\n\t\t\turl = `${path}/${id}`;\n\t\t}\n\t\tif (params) {\n\t\t\turl += `?${params}`;\n\t\t}\n\n\t\tconst body = getBody(\n\t\t\tmethod,\n\t\t\tpath,\n\t\t\tid,\n\t\t\tformState,\n\t\t\tdirtyKeys,\n\t\t\trelationshipNames,\n\t\t\tfilterBody,\n\t\t\tfilterValues\n\t\t);\n\n\t\tsetFormState({\n\t\t\t...formState,\n\t\t\talertClass: '',\n\t\t\talertText: '',\n\t\t\terrors: {},\n\t\t\tresponse: null,\n\t\t\ttoastClass: '',\n\t\t\ttoastText: '',\n\t\t});\n\n\t\tconst bodyString = body instanceof FormData ? body : JSON.stringify(body);\n\n\t\tApi.request(method, url, bodyString)\n\t\t\t.catch((response) => {\n\t\t\t\tif (!Object.prototype.hasOwnProperty.call(response, 'errors') || !Array.isArray(response.errors)) {\n\t\t\t\t\t// This is not a JSON:API-style error response.\n\t\t\t\t\tthrow response;\n\t\t\t\t}\n\n\t\t\t\tconst errors = {};\n\t\t\t\tlet key;\n\t\t\t\tresponse.errors.forEach((error) => {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(error, 'source')) {\n\t\t\t\t\t\tkey = error.source.pointer.replace('/data/attributes/', '');\n\t\t\t\t\t\tkey = key.replace('/data/meta/', 'meta.');\n\t\t\t\t\t\tif (key.startsWith('/included/')) {\n\t\t\t\t\t\t\tconst i = key.replace(/^\\/included\\/(\\d+)\\/.+$/g, '$1');\n\t\t\t\t\t\t\tconst includedRecord = body.included[parseInt(i, 10)];\n\t\t\t\t\t\t\tkey = key.replace(/^\\/included\\/(\\d+)\\//g, `included.${includedRecord.type}.${includedRecord.id}.`);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tkey = key.replace(/\\//g, '.');\n\t\t\t\t\t\tif (!document.querySelector(`[data-name=\"${key}\"].formosa-field__error`)) {\n\t\t\t\t\t\t\tkey = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tkey = '';\n\t\t\t\t\t}\n\t\t\t\t\tif (!Object.prototype.hasOwnProperty.call(errors, key)) {\n\t\t\t\t\t\terrors[key] = [];\n\t\t\t\t\t}\n\t\t\t\t\terrors[key].push(error.title);\n\t\t\t\t});\n\n\t\t\t\tsetFormState({\n\t\t\t\t\t...formState,\n\t\t\t\t\talertClass: 'error',\n\t\t\t\t\talertText: typeof errorMessageText === 'function' ? errorMessageText(response) : errorMessageText,\n\t\t\t\t\terrors,\n\t\t\t\t\tresponse,\n\t\t\t\t\ttoastClass: 'error',\n\t\t\t\t\ttoastText: typeof errorToastText === 'function' ? errorToastText(response) : errorToastText,\n\t\t\t\t\tuuid: uuidv4(),\n\t\t\t\t});\n\t\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tif (!response) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst newState = {\n\t\t\t\t\t...formState,\n\t\t\t\t\talertClass: 'success',\n\t\t\t\t\talertText: typeof successMessageText === 'function' ? successMessageText(response) : successMessageText,\n\t\t\t\t\terrors: {},\n\t\t\t\t\tresponse,\n\t\t\t\t\ttoastClass: 'success',\n\t\t\t\t\ttoastText: typeof successToastText === 'function' ? successToastText(response) : successToastText,\n\t\t\t\t\tuuid: uuidv4(),\n\t\t\t\t};\n\n\t\t\t\tif (clearOnSubmit) {\n\t\t\t\t\tnewState.originalRow = JSON.parse(JSON.stringify(defaultRow)); // Deep copy.\n\t\t\t\t\tnewState.row = JSON.parse(JSON.stringify(defaultRow)); // Deep copy.\n\t\t\t\t\tif (formState.setRow) {\n\t\t\t\t\t\tformState.setRow(newState.row);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tnewState.originalRow = JSON.parse(JSON.stringify(formState.row)); // Deep copy.\n\t\t\t\t}\n\n\t\t\t\tsetFormState(newState);\n\t\t\t});\n\t};\n\tif (method && path && !Object.prototype.hasOwnProperty.call(otherProps, 'onSubmit')) {\n\t\totherProps.onSubmit = submitApiRequest;\n\t}\n\tif (htmlId) {\n\t\totherProps.id = htmlId;\n\t}\n\n\treturn (\n\t\t<form {...otherProps}>\n\t\t\t{showMessage && formState.alertText && (<Alert type={formState.alertClass}>{formState.alertText}</Alert>)}\n\t\t\t{children}\n\t\t</form>\n\t);\n}\n\nFormInner.propTypes = {\n\tafterNoSubmit: PropTypes.func,\n\tbeforeSubmit: PropTypes.func,\n\tchildren: PropTypes.node,\n\tclearOnSubmit: PropTypes.bool,\n\tdefaultRow: PropTypes.object,\n\terrorMessageText: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\terrorToastText: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tfilterBody: PropTypes.func,\n\tfilterValues: PropTypes.func,\n\thtmlId: PropTypes.string,\n\tid: PropTypes.string,\n\tmethod: PropTypes.string,\n\tparams: PropTypes.string,\n\tpath: PropTypes.string,\n\tpreventEmptyRequest: PropTypes.bool,\n\tpreventEmptyRequestText: PropTypes.oneOfType([\n\t\tPropTypes.bool,\n\t\tPropTypes.string,\n\t]),\n\trelationshipNames: PropTypes.array,\n\tshowMessage: PropTypes.bool,\n\tsuccessMessageText: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tsuccessToastText: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n};\n\nFormInner.defaultProps = {\n\tafterNoSubmit: null,\n\tbeforeSubmit: null,\n\tchildren: null,\n\tclearOnSubmit: false,\n\tdefaultRow: {},\n\terrorMessageText: '',\n\terrorToastText: '',\n\tfilterBody: null,\n\tfilterValues: null,\n\thtmlId: '',\n\tid: '',\n\tmethod: null,\n\tparams: '',\n\tpath: null,\n\tpreventEmptyRequest: false,\n\tpreventEmptyRequestText: 'No changes to save.',\n\trelationshipNames: [],\n\tshowMessage: true,\n\tsuccessMessageText: '',\n\tsuccessToastText: '',\n};\n","import React, { useContext, useEffect, useMemo, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormContext from './FormContext';\nimport FormInner from './FormInner';\nimport FormosaContext from './FormosaContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\nimport set from 'set-value';\n\nexport default function Form({\n\tafterSubmitFailure,\n\tafterSubmitSuccess,\n\tchildren,\n\trow,\n\tsetRow,\n\tshowInlineErrors,\n\t...otherProps\n}) {\n\tconst { addToast } = useContext(FormosaContext);\n\n\tconst setOriginalValue = (fs, setFs, key, value) => {\n\t\tconst newRow = { ...fs.originalRow };\n\t\tset(newRow, key, value);\n\t\tsetFs({\n\t\t\t...fs,\n\t\t\toriginalRow: JSON.parse(JSON.stringify(newRow)), // Deep copy.\n\t\t});\n\t};\n\n\tconst [formState, setFormState] = useState({\n\t\talertClass: '',\n\t\talertText: '',\n\t\terrors: {},\n\t\tfiles: {},\n\t\toriginalRow: JSON.parse(JSON.stringify(row)), // Deep copy.\n\t\trow,\n\t\tresponse: null,\n\t\tsetOriginalValue,\n\t\tsetRow,\n\t\tshowInlineErrors,\n\t\ttoastClass: '',\n\t\ttoastText: '',\n\t\tuuid: null,\n\t});\n\n\tuseEffect(() => {\n\t\tif (JSON.stringify(row) === JSON.stringify(formState.row)) {\n\t\t\treturn;\n\t\t}\n\t\tsetFormState({\n\t\t\t...formState,\n\t\t\trow,\n\t\t});\n\t});\n\n\tuseEffect(() => {\n\t\tif (!formState.uuid) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (formState.toastText) {\n\t\t\taddToast(formState.toastText, formState.toastClass);\n\t\t}\n\n\t\tif (formState.alertClass === 'success' && afterSubmitSuccess) {\n\t\t\tafterSubmitSuccess(formState.response, formState, setFormState);\n\t\t} else if (formState.alertClass === 'error' && afterSubmitFailure) {\n\t\t\tafterSubmitFailure(formState.response, formState, setFormState);\n\t\t}\n\t}, [formState.uuid]);\n\n\tconst getDirtyKeys = (r, originalRow) => {\n\t\tlet dirtyKeys = [];\n\n\t\tObject.keys(r).forEach((key) => {\n\t\t\t// Get the old and new values.\n\t\t\tlet oldValue = get(originalRow, key);\n\t\t\tlet newValue = get(r, key);\n\t\t\tconst isArray = Array.isArray(oldValue) || Array.isArray(newValue);\n\n\t\t\tif (isArray) {\n\t\t\t\tlet itemDirtyKeys;\n\t\t\t\tObject.keys(newValue).forEach((newIndex) => {\n\t\t\t\t\tconst oldIndex = oldValue ? oldValue.findIndex((o) => (o.id === newValue[newIndex].id)) : -1;\n\t\t\t\t\titemDirtyKeys = getDirtyKeys(newValue[newIndex], oldIndex > -1 ? oldValue[oldIndex] : {});\n\t\t\t\t\titemDirtyKeys = itemDirtyKeys.map((k2) => `${key}.${newIndex}.${k2}`);\n\t\t\t\t\tdirtyKeys = dirtyKeys.concat(itemDirtyKeys);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Stringify for easier comparison.\n\t\t\tif (typeof oldValue !== 'string') {\n\t\t\t\toldValue = JSON.stringify(oldValue);\n\t\t\t}\n\t\t\tif (typeof newValue !== 'string') {\n\t\t\t\tnewValue = JSON.stringify(newValue);\n\t\t\t}\n\n\t\t\tif (newValue !== oldValue) {\n\t\t\t\tdirtyKeys.push(key);\n\t\t\t}\n\t\t});\n\n\t\treturn dirtyKeys;\n\t};\n\n\tconst setValues = (e, name, value, afterChange = null, files = null) => {\n\t\tconst newRow = { ...formState.row };\n\t\tset(newRow, name, value);\n\n\t\tif (afterChange) {\n\t\t\tconst additionalChanges = afterChange(e, newRow, value);\n\t\t\tObject.keys(additionalChanges).forEach((key) => {\n\t\t\t\tset(newRow, key, additionalChanges[key]);\n\t\t\t});\n\t\t}\n\n\t\tconst newFormState = {\n\t\t\t...formState,\n\t\t\trow: newRow,\n\t\t};\n\t\tif (files !== null) {\n\t\t\tset(newFormState, `files.${name}`, files);\n\t\t}\n\n\t\tsetFormState(newFormState);\n\t\tif (formState.setRow) {\n\t\t\tformState.setRow(newRow);\n\t\t}\n\t};\n\n\tconst value = useMemo(() => ({\n\t\tformState,\n\t\tsetFormState,\n\t\tclearAlert: () => (setFormState({ ...formState, alertText: '', alertClass: '' })),\n\t\tclearErrors: () => (setFormState({ ...formState, errors: {} })),\n\t\tgetDirtyKeys: () => (getDirtyKeys(formState.row, formState.originalRow)),\n\t\tsetValues,\n\t}), [formState]);\n\n\treturn (\n\t\t<FormContext.Provider value={value}>\n\t\t\t<FormInner {...otherProps}>\n\t\t\t\t{children}\n\t\t\t</FormInner>\n\t\t</FormContext.Provider>\n\t);\n}\n\nForm.propTypes = {\n\tafterSubmitFailure: PropTypes.func,\n\tafterSubmitSuccess: PropTypes.func,\n\tchildren: PropTypes.node,\n\trow: PropTypes.object,\n\tsetRow: PropTypes.func,\n\tshowInlineErrors: PropTypes.bool,\n};\n\nForm.defaultProps = {\n\tafterSubmitFailure: null,\n\tafterSubmitSuccess: null,\n\tchildren: null,\n\trow: {},\n\tsetRow: null,\n\tshowInlineErrors: true,\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport Alert from './Alert';\nimport FormContext from './FormContext';\n\nexport default function FormAlert({ ...otherProps }) {\n\tconst { formState } = useContext(FormContext);\n\n\tif (!formState.alertText) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Alert type={formState.alertClass} {...otherProps}>{formState.alertText}</Alert>\n\t);\n}\n","import PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\nimport { usePromiseTracker } from 'react-promise-tracker';\n\nexport default function Spinner({ loadingText }) {\n\tconst { promiseInProgress } = usePromiseTracker();\n\tif (!promiseInProgress) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<div className=\"formosa-spinner formosa-spinner--fullscreen\" role=\"status\">{loadingText}</div>\n\t);\n}\n\nSpinner.propTypes = {\n\tloadingText: PropTypes.string,\n};\n\nSpinner.defaultProps = {\n\tloadingText: 'Loading...',\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport { ReactComponent as CloseIcon } from '../svg/x.svg';\nimport FormosaContext from './FormosaContext';\nimport PropTypes from 'prop-types';\n\nexport default function Toast({\n\tclassName,\n\tid,\n\tmilliseconds,\n\ttext,\n}) {\n\tconst { removeToast } = useContext(FormosaContext);\n\n\treturn (\n\t\t<div aria-live=\"polite\" className={`formosa-toast ${className}`.trim()} role=\"alert\" style={{ animationDuration: `${milliseconds}ms` }}>\n\t\t\t<div className=\"formosa-toast__text\">{text}</div>\n\t\t\t<button className=\"formosa-toast__close\" onClick={() => (removeToast(id))} type=\"button\">\n\t\t\t\t<CloseIcon aria-hidden=\"true\" className=\"formosa-toast__close-icon\" height={12} width={12} />\n\t\t\t\tClose\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n\nToast.propTypes = {\n\tclassName: PropTypes.string,\n\tid: PropTypes.string.isRequired,\n\tmilliseconds: PropTypes.number.isRequired,\n\ttext: PropTypes.string.isRequired,\n};\n\nToast.defaultProps = {\n\tclassName: '',\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormosaContext from './FormosaContext';\nimport Toast from './Toast';\n\nexport default function ToastContainer() {\n\tconst { toasts } = useContext(FormosaContext);\n\treturn (\n\t\t<div className=\"formosa-toast-container\">\n\t\t\t{Object.keys(toasts).map((id) => (\n\t\t\t\t<Toast\n\t\t\t\t\tclassName={toasts[id].className}\n\t\t\t\t\tkey={id}\n\t\t\t\t\tid={id}\n\t\t\t\t\tmilliseconds={toasts[id].milliseconds}\n\t\t\t\t\ttext={toasts[id].text}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n","import React, { useMemo, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormosaContext from './FormosaContext';\nimport PropTypes from 'prop-types';\nimport Spinner from './Spinner';\nimport ToastContainer from './ToastContainer';\n\nexport default function FormContainer({ children, loadingText }) {\n\tconst [showWarningPrompt, setShowWarningPrompt] = useState(true);\n\tconst [toasts, setToasts] = useState({});\n\n\tconst removeToast = (toastId) => {\n\t\tconst newToasts = { ...toasts };\n\t\tif (Object.prototype.hasOwnProperty.call(toasts, toastId)) {\n\t\t\tdelete newToasts[toastId];\n\t\t\tsetToasts(newToasts);\n\t\t}\n\t};\n\n\tconst addToast = (text, type = '', milliseconds = 5000) => {\n\t\tconst toastId = new Date().getTime();\n\t\tconst toast = {\n\t\t\tclassName: type ? `formosa-toast--${type}` : '',\n\t\t\ttext,\n\t\t\tmilliseconds,\n\t\t};\n\t\tconst newToasts = {\n\t\t\t...toasts,\n\t\t\t[toastId]: toast,\n\t\t};\n\t\tsetToasts(newToasts);\n\t\tsetTimeout(() => {\n\t\t\tremoveToast(toastId);\n\t\t}, milliseconds);\n\t};\n\n\tconst disableWarningPrompt = () => {\n\t\tsetShowWarningPrompt(false);\n\t};\n\n\tconst enableWarningPrompt = () => {\n\t\tsetShowWarningPrompt(true);\n\t};\n\n\tconst value = useMemo(() => ({\n\t\ttoasts,\n\t\tshowWarningPrompt,\n\t\taddToast,\n\t\tremoveToast,\n\t\tdisableWarningPrompt,\n\t\tenableWarningPrompt,\n\t}), [toasts, showWarningPrompt]);\n\n\treturn (\n\t\t<FormosaContext.Provider value={value}>\n\t\t\t{children}\n\t\t\t<Spinner loadingText={loadingText} />\n\t\t\t<ToastContainer />\n\t\t</FormosaContext.Provider>\n\t);\n}\n\nFormContainer.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n\tloadingText: PropTypes.string,\n};\n\nFormContainer.defaultProps = {\n\tloadingText: 'Loading...',\n};\n","import PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default function Submit({\n\tclassName,\n\tlabel,\n\tprefix,\n\tpostfix,\n\t...otherProps\n}) {\n\treturn (\n\t\t<div className=\"formosa-field formosa-field--submit\">\n\t\t\t<div className=\"formosa-label-wrapper formosa-label-wrapper--submit\" />\n\t\t\t<div className=\"formosa-input-wrapper formosa-input-wrapper--submit\">\n\t\t\t\t{prefix}\n\t\t\t\t<button\n\t\t\t\t\tclassName={`formosa-button formosa-button--submit ${className}`.trim()}\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t{...otherProps}\n\t\t\t\t>\n\t\t\t\t\t{label}\n\t\t\t\t</button>\n\t\t\t\t{postfix}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nSubmit.propTypes = {\n\tclassName: PropTypes.string,\n\tlabel: PropTypes.string,\n\tprefix: PropTypes.node,\n\tpostfix: PropTypes.node,\n};\n\nSubmit.defaultProps = {\n\tclassName: '',\n\tlabel: 'Submit',\n\tprefix: null,\n\tpostfix: null,\n};\n","import './style.scss';\nimport alert from './js/Alert';\nimport api from './js/Helpers/Api';\nimport { ReactComponent as checkIcon } from './svg/check.svg';\nimport error from './js/Error';\nimport exportableInput from './js/ExportableInput';\nimport field from './js/Field';\nimport form from './js/Form';\nimport formAlert from './js/FormAlert';\nimport formContainer from './js/FormContainer';\nimport formContext from './js/FormContext';\nimport formosaContext from './js/FormosaContext';\nimport label from './js/Label';\nimport submit from './js/Submit';\n\nexport const Alert = alert;\nexport const Api = api;\nexport const CheckIcon = checkIcon;\nexport const Error = error;\nexport const Field = field;\nexport const Form = form;\nexport const FormAlert = formAlert;\nexport const FormContainer = formContainer;\nexport const FormContext = formContext;\nexport const FormosaContext = formosaContext;\nexport const Input = exportableInput;\nexport const Label = label;\nexport const Submit = submit;\n"],"names":["Alert","_ref","className","children","type","otherProps","alertClass","React","createElement","_extends","role","propTypes","PropTypes","string","node","isRequired","defaultProps","findIncluded","included","id","mainRecord","output","Object","prototype","hasOwnProperty","call","attributes","meta","find","data","deserializeSingle","otherRows","includedRecord","keys","relationships","forEach","relationshipName","Array","isArray","rel","i","deserialize","body","push","cleanSingleRelationship","values","cleanRelationship","map","value","getIncludedItemData","relName","childRelationshipNames","dirtyRelationships","relIndex","relData","startsWith","key","includes","childRel","set","hasAttributes","length","hasRelationships","getIncluded","dirtyKeys","relationshipNames","currentKeys","split","k","get","join","shift","unset","obj","lastKey","pop","o","appendToFormData","formData","prefix","entries","entry","newKey","append","JSON","stringify","getBody","method","formState","filterBody","filterValues","row","fileKeys","files","firstPartOfKey","replace","parse","filenames","filter","filename","FormData","Api","instance","responses","url","showSpinner","request","delete","post","put","options","headers","Accept","getToken","Authorization","fullUrl","process","env","REACT_APP_API_URL","event","CustomEvent","cancelable","detail","document","dispatchEvent","Promise","resolve","promise","fetch","then","response","ok","json","catch","error","SyntaxError","errors","title","status","trackPromise","window","FORMOSA_TOKEN","setToken","token","createContext","alertText","originalRow","setRow","toastClass","toastText","uuid","Error","name","useContext","FormContext","hasError","props","e","normalizeOptions","labelKey","valueKey","option","label","escapeRegExp","toSlug","s","toLowerCase","filterByKey","records","escapedValue","record","recordValue","toString","match","RegExp","sort","a","b","aValue","bValue","aPos","indexOf","bPos","localeCompare","Autocomplete","afterAdd","afterChange","clearable","clearButtonAttributes","clearButtonClassName","clearIconAttributes","clearIconHeight","clearIconWidth","clearText","disabled","inputClassName","labelFn","loadingText","max","optionButtonAttributes","optionButtonClassName","optionLabelFn","optionListAttributes","optionListClassName","optionListItemAttributes","optionListItemClassName","placeholder","readOnly","removeButtonAttributes","removeButtonClassName","removeIconAttributes","removeIconHeight","removeIconWidth","removeText","setValue","showLoading","valueListItemAttributes","wrapperAttributes","wrapperClassName","setValues","clearButtonRef","useRef","inputRef","removeButtonRef","setFilter","useState","isOpen","setIsOpen","highlightedIndex","setHighlightedIndex","optionValues","setOptionValues","isLoading","setIsLoading","loadError","setLoadError","api","useEffect","currentValue","undefined","currentValueLength","isSelected","findIndex","v","filteredOptions","focus","current","addValue","newValue","target","removeValue","index","splice","onChange","onFocus","onKeyDown","filterValue","preventDefault","onKeyUp","onClickOption","val","getAttribute","onClickRemoveOption","button","tagName","toUpperCase","parentNode","clear","showClear","canAddValues","wrapperProps","trim","isJson","valueListItemProps","removeButtonProps","removeIconProps","onClick","ref","CloseIcon","height","width","autoComplete","optionClassName","optionListItemProps","optionButtonProps","func","bool","object","number","oneOfType","array","arrayOf","Checkbox","iconAttributes","iconClassName","iconHeight","iconWidth","checked","Fragment","CheckIcon","CheckboxList","fieldsetAttributes","fieldsetClassName","inputAttributes","itemAttributes","itemClassName","itemLabelAttributes","itemLabelClassName","itemSpanAttributes","itemSpanClassName","legend","currentValueStringified","optionValue","optionValueVal","itemProps","itemLabelProps","inputProps","iconProps","itemSpanProps","File","buttonAttributes","buttonClassName","emptyText","imageAttributes","imageClassName","imageHeight","imagePrefix","imagePreview","inputWrapperAttributes","inputWrapperClassName","linkAttributes","linkClassName","linkImage","multiple","required","hasValue","getFilenames","FileList","numFiles","item","getSrcs","URL","createObjectURL","v2","setFilenames","srcs","setSrcs","newFiles","onRemove","prefixClassName","hiddenProps","buttonProps","src","img","alt","href","ConditionalWrapper","condition","any","Input","suffix","Password","hideAria","hideText","showAria","showText","tempType","setTempType","togglePassword","spellCheck","Radio","Search","SearchIcon","Select","hideBlank","optionAttributes","from","selected","querySelector","optionProps","CaretIcon","Textarea","component","ExportableInput","InputComponent","getInputElement","Label","htmlFor","note","labelClassName","hasFieldset","Field","inputInnerWrapperAttributes","inputInnerWrapperClassName","labelAttributes","labelNote","labelPosition","postfix","input","labelComponent","cleanName","wrapperClassNameList","inputWrapperClassNameList","inputInnerWrapperClassNameList","showInlineErrors","toasts","showWarningPrompt","addToast","removeToast","disableWarningPrompt","enableWarningPrompt","FormInner","afterNoSubmit","beforeSubmit","clearOnSubmit","defaultRow","errorMessageText","errorToastText","htmlId","params","path","preventEmptyRequest","preventEmptyRequestText","showMessage","successMessageText","successToastText","setFormState","getDirtyKeys","FormosaContext","submitApiRequest","bodyString","source","pointer","parseInt","uuidv4","newState","onSubmit","Form","afterSubmitFailure","afterSubmitSuccess","setOriginalValue","fs","setFs","newRow","r","oldValue","itemDirtyKeys","newIndex","oldIndex","k2","concat","additionalChanges","newFormState","useMemo","clearAlert","clearErrors","Provider","FormAlert","Spinner","promiseInProgress","usePromiseTracker","Toast","milliseconds","text","style","animationDuration","ToastContainer","FormContainer","setShowWarningPrompt","setToasts","toastId","newToasts","Date","getTime","toast","setTimeout","Submit","alert","checkIcon","field","form","formAlert","formContainer","formContext","formosaContext","exportableInput","submit"],"mappings":"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"}