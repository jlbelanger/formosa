{"version":3,"file":"index.js","sources":["../src/js/Helpers/JsonApi.js","../src/js/Helpers/Api.js","../src/js/FormContext.js","../src/js/Error.js","../src/js/Helpers/Options.js","../src/js/Input/Autocomplete.js","../src/js/ConditionalWrapper.js","../src/js/Input.js","../src/js/Input/Checkbox.js","../src/js/Input/CheckboxList.js","../src/js/Helpers/Datetime.js","../src/js/Input/Select.js","../src/js/Input/Datetime.js","../src/js/Input/File.js","../src/js/Input/Password.js","../src/js/Input/Radio.js","../src/js/Input/RadioList.js","../src/js/Input/Search.js","../src/js/Input/Textarea.js","../src/js/FieldInput.js","../src/js/Helpers/FormState.js","../src/js/Input/HasMany.js","../src/js/Label.js","../src/js/Field.js","../src/js/FormosaContext.js","../src/js/Message.js","../src/js/FormInner.js","../src/js/Form.js","../src/js/Spinner.js","../src/js/Toast.js","../src/js/ToastContainer.js","../src/js/FormContainer.js","../src/js/Submit.js","../src/index.js"],"sourcesContent":["import get from 'get-value';\nimport set from 'set-value';\n\nconst findIncluded = (included, id, type, mainRecord) => {\n\tif (mainRecord && id === mainRecord.id && type === mainRecord.type) {\n\t\tconst output = {\n\t\t\tid: mainRecord.id,\n\t\t\ttype: mainRecord.type,\n\t\t};\n\t\tif (Object.prototype.hasOwnProperty.call(mainRecord, 'attributes')) {\n\t\t\toutput.attributes = mainRecord.attributes;\n\t\t}\n\t\tif (Object.prototype.hasOwnProperty.call(mainRecord, 'meta')) {\n\t\t\toutput.meta = mainRecord.meta;\n\t\t}\n\t\treturn output;\n\t}\n\treturn included.find((data) => (data.id === id && data.type === type));\n};\n\nconst deserializeSingle = (data, otherRows = [], included = [], mainRecord = null) => {\n\tif (!data) {\n\t\treturn data;\n\t}\n\tconst output = {\n\t\tid: data.id,\n\t\ttype: data.type,\n\t\t...data.attributes,\n\t};\n\n\tif (Object.prototype.hasOwnProperty.call(data, 'relationships')) {\n\t\tlet includedRecord;\n\t\tObject.keys(data.relationships).forEach((relationshipName) => {\n\t\t\toutput[relationshipName] = data.relationships[relationshipName].data;\n\t\t\tif (Array.isArray(output[relationshipName])) {\n\t\t\t\toutput[relationshipName].forEach((rel, i) => {\n\t\t\t\t\tincludedRecord = findIncluded(included, rel.id, rel.type, mainRecord);\n\t\t\t\t\tif (includedRecord) {\n\t\t\t\t\t\toutput[relationshipName][i] = deserializeSingle(includedRecord, otherRows, included, mainRecord);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tincludedRecord = findIncluded(otherRows, rel.id, rel.type, mainRecord);\n\t\t\t\t\t\tif (includedRecord) {\n\t\t\t\t\t\t\toutput[relationshipName][i] = deserializeSingle(includedRecord, otherRows, included, mainRecord);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (output[relationshipName] !== null) {\n\t\t\t\tincludedRecord = findIncluded(included, output[relationshipName].id, output[relationshipName].type, mainRecord);\n\t\t\t\tif (includedRecord) {\n\t\t\t\t\toutput[relationshipName] = deserializeSingle(includedRecord, otherRows, included, mainRecord);\n\t\t\t\t} else {\n\t\t\t\t\tincludedRecord = findIncluded(otherRows, output[relationshipName].id, output[relationshipName].type, mainRecord);\n\t\t\t\t\tif (includedRecord) {\n\t\t\t\t\t\toutput[relationshipName] = deserializeSingle(includedRecord, otherRows, included, mainRecord);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tif (Object.prototype.hasOwnProperty.call(data, 'meta')) {\n\t\toutput.meta = data.meta;\n\t}\n\n\treturn output;\n};\n\nexport const deserialize = (body) => {\n\tif (Array.isArray(body.data)) {\n\t\tconst output = [];\n\t\tbody.data.forEach((data) => {\n\t\t\toutput.push(deserializeSingle(data, body.data, body.included, null));\n\t\t});\n\t\treturn output;\n\t}\n\treturn deserializeSingle(body.data, [], body.included, body.data);\n};\n\nconst cleanSingleRelationship = (values) => ({\n\tid: values.id,\n\ttype: values.type,\n});\n\nconst cleanRelationship = (values) => {\n\tif (Array.isArray(values)) {\n\t\treturn values.map((value) => cleanSingleRelationship(value));\n\t}\n\treturn cleanSingleRelationship(values);\n};\n\nconst getIncluded = (data, dirtyIncluded, relationshipNames) => {\n\tconst included = [];\n\n\tconst dirtyKeys = {};\n\tdirtyIncluded.forEach((key) => {\n\t\tif (!key.startsWith('_new.')) {\n\t\t\tconst currentKeys = [];\n\t\t\tkey.split('.').forEach((k) => {\n\t\t\t\tcurrentKeys.push(k);\n\t\t\t\tif (typeof get(dirtyKeys, currentKeys.join('.')) === 'undefined') {\n\t\t\t\t\tset(dirtyKeys, currentKeys.join('.'), {});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\trelationshipNames.forEach((relationshipName) => {\n\t\tif (!Object.prototype.hasOwnProperty.call(data.relationships, relationshipName)) {\n\t\t\t// This relationship isn't defined.\n\t\t\treturn;\n\t\t}\n\n\t\tif (!Object.prototype.hasOwnProperty.call(dirtyKeys, relationshipName)) {\n\t\t\t// No related records' attributes have changed.\n\t\t\treturn;\n\t\t}\n\n\t\tif (!Array.isArray(data.relationships[relationshipName].data)) {\n\t\t\treturn;\n\t\t}\n\n\t\tdata.relationships[relationshipName].data.forEach((rel) => {\n\t\t\tif (Object.keys(rel).length <= 2) {\n\t\t\t\t// This relationship only has an id and type.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (Object.prototype.hasOwnProperty.call(dirtyKeys[relationshipName], rel.id)) {\n\t\t\t\tconst relData = {\n\t\t\t\t\tid: rel.id,\n\t\t\t\t\ttype: rel.type,\n\t\t\t\t\tattributes: {},\n\t\t\t\t};\n\n\t\t\t\tif (Object.keys(dirtyKeys[relationshipName][rel.id]).length === 0) {\n\t\t\t\t\t// This is a new record; include all attributes.\n\t\t\t\t\tObject.keys(rel).forEach((key) => {\n\t\t\t\t\t\tif (key !== 'id' && key !== 'type') {\n\t\t\t\t\t\t\tset(relData.attributes, key, rel[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// This is an existing record; include only the dirty attributes.\n\t\t\t\t\tObject.keys(rel).forEach((key) => {\n\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(dirtyKeys[relationshipName][rel.id], key)) {\n\t\t\t\t\t\t\tset(relData.attributes, key, rel[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tincluded.push(relData);\n\t\t\t}\n\t\t});\n\t});\n\n\treturn included;\n};\n\nexport const getBody = (\n\tmethod,\n\ttype,\n\tid,\n\tformState,\n\trelationshipNames,\n\tfilterBody,\n\tfilterValues\n) => {\n\tlet body = null;\n\n\tif (method === 'PUT' || method === 'POST') {\n\t\tbody = {};\n\t\tconst data = {\n\t\t\ttype,\n\t\t\tattributes: {},\n\t\t\tmeta: {},\n\t\t\trelationships: {},\n\t\t};\n\t\tconst keys = method === 'PUT' ? formState.dirty : Object.keys(formState.row);\n\n\t\tif (method === 'PUT' && id) {\n\t\t\tdata.id = id;\n\t\t}\n\n\t\tlet values = { ...formState.row };\n\t\tif (filterValues) {\n\t\t\tvalues = filterValues(values);\n\t\t}\n\n\t\tkeys.forEach((key) => {\n\t\t\tconst cleanKey = key.replace(/\\..+$/, '');\n\t\t\tif (relationshipNames.includes(cleanKey)) {\n\t\t\t\tdata.relationships[cleanKey] = {\n\t\t\t\t\tdata: get(values, cleanKey),\n\t\t\t\t};\n\t\t\t} else if (relationshipNames.includes(key)) {\n\t\t\t\tdata.relationships[key] = {\n\t\t\t\t\tdata: get(values, cleanKey),\n\t\t\t\t};\n\t\t\t} else if (key.startsWith('meta.')) {\n\t\t\t\tset(data, key, get(values, key));\n\t\t\t} else if (key === 'meta') {\n\t\t\t\tdata.meta = values.meta;\n\t\t\t} else if (key !== '_new' && !key.startsWith('_new.')) {\n\t\t\t\tset(data.attributes, key, get(values, key));\n\t\t\t}\n\t\t});\n\n\t\tbody.data = data;\n\n\t\tconst included = getIncluded(data, formState.dirtyIncluded, relationshipNames);\n\t\tif (included.length > 0) {\n\t\t\tbody.included = included;\n\t\t}\n\n\t\tObject.keys(data.relationships).forEach((relationshipName) => {\n\t\t\tif (typeof data.relationships[relationshipName].data === 'string') {\n\t\t\t\tdata.relationships[relationshipName].data = JSON.parse(data.relationships[relationshipName].data);\n\t\t\t}\n\t\t\tif (Array.isArray(data.relationships[relationshipName].data)) {\n\t\t\t\tdata.relationships[relationshipName].data = data.relationships[relationshipName].data.map((rel) => (cleanRelationship(rel)));\n\t\t\t}\n\t\t});\n\n\t\tif (filterBody) {\n\t\t\tbody = filterBody(body, formState.row);\n\t\t}\n\n\t\tif (Object.keys(data.attributes).length <= 0) {\n\t\t\tdelete data.attributes;\n\t\t}\n\t\tif (Object.keys(data.meta).length <= 0) {\n\t\t\tdelete data.meta;\n\t\t}\n\t\tif (Object.keys(data.relationships).length <= 0) {\n\t\t\tdelete data.relationships;\n\t\t}\n\n\t\tconst filenames = Object.keys(formState.files).filter((filename) => (formState.files[filename] !== false));\n\t\tif (filenames.length > 0) {\n\t\t\tconst formData = new FormData();\n\t\t\tformData.append('json', JSON.stringify(body));\n\t\t\tformData.append('files', JSON.stringify(filenames));\n\n\t\t\tfilenames.forEach((filename) => {\n\t\t\t\tformData.append(filename, formState.files[filename]);\n\t\t\t});\n\n\t\t\tbody = formData;\n\t\t} else {\n\t\t\tbody = JSON.stringify(body);\n\t\t}\n\t}\n\n\treturn body;\n};\n","import { deserialize } from './JsonApi';\nimport { trackPromise } from 'react-promise-tracker';\n\nexport default class Api {\n\tstatic get(url) {\n\t\treturn Api.request('GET', url);\n\t}\n\n\tstatic delete(url) {\n\t\treturn Api.request('DELETE', url);\n\t}\n\n\tstatic post(url, body) {\n\t\treturn Api.request('POST', url, body);\n\t}\n\n\tstatic put(url, body) {\n\t\treturn Api.request('PUT', url, body);\n\t}\n\n\tstatic request(method, url, body = null) {\n\t\tconst options = {\n\t\t\tmethod,\n\t\t\theaders: {\n\t\t\t\t'X-Requested-With': 'XMLHttpRequest',\n\t\t\t},\n\t\t};\n\t\tif (typeof body === 'string') {\n\t\t\toptions.headers['Content-Type'] = 'application/json';\n\t\t}\n\t\tif (Api.getToken()) {\n\t\t\toptions.headers.Authorization = `Bearer ${Api.getToken()}`;\n\t\t}\n\t\tif (body) {\n\t\t\toptions.body = body;\n\t\t}\n\n\t\treturn trackPromise(\n\t\t\tfetch(`${process.env.REACT_APP_API_URL}/${url}`, options)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (!response.ok) {\n\t\t\t\t\t\treturn response.json()\n\t\t\t\t\t\t\t.then((json) => {\n\t\t\t\t\t\t\t\tjson.status = response.status;\n\t\t\t\t\t\t\t\tthrow json;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t\tif (error instanceof SyntaxError) {\n\t\t\t\t\t\t\t\t\tthrow { // eslint-disable-line no-throw-literal\n\t\t\t\t\t\t\t\t\t\terrors: [\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: 'The server returned invalid JSON.',\n\t\t\t\t\t\t\t\t\t\t\t\tstatus: '500',\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\tstatus: 500,\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthrow error;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (response.status === 204) {\n\t\t\t\t\t\treturn {};\n\t\t\t\t\t}\n\t\t\t\t\treturn response.json();\n\t\t\t\t})\n\t\t\t\t.then((json) => {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(json, 'data')) {\n\t\t\t\t\t\treturn deserialize(json);\n\t\t\t\t\t}\n\t\t\t\t\treturn json;\n\t\t\t\t})\n\t\t);\n\t}\n\n\tstatic getToken() {\n\t\treturn window.FORMOSA_TOKEN;\n\t}\n\n\tstatic setToken(token) {\n\t\twindow.FORMOSA_TOKEN = token;\n\t}\n}\n","import React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default React.createContext(\n\t{\n\t\tdirty: [],\n\t\tdirtyIncluded: [],\n\t\terrors: {},\n\t\tfiles: {},\n\t\tmessage: '',\n\t\trow: {},\n\t\tsetRow: null,\n\t\tsetValues: null,\n\t}\n);\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormContext from './FormContext';\nimport PropTypes from 'prop-types';\n\nexport default function Error({\n\tid,\n\tname,\n}) {\n\tconst { formState } = useContext(FormContext);\n\tconst hasError = Object.prototype.hasOwnProperty.call(formState.errors, name);\n\n\treturn (\n\t\t<div className=\"formosa-field__error\" data-name={name} id={`${id || name}-error`}>\n\t\t\t{hasError && formState.errors[name].map((e) => (<div key={e}>{e}</div>))}\n\t\t</div>\n\t);\n}\n\nError.propTypes = {\n\tid: PropTypes.string,\n\tname: PropTypes.string.isRequired,\n};\n\nError.defaultProps = {\n\tid: null,\n};\n","import get from 'get-value';\n\nexport const normalizeOptions = (options, labelKey, valueKey = null) => {\n\tif (!options) {\n\t\treturn [];\n\t}\n\n\tconst output = [];\n\tif (Array.isArray(options)) {\n\t\toptions.forEach((option) => {\n\t\t\tif (typeof option === 'string') {\n\t\t\t\toutput.push({\n\t\t\t\t\tlabel: option,\n\t\t\t\t\tvalue: option,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\toutput.push({\n\t\t\t\t\t...option,\n\t\t\t\t\tlabel: typeof labelKey === 'function' ? labelKey(option) : get(option, labelKey),\n\t\t\t\t\tvalue: typeof valueKey === 'function' ? valueKey(option) : get(option, valueKey),\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t} else {\n\t\tObject.keys(options).forEach((value) => {\n\t\t\tconst option = options[value];\n\t\t\tif (typeof value === 'string') {\n\t\t\t\toutput.push({\n\t\t\t\t\tlabel: option,\n\t\t\t\t\tvalue,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\toutput.push({\n\t\t\t\t\t...option,\n\t\t\t\t\tlabel: typeof labelKey === 'function' ? labelKey(option) : get(option, labelKey),\n\t\t\t\t\tvalue: typeof valueKey === 'function' ? valueKey(option) : get(option, valueKey),\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\treturn output;\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Escaping\nexport const escapeRegExp = (string) => (string.replace(/[.*+\\-?^${}()|[\\]\\\\]/g, '\\\\$&'));\n\nconst toSlug = (s) => (\n\ts.toLowerCase()\n\t\t.replace(/ & /g, '-and-')\n\t\t.replace(/<[^>]+>/g, '')\n\t\t.replace(/['â€™.]/g, '')\n\t\t.replace(/[^a-z0-9-]+/g, '-')\n\t\t.replace(/^-+/, '')\n\t\t.replace(/-+$/, '')\n\t\t.replace(/--+/g, '-')\n);\n\nexport const filterByKey = (records, key, value) => {\n\tvalue = value.toLowerCase();\n\tconst escapedValue = escapeRegExp(value);\n\trecords = records.filter((record) => {\n\t\tconst recordValue = get(record, key).toString().toLowerCase() || '';\n\t\treturn recordValue.match(new RegExp(`(^|[^a-z])${escapedValue}`));\n\t});\n\tvalue = toSlug(value);\n\trecords = records.sort((a, b) => {\n\t\tconst aValue = toSlug(get(a, key).toString());\n\t\tconst bValue = toSlug(get(b, key).toString());\n\t\tconst aPos = aValue.indexOf(value) === 0;\n\t\tconst bPos = bValue.indexOf(value) === 0;\n\t\tif ((aPos && bPos) || (!aPos && !bPos)) {\n\t\t\treturn aValue.localeCompare(bValue);\n\t\t}\n\t\tif (aPos && !bPos) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn 1;\n\t});\n\treturn records;\n};\n","import { filterByKey, normalizeOptions } from '../Helpers/Options';\nimport React, { useContext, useEffect, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport Api from '../Helpers/Api';\nimport { ReactComponent as CloseIcon } from '../../svg/x.svg';\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\n\nexport default function Autocomplete({\n\tafterAdd,\n\tafterChange,\n\tclearable,\n\tclearButtonAttributes,\n\tclearButtonClassName,\n\tclearIconAttributes,\n\tclearIconHeight,\n\tclearIconWidth,\n\tclearText,\n\tdisabled,\n\tid,\n\tinputClassName,\n\tlabelFn,\n\tlabelKey,\n\tmax,\n\tname,\n\toptionButtonAttributes,\n\toptionButtonClassName,\n\toptionListAttributes,\n\toptionListClassName,\n\toptionListItemAttributes,\n\toptionListItemClassName,\n\toptions,\n\tplaceholder,\n\treadOnly,\n\tremoveButtonAttributes,\n\tremoveButtonClassName,\n\tremoveIconAttributes,\n\tremoveIconHeight,\n\tremoveIconWidth,\n\tremoveText,\n\turl,\n\tvalueKey,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\tconst { formState } = useContext(FormContext);\n\tconst [filter, setFilter] = useState('');\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst [highlightedIndex, setHighlightedIndex] = useState(0);\n\tconst [optionValues, setOptionValues] = useState(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\n\tuseEffect(() => {\n\t\tif (url) {\n\t\t\tApi.get(url)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetOptionValues(normalizeOptions(response, labelKey, valueKey));\n\t\t\t\t});\n\t\t}\n\t\treturn () => {};\n\t}, [url]);\n\n\tuseEffect(() => {\n\t\tsetOptionValues(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\t\treturn () => {};\n\t}, [options]);\n\n\tlet selectedValues = get(formState.row, name);\n\tif (!selectedValues) {\n\t\tselectedValues = [];\n\t} else if (max === 1) {\n\t\tselectedValues = [selectedValues];\n\t}\n\n\tconst isSelected = (option) => (\n\t\tselectedValues.findIndex((value) => (value.value === option.value)) > -1\n\t);\n\n\tlet filteredOptions = [];\n\tif (filter) {\n\t\tfilteredOptions = filterByKey(optionValues, 'label', filter);\n\t\tfilteredOptions = filteredOptions.filter((option) => (!isSelected(option)));\n\t}\n\n\tconst focus = () => {\n\t\tsetTimeout(() => {\n\t\t\tconst elem = document.getElementById(id || name);\n\t\t\tif (elem) {\n\t\t\t\telem.focus();\n\t\t\t}\n\t\t});\n\t};\n\n\tconst addValue = (value) => {\n\t\tlet newValue;\n\t\tif (max === 1) {\n\t\t\tnewValue = value;\n\n\t\t\tselectedValues = [value];\n\t\t} else {\n\t\t\tnewValue = get(formState.row, name);\n\t\t\tif (newValue) {\n\t\t\t\tnewValue = [...newValue, value];\n\t\t\t} else {\n\t\t\t\tnewValue = [value];\n\t\t\t}\n\n\t\t\tselectedValues = [...selectedValues, value];\n\t\t}\n\n\t\tconst e = { target: { name } };\n\t\tformState.setValues(formState, e, name, newValue, afterChange);\n\n\t\tsetIsOpen(false);\n\t\tsetFilter('');\n\t\tif (max === 1) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst elem = document.querySelector(`[id=\"${id || name}-wrapper\"] .formosa-autocomplete__value__remove`);\n\t\t\t\tif (elem) {\n\t\t\t\t\telem.focus();\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (max === selectedValues.length) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst elem = document.querySelector(`[id=\"${id || name}-wrapper\"] .formosa-autocomplete__clear`);\n\t\t\t\tif (elem) {\n\t\t\t\t\telem.focus();\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tfocus();\n\t\t}\n\n\t\tif (afterAdd) {\n\t\t\tafterAdd();\n\t\t}\n\t};\n\n\tconst removeValue = (value) => {\n\t\tlet newValue = get(formState.row, name);\n\t\tif (max !== 1) {\n\t\t\tlet index = newValue.indexOf(value);\n\t\t\tif (index > -1) {\n\t\t\t\tnewValue.splice(index, 1);\n\t\t\t}\n\n\t\t\tconst newSelectedValues = [...selectedValues];\n\t\t\tindex = newSelectedValues.indexOf(value);\n\t\t\tif (index > -1) {\n\t\t\t\tnewSelectedValues.splice(index, 1);\n\t\t\t\tselectedValues = newSelectedValues;\n\t\t\t}\n\t\t} else {\n\t\t\tnewValue = null;\n\n\t\t\tselectedValues = [];\n\t\t}\n\n\t\tconst e = { target: { name } };\n\t\tformState.setValues(formState, e, name, newValue, afterChange);\n\n\t\tfocus();\n\t};\n\n\tconst onChange = (e) => {\n\t\tsetFilter(e.target.value);\n\t};\n\n\tconst onFocus = () => {\n\t\tsetHighlightedIndex(0);\n\t\tsetIsOpen(filter.length > 0);\n\t};\n\n\tconst onKeyDown = (e) => {\n\t\tconst filterValue = e.target.value;\n\t\tconst numValues = selectedValues ? selectedValues.length : 0;\n\t\tif (e.key === 'Enter' && filterValue && filteredOptions.length > 0) {\n\t\t\te.preventDefault();\n\t\t} else if (e.key === 'Backspace' && !filter && numValues > 0) {\n\t\t\tremoveValue(selectedValues[numValues - 1]);\n\t\t}\n\t};\n\n\tconst onKeyUp = (e) => {\n\t\tconst filterValue = e.target.value;\n\t\tif (e.key === 'Enter' && filterValue && filteredOptions.length > 0) {\n\t\t\te.preventDefault();\n\t\t\taddValue(filteredOptions[highlightedIndex]);\n\t\t} else if (e.key === 'ArrowDown') {\n\t\t\tif (highlightedIndex >= (filteredOptions.length - 1)) {\n\t\t\t\tsetHighlightedIndex(0);\n\t\t\t} else {\n\t\t\t\tsetHighlightedIndex(highlightedIndex + 1);\n\t\t\t}\n\t\t} else if (e.key === 'ArrowUp') {\n\t\t\tif (highlightedIndex > 0) {\n\t\t\t\tsetHighlightedIndex(highlightedIndex - 1);\n\t\t\t} else {\n\t\t\t\tsetHighlightedIndex(filteredOptions.length - 1);\n\t\t\t}\n\t\t} else if (e.key === 'Escape') {\n\t\t\tsetIsOpen(false);\n\t\t} else {\n\t\t\tsetHighlightedIndex(0);\n\t\t\tsetIsOpen(filterValue.length > 0);\n\t\t}\n\t};\n\n\tconst onClickOption = (e) => {\n\t\tlet val = e.target.getAttribute('data-value');\n\t\tif (e.target.getAttribute('data-json') === 'true') {\n\t\t\tval = JSON.parse(val);\n\t\t}\n\t\taddValue(val);\n\t};\n\n\tconst onClickRemoveOption = (e) => {\n\t\tlet button = e.target;\n\t\twhile (button && button.tagName.toUpperCase() !== 'BUTTON') {\n\t\t\tbutton = button.parentNode;\n\t\t}\n\t\tremoveValue(selectedValues[button.getAttribute('data-index')]);\n\t};\n\n\tconst clear = () => {\n\t\tconst e = { target: { name } };\n\t\tformState.setValues(formState, e, name, [], afterChange);\n\n\t\tsetFilter('');\n\t\tselectedValues = [];\n\t\tfocus();\n\t};\n\n\tconst showClear = clearable && max !== 1 && selectedValues.length > 0 && !disabled && !readOnly;\n\n\tlet className = ['formosa-autocomplete'];\n\tif (showClear) {\n\t\tclassName.push('formosa-autocomplete--clearable');\n\t}\n\tclassName = className.join(' ');\n\n\tconst canAddValues = !disabled && !readOnly && (max === null || selectedValues.length < max);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`${className} ${wrapperClassName}`.trim()}\n\t\t\tdata-value={JSON.stringify(get(formState.row, name))} /* For testing. */\n\t\t\tid={`${id || name}-wrapper`}\n\t\t\t{...wrapperAttributes}\n\t\t>\n\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t<ul className=\"formosa-autocomplete__values\">\n\t\t\t\t\t{selectedValues && selectedValues.map((value, index) => {\n\t\t\t\t\t\tlet val = value;\n\t\t\t\t\t\tlet isJson = false;\n\t\t\t\t\t\tif (typeof val === 'object') {\n\t\t\t\t\t\t\tval = JSON.stringify(val);\n\t\t\t\t\t\t\tisJson = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst option = optionValues.find((o) => (\n\t\t\t\t\t\t\tisJson ? JSON.stringify(o.value) === val : o.value === val\n\t\t\t\t\t\t));\n\n\t\t\t\t\t\tlet label = '';\n\t\t\t\t\t\tif (labelFn) {\n\t\t\t\t\t\t\tlabel = labelFn(option || value);\n\t\t\t\t\t\t} else if (option && Object.prototype.hasOwnProperty.call(option, 'label')) {\n\t\t\t\t\t\t\tlabel = option.label;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li className=\"formosa-autocomplete__value formosa-autocomplete__value--item\" key={val}>\n\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t{!disabled && !readOnly && (\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName={`formosa-autocomplete__value__remove ${removeButtonClassName}`.trim()}\n\t\t\t\t\t\t\t\t\t\tdata-index={index}\n\t\t\t\t\t\t\t\t\t\tonClick={onClickRemoveOption}\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t{...removeButtonAttributes}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<CloseIcon height={removeIconHeight} width={removeIconWidth} {...removeIconAttributes} />\n\t\t\t\t\t\t\t\t\t\t{removeText}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t\t{canAddValues && (\n\t\t\t\t\t\t<li className=\"formosa-autocomplete__value formosa-autocomplete__value--input\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t{...otherProps}\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tclassName={`formosa-field__input formosa-autocomplete__input ${inputClassName}`.trim()}\n\t\t\t\t\t\t\t\tid={id || name}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\tonFocus={onFocus}\n\t\t\t\t\t\t\t\tonKeyDown={onKeyDown}\n\t\t\t\t\t\t\t\tonKeyUp={onKeyUp}\n\t\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tvalue={filter}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t)}\n\t\t\t\t</ul>\n\n\t\t\t\t{isOpen && filteredOptions.length > 0 && (\n\t\t\t\t\t<ul className={`formosa-autocomplete__options ${optionListClassName}`.trim()} {...optionListAttributes}>\n\t\t\t\t\t\t{filteredOptions.map((option, index) => {\n\t\t\t\t\t\t\tlet optionClassName = ['formosa-autocomplete__option'];\n\t\t\t\t\t\t\tif (highlightedIndex === index) {\n\t\t\t\t\t\t\t\toptionClassName.push('formosa-autocomplete__option--highlighted');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\toptionClassName = optionClassName.join(' ');\n\n\t\t\t\t\t\t\tlet val = option.value;\n\t\t\t\t\t\t\tlet isJson = false;\n\t\t\t\t\t\t\tif (typeof val === 'object') {\n\t\t\t\t\t\t\t\tisJson = true;\n\t\t\t\t\t\t\t\tval = JSON.stringify(val);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\tclassName={`${optionClassName} ${optionListItemClassName}`.trim()}\n\t\t\t\t\t\t\t\t\tkey={val}\n\t\t\t\t\t\t\t\t\t{...optionListItemAttributes}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName={`formosa-autocomplete__option__button ${optionButtonClassName}`.trim()}\n\t\t\t\t\t\t\t\t\t\tdata-json={isJson}\n\t\t\t\t\t\t\t\t\t\tdata-value={val}\n\t\t\t\t\t\t\t\t\t\tonClick={onClickOption}\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t{...optionButtonAttributes}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{option.label}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</ul>\n\t\t\t\t)}\n\n\t\t\t\t{showClear && (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName={`formosa-autocomplete__clear ${clearButtonClassName}`.trim()}\n\t\t\t\t\t\t\tonClick={clear}\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t{...clearButtonAttributes}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<CloseIcon height={clearIconHeight} width={clearIconWidth} {...clearIconAttributes} />\n\t\t\t\t\t\t\t{clearText}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nAutocomplete.propTypes = {\n\tafterAdd: PropTypes.func,\n\tafterChange: PropTypes.func,\n\tclearable: PropTypes.bool,\n\tclearButtonAttributes: PropTypes.object,\n\tclearButtonClassName: PropTypes.string,\n\tclearIconAttributes: PropTypes.object,\n\tclearIconHeight: PropTypes.number,\n\tclearIconWidth: PropTypes.number,\n\tclearText: PropTypes.string,\n\tdisabled: PropTypes.bool,\n\tid: PropTypes.string,\n\tinputClassName: PropTypes.string,\n\tlabelFn: PropTypes.func,\n\tlabelKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tmax: PropTypes.number,\n\tname: PropTypes.string.isRequired,\n\toptionButtonAttributes: PropTypes.object,\n\toptionButtonClassName: PropTypes.string,\n\toptionListAttributes: PropTypes.object,\n\toptionListClassName: PropTypes.string,\n\toptionListItemAttributes: PropTypes.object,\n\toptionListItemClassName: PropTypes.string,\n\toptions: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]),\n\tplaceholder: PropTypes.string,\n\treadOnly: PropTypes.bool,\n\tremoveButtonAttributes: PropTypes.object,\n\tremoveButtonClassName: PropTypes.string,\n\tremoveIconAttributes: PropTypes.object,\n\tremoveIconHeight: PropTypes.number,\n\tremoveIconWidth: PropTypes.number,\n\tremoveText: PropTypes.string,\n\turl: PropTypes.string,\n\tvalueKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nAutocomplete.defaultProps = {\n\tafterAdd: null,\n\tafterChange: null,\n\tclearable: true,\n\tclearButtonAttributes: null,\n\tclearButtonClassName: '',\n\tclearIconAttributes: null,\n\tclearIconHeight: 12,\n\tclearIconWidth: 12,\n\tclearText: 'Clear',\n\tdisabled: false,\n\tid: '',\n\tinputClassName: '',\n\tlabelFn: null,\n\tlabelKey: 'name',\n\tmax: null,\n\toptionButtonAttributes: null,\n\toptionButtonClassName: '',\n\toptionListAttributes: null,\n\toptionListClassName: '',\n\toptionListItemAttributes: null,\n\toptionListItemClassName: '',\n\toptions: null,\n\tplaceholder: 'Search',\n\treadOnly: false,\n\tremoveButtonAttributes: null,\n\tremoveButtonClassName: '',\n\tremoveIconAttributes: null,\n\tremoveIconHeight: 12,\n\tremoveIconWidth: 12,\n\tremoveText: 'Remove',\n\turl: null,\n\tvalueKey: null,\n\twrapperAttributes: null,\n\twrapperClassName: '',\n};\n","import PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default function ConditionalWrapper({ children, className, condition }) {\n\tif (!condition) {\n\t\treturn children;\n\t}\n\n\treturn (\n\t\t<div className={className}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nConditionalWrapper.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n\tclassName: PropTypes.string,\n\tcondition: PropTypes.any,\n};\n\nConditionalWrapper.defaultProps = {\n\tclassName: '',\n\tcondition: false,\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport ConditionalWrapper from './ConditionalWrapper';\nimport FormContext from './FormContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\n\nexport default function Input({\n\tafterChange,\n\tclassName,\n\tid,\n\tname,\n\tsuffix,\n\ttype,\n\t...otherProps\n}) {\n\tconst { formState } = useContext(FormContext);\n\tconst onChange = (e) => {\n\t\tconst newValue = type === 'checkbox' ? e.target.checked : e.target.value;\n\t\tformState.setValues(formState, e, e.target.name, newValue, afterChange);\n\t};\n\n\tlet value = '';\n\tif (type !== 'file') {\n\t\tvalue = get(formState.row, name);\n\t\tif (value === null || value === undefined) {\n\t\t\tvalue = '';\n\t\t}\n\t}\n\n\tconst checked = type === 'checkbox' && value;\n\n\tconst props = {};\n\tif (checked) {\n\t\tprops.checked = checked;\n\t} else if (type === 'checkbox') {\n\t\tprops.checked = false;\n\t}\n\n\treturn (\n\t\t<ConditionalWrapper className=\"formosa-suffix-container\" condition={suffix}>\n\t\t\t<input\n\t\t\t\tclassName={`formosa-field__input ${className}`.trim()}\n\t\t\t\tid={id || name}\n\t\t\t\tname={name}\n\t\t\t\tonChange={onChange}\n\t\t\t\ttype={type}\n\t\t\t\tvalue={value}\n\t\t\t\t{...props}\n\t\t\t\t{...otherProps}\n\t\t\t/>\n\t\t\t{suffix && <span className=\"formosa-suffix\">{suffix}</span>}\n\t\t</ConditionalWrapper>\n\t);\n}\n\nInput.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\tid: PropTypes.string,\n\tname: PropTypes.string,\n\tsuffix: PropTypes.string,\n\ttype: PropTypes.string,\n};\n\nInput.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\tid: null,\n\tname: '',\n\tsuffix: '',\n\ttype: 'text',\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport { ReactComponent as CheckIcon } from '../../svg/check.svg';\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport Input from '../Input';\nimport PropTypes from 'prop-types';\n\nexport default function Checkbox({\n\tclassName,\n\ticonAttributes,\n\ticonClassName,\n\ticonHeight,\n\ticonWidth,\n\tid,\n\tname,\n\t...otherProps\n}) {\n\tconst { formState } = useContext(FormContext);\n\treturn (\n\t\t<>\n\t\t\t<Input\n\t\t\t\tclassName={`formosa-field__input--checkbox ${className}`.trim()}\n\t\t\t\tchecked={!!get(formState.row, name)}\n\t\t\t\tid={id || name}\n\t\t\t\tname={name}\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\t{...otherProps}\n\t\t\t/>\n\t\t\t<CheckIcon className={`formosa-icon--check ${iconClassName}`.trim()} height={iconHeight} width={iconWidth} {...iconAttributes} />\n\t\t</>\n\t);\n}\n\nCheckbox.propTypes = {\n\tclassName: PropTypes.string,\n\ticonAttributes: PropTypes.object,\n\ticonClassName: PropTypes.string,\n\ticonHeight: PropTypes.number,\n\ticonWidth: PropTypes.number,\n\tid: PropTypes.string,\n\tname: PropTypes.string.isRequired,\n};\n\nCheckbox.defaultProps = {\n\tclassName: '',\n\ticonAttributes: null,\n\ticonClassName: '',\n\ticonHeight: 16,\n\ticonWidth: 16,\n\tid: null,\n};\n","import React, { useContext, useEffect, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport Api from '../Helpers/Api';\nimport { ReactComponent as CheckIcon } from '../../svg/check.svg';\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport { normalizeOptions } from '../Helpers/Options';\nimport PropTypes from 'prop-types';\n\nexport default function CheckboxList({\n\tafterChange,\n\tclassName,\n\tdisabled,\n\ticonAttributes,\n\ticonClassName,\n\ticonHeight,\n\ticonWidth,\n\tlabelKey,\n\tlistAttributes,\n\tlistClassName,\n\tlistItemAttributes,\n\tlistItemClassName,\n\tname,\n\toptions,\n\treadOnly,\n\turl,\n\tvalueKey,\n}) {\n\tconst { formState } = useContext(FormContext);\n\tconst [optionValues, setOptionValues] = useState(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\n\tuseEffect(() => {\n\t\tif (url) {\n\t\t\tApi.get(url)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetOptionValues(normalizeOptions(response, labelKey, valueKey));\n\t\t\t\t});\n\t\t}\n\t\treturn () => {};\n\t}, [url]);\n\n\tuseEffect(() => {\n\t\tsetOptionValues(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\t\treturn () => {};\n\t}, [options]);\n\n\tlet selectedValues = get(formState.row, name) || [];\n\tselectedValues = selectedValues.map((value) => (typeof value === 'object' ? JSON.stringify(value) : value));\n\n\tconst onChange = (e) => {\n\t\tlet newValue = get(formState.row, name) || [];\n\t\tnewValue = [...newValue];\n\t\tlet val = e.target.value;\n\n\t\tif (e.target.checked) {\n\t\t\tif (e.target.getAttribute('data-json') === 'true') {\n\t\t\t\tval = JSON.parse(val);\n\t\t\t}\n\t\t\tnewValue.push(val);\n\t\t} else {\n\t\t\tconst index = selectedValues.indexOf(val);\n\t\t\tif (index > -1) {\n\t\t\t\tnewValue.splice(index, 1);\n\t\t\t}\n\t\t}\n\n\t\tformState.setValues(formState, e, name, newValue, afterChange);\n\t};\n\n\treturn (\n\t\t<ul className={`formosa-radio ${listClassName}`.trim()} {...listAttributes}>\n\t\t\t{optionValues.map(({ label, value }, index) => {\n\t\t\t\tlet val = value;\n\t\t\t\tlet isJson = false;\n\t\t\t\tif (typeof val === 'object') {\n\t\t\t\t\tisJson = true;\n\t\t\t\t\tval = JSON.stringify(val);\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\t<li className={`formosa-radio__item ${listItemClassName}`.trim()} key={val} {...listItemAttributes}>\n\t\t\t\t\t\t<div className=\"formosa-input-wrapper formosa-input-wrapper--checkbox\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName={`formosa-field__input formosa-field__input--checkbox ${className}`.trim()}\n\t\t\t\t\t\t\t\tchecked={selectedValues.includes(val)}\n\t\t\t\t\t\t\t\tdata-json={isJson}\n\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\tid={`${name}-${index}`}\n\t\t\t\t\t\t\t\tname={`${name}[]`}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\treadOnly={readOnly}\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\tvalue={val}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<CheckIcon\n\t\t\t\t\t\t\t\tclassName={`formosa-icon--check ${iconClassName}`.trim()}\n\t\t\t\t\t\t\t\theight={iconHeight}\n\t\t\t\t\t\t\t\twidth={iconWidth}\n\t\t\t\t\t\t\t\t{...iconAttributes}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label className=\"formosa-radio__label\" htmlFor={`${name}-${index}`}>\n\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t})}\n\t\t</ul>\n\t);\n}\n\nCheckboxList.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\tdisabled: PropTypes.bool,\n\ticonAttributes: PropTypes.object,\n\ticonClassName: PropTypes.string,\n\ticonHeight: PropTypes.number,\n\ticonWidth: PropTypes.number,\n\tlabelKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tlistAttributes: PropTypes.object,\n\tlistClassName: PropTypes.string,\n\tlistItemAttributes: PropTypes.object,\n\tlistItemClassName: PropTypes.string,\n\tname: PropTypes.string.isRequired,\n\toptions: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]),\n\treadOnly: PropTypes.bool,\n\turl: PropTypes.string,\n\tvalueKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n};\n\nCheckboxList.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\tdisabled: false,\n\ticonAttributes: null,\n\ticonClassName: '',\n\ticonHeight: 16,\n\ticonWidth: 16,\n\tlabelKey: 'name',\n\tlistAttributes: null,\n\tlistClassName: '',\n\tlistItemAttributes: null,\n\tlistItemClassName: '',\n\toptions: null,\n\treadOnly: false,\n\turl: null,\n\tvalueKey: null,\n};\n","const pad = (n, width, z = '0') => {\n\tn = n.toString();\n\treturn n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;\n};\n\nexport const stringToObject = (datetimeString, timeZone) => {\n\tconst output = {\n\t\tyear: '',\n\t\tmonth: '',\n\t\tday: '',\n\t\thour: '',\n\t\tminute: '',\n\t\tsecond: '',\n\t\tampm: 'am',\n\t};\n\n\tif (!datetimeString) {\n\t\treturn output;\n\t}\n\n\t// hour12 doesn't work in Chromium: https://github.com/microsoft/vscode/issues/117970\n\tlet value = new Date(`${datetimeString.replace(' ', 'T')}.000Z`);\n\tvalue = value.toLocaleString('en-CA', { hourCycle: 'h23', timeZone });\n\n\tconst date = value.substring(0, 10).split('-');\n\toutput.year = date[0];\n\toutput.month = parseInt(date[1], 10);\n\toutput.day = parseInt(date[2], 10);\n\n\tconst time = value.substring(12).split(':');\n\tconst hour = parseInt(time[0], 10);\n\tif (hour > 12) {\n\t\toutput.hour = hour - 12;\n\t} else if (hour === 0) {\n\t\toutput.hour = 12;\n\t} else {\n\t\toutput.hour = hour;\n\t}\n\toutput.minute = time[1];\n\toutput.second = time[2];\n\toutput.ampm = hour >= 12 ? 'pm' : 'am';\n\n\treturn output;\n};\n\nexport const objectToString = (datetimeObject) => {\n\tconst year = pad(datetimeObject.year, 4);\n\tconst month = pad(datetimeObject.month, 2);\n\tconst day = pad(datetimeObject.day, 2);\n\n\tlet hour = parseInt(datetimeObject.hour, 10);\n\tif (datetimeObject.ampm === 'pm' && hour < 12) {\n\t\thour += 12;\n\t} else if (datetimeObject.ampm === 'am' && hour === 12) {\n\t\thour = 0;\n\t}\n\tconst minute = pad(datetimeObject.minute, 2);\n\tconst second = pad(datetimeObject.second, 2);\n\n\ttry {\n\t\treturn new Date(year, month - 1, day, pad(hour, 2), minute, second).toISOString().replace('T', ' ').substring(0, 19);\n\t} catch {\n\t\treturn '';\n\t}\n};\n","import React, { useContext, useEffect, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport Api from '../Helpers/Api';\nimport { ReactComponent as CaretIcon } from '../../svg/caret.svg';\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport { normalizeOptions } from '../Helpers/Options';\nimport PropTypes from 'prop-types';\n\nexport default function Select({\n\tafterChange,\n\tclassName,\n\thideBlank,\n\ticonAttributes,\n\ticonClassName,\n\ticonHeight,\n\ticonWidth,\n\tid,\n\tname,\n\tlabelKey,\n\toptions,\n\turl,\n\tvalueKey,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\tconst { formState } = useContext(FormContext);\n\tconst [optionValues, setOptionValues] = useState(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\n\tuseEffect(() => {\n\t\tif (url) {\n\t\t\tApi.get(url)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetOptionValues(normalizeOptions(response, labelKey, valueKey));\n\t\t\t\t});\n\t\t}\n\t\treturn () => {};\n\t}, [url]);\n\n\tuseEffect(() => {\n\t\tsetOptionValues(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\t\treturn () => {};\n\t}, [options]);\n\n\tlet selectedValue = get(formState.row, name) || '';\n\tif (typeof selectedValue === 'object') {\n\t\tselectedValue = JSON.stringify(selectedValue);\n\t}\n\n\tconst onChange = (e) => {\n\t\tlet val = e.target.value;\n\t\tconst option = e.target.querySelector(`[value=\"${val.replace(/\"/g, '\\\\\"')}\"]`);\n\t\tif (option.getAttribute('data-json') === 'true') {\n\t\t\tval = JSON.parse(val);\n\t\t}\n\t\tformState.setValues(formState, e, name, val, afterChange);\n\t};\n\n\treturn (\n\t\t<div className={`formosa-select-wrapper ${wrapperClassName}`.trim()} {...wrapperAttributes}>\n\t\t\t<select\n\t\t\t\tclassName={`formosa-field__input formosa-field__input--select ${className}`.trim()}\n\t\t\t\tid={id || name}\n\t\t\t\tname={name}\n\t\t\t\tonChange={onChange}\n\t\t\t\tvalue={selectedValue}\n\t\t\t\t{...otherProps}\n\t\t\t>\n\t\t\t\t{!hideBlank && <option />}\n\t\t\t\t{optionValues.map(({ label, value }) => {\n\t\t\t\t\tlet val = value;\n\t\t\t\t\tlet isJson = false;\n\t\t\t\t\tif (typeof val === 'object') {\n\t\t\t\t\t\tisJson = true;\n\t\t\t\t\t\tval = JSON.stringify(val);\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<option data-json={isJson} key={val} value={val}>{label}</option>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</select>\n\t\t\t<CaretIcon className={`formosa-icon--caret ${iconClassName}`.trim()} height={iconHeight} width={iconWidth} {...iconAttributes} />\n\t\t</div>\n\t);\n}\n\nSelect.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\thideBlank: PropTypes.bool,\n\ticonAttributes: PropTypes.object,\n\ticonClassName: PropTypes.string,\n\ticonHeight: PropTypes.number,\n\ticonWidth: PropTypes.number,\n\tid: PropTypes.string,\n\tname: PropTypes.string,\n\tlabelKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\toptions: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]),\n\turl: PropTypes.string,\n\tvalueKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nSelect.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\thideBlank: false,\n\ticonAttributes: null,\n\ticonClassName: '',\n\ticonHeight: 16,\n\ticonWidth: 16,\n\tid: null,\n\tname: '',\n\tlabelKey: 'name',\n\toptions: null,\n\turl: null,\n\tvalueKey: null,\n\twrapperAttributes: null,\n\twrapperClassName: '',\n};\n","import { objectToString, stringToObject } from '../Helpers/Datetime';\nimport React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport Input from '../Input';\nimport PropTypes from 'prop-types';\nimport Select from './Select';\n\nexport default function Datetime({\n\tafterChange,\n\tampmAttributes,\n\tconvertToTimezone,\n\tdayAttributes,\n\tdisabled,\n\thourAttributes,\n\tminuteAttributes,\n\tmonthAttributes,\n\tname,\n\tsecondAttributes,\n\twrapperAttributes,\n\twrapperClassName,\n\tyearAttributes,\n}) {\n\tconst { formState } = useContext(FormContext);\n\tconst values = stringToObject(get(formState.row, name) || '', convertToTimezone);\n\tconst onChange = (e) => {\n\t\tconst key = e.target.getAttribute('data-datetime');\n\t\tconst newValues = {\n\t\t\t...values,\n\t\t\t[key]: e.target.value,\n\t\t};\n\n\t\tformState.setValues(formState, e, name, objectToString(newValues), afterChange);\n\t};\n\n\treturn (\n\t\t<div className={`formosa-datetime-wrapper ${wrapperClassName}`.trim()} {...wrapperAttributes}>\n\t\t\t<Select\n\t\t\t\tdata-datetime=\"month\"\n\t\t\t\tdisabled={disabled}\n\t\t\t\tid={`${name}-month`}\n\t\t\t\tonChange={onChange}\n\t\t\t\toptions={{\n\t\t\t\t\t1: 'January',\n\t\t\t\t\t2: 'February',\n\t\t\t\t\t3: 'March',\n\t\t\t\t\t4: 'April',\n\t\t\t\t\t5: 'May',\n\t\t\t\t\t6: 'June',\n\t\t\t\t\t7: 'July',\n\t\t\t\t\t8: 'August',\n\t\t\t\t\t9: 'September',\n\t\t\t\t\t10: 'October',\n\t\t\t\t\t11: 'November',\n\t\t\t\t\t12: 'December',\n\t\t\t\t}}\n\t\t\t\ttype=\"select\"\n\t\t\t\tvalue={values.month}\n\t\t\t\twrapperClassName=\"formosa-field__input--date formosa-field__input--month\"\n\t\t\t\t{...monthAttributes}\n\t\t\t/>\n\t\t\t<Input\n\t\t\t\tclassName=\"formosa-field__input--date formosa-field__input--day\"\n\t\t\t\tdata-datetime=\"day\"\n\t\t\t\tdisabled={disabled}\n\t\t\t\tid={`${name}-day`}\n\t\t\t\tinputMode=\"numeric\"\n\t\t\t\tmaxLength={2}\n\t\t\t\tonChange={onChange}\n\t\t\t\tplaceholder=\"DD\"\n\t\t\t\tsize={4}\n\t\t\t\tvalue={values.day}\n\t\t\t\t{...dayAttributes}\n\t\t\t/>\n\t\t\t<Input\n\t\t\t\tclassName=\"formosa-field__input--date formosa-field__input--year\"\n\t\t\t\tdata-datetime=\"year\"\n\t\t\t\tdisabled={disabled}\n\t\t\t\tid={`${name}-year`}\n\t\t\t\tinputMode=\"numeric\"\n\t\t\t\tmaxLength={4}\n\t\t\t\tonChange={onChange}\n\t\t\t\tplaceholder=\"YYYY\"\n\t\t\t\tsize={6}\n\t\t\t\tsuffix=\",\"\n\t\t\t\tvalue={values.year}\n\t\t\t\t{...yearAttributes}\n\t\t\t/>\n\n\t\t\t<Input\n\t\t\t\tclassName=\"formosa-field__input--date formosa-field__input--hour\"\n\t\t\t\tdata-datetime=\"hour\"\n\t\t\t\tdisabled={disabled}\n\t\t\t\tid={`${name}-hour`}\n\t\t\t\tinputMode=\"numeric\"\n\t\t\t\tmaxLength={2}\n\t\t\t\tonChange={onChange}\n\t\t\t\tplaceholder=\"hh\"\n\t\t\t\tsize={4}\n\t\t\t\tsuffix=\":\"\n\t\t\t\tvalue={values.hour}\n\t\t\t\t{...hourAttributes}\n\t\t\t/>\n\t\t\t<Input\n\t\t\t\tclassName=\"formosa-field__input--date formosa-field__input--minute\"\n\t\t\t\tdata-datetime=\"minute\"\n\t\t\t\tdisabled={disabled}\n\t\t\t\tid={`${name}-minute`}\n\t\t\t\tinputMode=\"numeric\"\n\t\t\t\tmaxLength={2}\n\t\t\t\tonChange={onChange}\n\t\t\t\tplaceholder=\"mm\"\n\t\t\t\tsize={4}\n\t\t\t\tsuffix=\":\"\n\t\t\t\tvalue={values.minute}\n\t\t\t\t{...minuteAttributes}\n\t\t\t/>\n\t\t\t<Input\n\t\t\t\tclassName=\"formosa-field__input--date formosa-field__input--second\"\n\t\t\t\tdata-datetime=\"second\"\n\t\t\t\tdisabled={disabled}\n\t\t\t\tid={`${name}-second`}\n\t\t\t\tinputMode=\"numeric\"\n\t\t\t\tmaxLength={2}\n\t\t\t\tonChange={onChange}\n\t\t\t\tplaceholder=\"ss\"\n\t\t\t\tsize={4}\n\t\t\t\tvalue={values.second}\n\t\t\t\t{...secondAttributes}\n\t\t\t/>\n\t\t\t<Select\n\t\t\t\tdata-datetime=\"ampm\"\n\t\t\t\tdisabled={disabled}\n\t\t\t\thideBlank\n\t\t\t\tid={`${name}-ampm`}\n\t\t\t\tonChange={onChange}\n\t\t\t\toptions={{\n\t\t\t\t\tam: 'am',\n\t\t\t\t\tpm: 'pm',\n\t\t\t\t}}\n\t\t\t\ttype=\"select\"\n\t\t\t\tvalue={values.ampm}\n\t\t\t\twrapperClassName=\"formosa-field__input--date formosa-field__input--ampm\"\n\t\t\t\t{...ampmAttributes}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nDatetime.propTypes = {\n\tafterChange: PropTypes.func,\n\tampmAttributes: PropTypes.object,\n\tconvertToTimezone: PropTypes.string,\n\tdayAttributes: PropTypes.object,\n\tdisabled: PropTypes.bool,\n\thourAttributes: PropTypes.object,\n\tminuteAttributes: PropTypes.object,\n\tmonthAttributes: PropTypes.object,\n\tname: PropTypes.string.isRequired,\n\tsecondAttributes: PropTypes.object,\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n\tyearAttributes: PropTypes.object,\n};\n\nDatetime.defaultProps = {\n\tafterChange: null,\n\tampmAttributes: null,\n\tconvertToTimezone: 'UTC',\n\tdayAttributes: null,\n\tdisabled: false,\n\thourAttributes: null,\n\tminuteAttributes: null,\n\tmonthAttributes: null,\n\tsecondAttributes: null,\n\twrapperAttributes: null,\n\twrapperClassName: '',\n\tyearAttributes: null,\n};\n","import React, { useContext, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport Input from '../Input';\nimport PropTypes from 'prop-types';\n\nexport default function File({\n\tafterChange,\n\tbuttonAttributes,\n\tbuttonClassName,\n\tclassName,\n\tdisabled,\n\temptyText,\n\tid,\n\timageAttributes,\n\timageClassName,\n\timageHeight,\n\timagePrefix,\n\timagePreview,\n\tinputWrapperAttributes,\n\tinputWrapperClassName,\n\tlinkAttributes,\n\tlinkClassName,\n\tlinkImage,\n\tmultiple,\n\tname,\n\treadOnly,\n\tremoveText,\n\trequired,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\tconst { formState } = useContext(FormContext);\n\tconst value = get(formState.row, name) || false;\n\tconst hasValue = !!value;\n\tconst [text, setText] = useState(value || emptyText);\n\tconst [srcs, setSrcs] = useState(value ? [`${imagePrefix}${value}`] : []);\n\n\tconst onChange = (e) => {\n\t\tconst files = e.target.files;\n\t\tconst numFiles = files.length;\n\t\tconst filenames = [];\n\t\tconst newSrcs = [];\n\t\tlet i;\n\n\t\tfor (i = 0; i < numFiles; i += 1) {\n\t\t\tfilenames.push(files.item(i).name);\n\t\t\tif (imagePreview) {\n\t\t\t\tnewSrcs.push(URL.createObjectURL(files.item(i)));\n\t\t\t}\n\t\t}\n\n\t\tif (imagePreview) {\n\t\t\tsetSrcs(newSrcs);\n\t\t}\n\n\t\tsetText(filenames.join(', '));\n\t\tformState.setValues(formState, e, name, true, afterChange, multiple ? files : files.item(0));\n\t};\n\n\tconst onRemove = (e) => {\n\t\tsetText(emptyText);\n\t\tformState.setValues(formState, e, name, '', afterChange, false);\n\t\tdocument.getElementById(id || name).focus();\n\t};\n\n\tlet prefixClassName = inputWrapperClassName;\n\tif (hasValue && !disabled && !readOnly) {\n\t\tprefixClassName += ' formosa-prefix';\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{(hasValue && imagePreview) && (\n\t\t\t\tsrcs.map((src) => {\n\t\t\t\t\tconst img = (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\tclassName={`formosa-file-image ${imageClassName}`.trim()}\n\t\t\t\t\t\t\theight={imageHeight}\n\t\t\t\t\t\t\tkey={src}\n\t\t\t\t\t\t\tsrc={src}\n\t\t\t\t\t\t\t{...imageAttributes}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\t\tif (linkImage) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<a className={`formosa-file-link ${linkClassName}`.trim()} href={src} key={src} {...linkAttributes}>\n\t\t\t\t\t\t\t\t{img}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn img;\n\t\t\t\t})\n\t\t\t)}\n\t\t\t<div className={`formosa-file-wrapper ${wrapperClassName}`.trim()} {...wrapperAttributes}>\n\t\t\t\t<div className={`formosa-file-input-wrapper ${prefixClassName}`.trim()} {...inputWrapperAttributes}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`formosa-file-name${text === emptyText ? ' formosa-file-name--empty' : ''}`}\n\t\t\t\t\t\tid={`${id || name}-name`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{text}\n\t\t\t\t\t</div>\n\t\t\t\t\t{!readOnly && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tclassName={`formosa-field__input--file ${className}`.trim()}\n\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\tid={id || name}\n\t\t\t\t\t\t\t\tmultiple={multiple}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t{...otherProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\t\t\ttype=\"hidden\"\n\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t{hasValue && !disabled && !readOnly && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`formosa-button formosa-button--remove-file formosa-postfix ${buttonClassName}`.trim()}\n\t\t\t\t\t\tid={`${id || name}-remove`}\n\t\t\t\t\t\tonClick={onRemove}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t{...buttonAttributes}\n\t\t\t\t\t>\n\t\t\t\t\t\t{removeText}\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nFile.propTypes = {\n\tafterChange: PropTypes.func,\n\tbuttonAttributes: PropTypes.object,\n\tbuttonClassName: PropTypes.string,\n\tclassName: PropTypes.string,\n\tdisabled: PropTypes.bool,\n\temptyText: PropTypes.string,\n\tid: PropTypes.string,\n\timageAttributes: PropTypes.object,\n\timageClassName: PropTypes.string,\n\timageHeight: PropTypes.number,\n\timagePrefix: PropTypes.string,\n\timagePreview: PropTypes.bool,\n\tinputWrapperAttributes: PropTypes.object,\n\tinputWrapperClassName: PropTypes.string,\n\tlinkAttributes: PropTypes.object,\n\tlinkClassName: PropTypes.string,\n\tlinkImage: PropTypes.bool,\n\tmultiple: PropTypes.bool,\n\tname: PropTypes.string,\n\treadOnly: PropTypes.bool,\n\tremoveText: PropTypes.string,\n\trequired: PropTypes.bool,\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nFile.defaultProps = {\n\tafterChange: null,\n\tbuttonAttributes: null,\n\tbuttonClassName: '',\n\tclassName: '',\n\tdisabled: false,\n\temptyText: 'No file selected.',\n\tid: '',\n\timageAttributes: null,\n\timageClassName: '',\n\timageHeight: 100,\n\timagePrefix: '',\n\timagePreview: false,\n\tinputWrapperAttributes: null,\n\tinputWrapperClassName: '',\n\tlinkAttributes: null,\n\tlinkClassName: '',\n\tlinkImage: false,\n\tmultiple: false,\n\tname: '',\n\treadOnly: false,\n\tremoveText: 'Remove',\n\trequired: false,\n\twrapperAttributes: null,\n\twrapperClassName: '',\n};\n","import React, { useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport Input from '../Input';\nimport PropTypes from 'prop-types';\n\nexport default function Password({\n\tbuttonAttributes,\n\tbuttonClassName,\n\tclassName,\n\thideText,\n\tshowText,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\tconst [tempType, setTempType] = useState('password');\n\tconst togglePassword = () => {\n\t\tif (tempType === 'password') {\n\t\t\tsetTempType('text');\n\t\t} else {\n\t\t\tsetTempType('password');\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={`formosa-password-wrapper ${wrapperClassName}`.trim()} {...wrapperAttributes}>\n\t\t\t<Input\n\t\t\t\tclassName={`formosa-field__input--password formosa-prefix ${className}`.trim()}\n\t\t\t\t{...otherProps}\n\t\t\t\ttype={tempType}\n\t\t\t/>\n\t\t\t<button\n\t\t\t\tclassName={`formosa-button formosa-button--toggle-password formosa-postfix ${buttonClassName}`.trim()}\n\t\t\t\tonClick={togglePassword}\n\t\t\t\ttype=\"button\"\n\t\t\t\t{...buttonAttributes}\n\t\t\t>\n\t\t\t\t{tempType === 'password' ? showText : hideText}\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n\nPassword.propTypes = {\n\tbuttonAttributes: PropTypes.object,\n\tbuttonClassName: PropTypes.string,\n\tclassName: PropTypes.string,\n\thideText: PropTypes.string,\n\tshowText: PropTypes.string,\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nPassword.defaultProps = {\n\tbuttonAttributes: null,\n\tbuttonClassName: '',\n\tclassName: '',\n\thideText: 'Hide',\n\tshowText: 'Show',\n\twrapperAttributes: null,\n\twrapperClassName: '',\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\n\nexport default function Radio({\n\tafterChange,\n\tclassName,\n\tlabel,\n\tlabelAttributes,\n\tlabelClassName,\n\tname,\n\tvalue,\n\t...otherProps\n}) {\n\tconst { formState } = useContext(FormContext);\n\tconst onChange = (e) => {\n\t\tformState.setValues(formState, e, e.target.name, e.target.value, afterChange);\n\t};\n\tconst currentValue = get(formState.row, name);\n\tconst checked = otherProps['data-json'] ? JSON.stringify(currentValue) === value : currentValue === value;\n\n\treturn (\n\t\t<label className={`formosa-radio__label${checked ? ' formosa-radio__label--checked' : ''} ${labelClassName}`.trim()} {...labelAttributes}>\n\t\t\t<input\n\t\t\t\tchecked={checked}\n\t\t\t\tclassName={`formosa-field__input formosa-radio__input ${className}`.trim()}\n\t\t\t\tname={name}\n\t\t\t\tonChange={onChange}\n\t\t\t\ttype=\"radio\"\n\t\t\t\tvalue={value}\n\t\t\t\t{...otherProps}\n\t\t\t/>\n\t\t\t{label}\n\t\t</label>\n\t);\n}\n\nRadio.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\tlabel: PropTypes.string,\n\tlabelAttributes: PropTypes.object,\n\tlabelClassName: PropTypes.string,\n\tname: PropTypes.string,\n\tvalue: PropTypes.string,\n};\n\nRadio.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\tlabel: '',\n\tlabelAttributes: null,\n\tlabelClassName: '',\n\tname: '',\n\tvalue: '',\n};\n","import React, { useContext, useEffect, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport Api from '../Helpers/Api';\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport { normalizeOptions } from '../Helpers/Options';\nimport PropTypes from 'prop-types';\nimport Radio from './Radio';\n\nexport default function RadioList({\n\tafterChange,\n\tlabelKey,\n\tlistAttributes,\n\tlistClassName,\n\tlistItemAttributes,\n\tlistItemClassName,\n\tname,\n\toptions,\n\trequired,\n\turl,\n\tvalueKey,\n\t...otherProps\n}) {\n\tconst { formState } = useContext(FormContext);\n\tconst [optionValues, setOptionValues] = useState(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\n\tuseEffect(() => {\n\t\tif (url) {\n\t\t\tApi.get(url)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetOptionValues(normalizeOptions(response, labelKey, valueKey));\n\t\t\t\t});\n\t\t}\n\t\treturn () => {};\n\t}, [url]);\n\n\tuseEffect(() => {\n\t\tsetOptionValues(options ? normalizeOptions(options, labelKey, valueKey) : []);\n\t\treturn () => {};\n\t}, [options]);\n\n\tlet selectedValue = get(formState.row, name);\n\tif (typeof selectedValue === 'object') {\n\t\tselectedValue = JSON.stringify(selectedValue);\n\t}\n\n\tconst onChange = (e) => {\n\t\tlet val = e.target.value;\n\t\tif (e.target.getAttribute('data-json') === 'true') {\n\t\t\tval = JSON.parse(val);\n\t\t}\n\t\tformState.setValues(formState, e, name, val, afterChange);\n\t};\n\n\treturn (\n\t\t<ul className={`formosa-radio ${listClassName}`.trim()} {...listAttributes}>\n\t\t\t{optionValues.map(({ label, value }) => {\n\t\t\t\tlet val = value;\n\t\t\t\tlet isJson = false;\n\t\t\t\tif (typeof val === 'object') {\n\t\t\t\t\tisJson = true;\n\t\t\t\t\tval = JSON.stringify(val);\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\t<li className={`formosa-radio__item ${listItemClassName}`.trim()} key={val} {...listItemAttributes}>\n\t\t\t\t\t\t<Radio\n\t\t\t\t\t\t\tchecked={selectedValue === val}\n\t\t\t\t\t\t\tdata-json={isJson}\n\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\t\tvalue={val}\n\t\t\t\t\t\t\t{...otherProps}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t})}\n\t\t</ul>\n\t);\n}\n\nRadioList.propTypes = {\n\tafterChange: PropTypes.func,\n\tlabelKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\tlistAttributes: PropTypes.object,\n\tlistClassName: PropTypes.string,\n\tlistItemAttributes: PropTypes.object,\n\tlistItemClassName: PropTypes.string,\n\tname: PropTypes.string.isRequired,\n\toptions: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]),\n\trequired: PropTypes.bool,\n\turl: PropTypes.string,\n\tvalueKey: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n};\n\nRadioList.defaultProps = {\n\tafterChange: null,\n\tlabelKey: 'name',\n\tlistAttributes: null,\n\tlistClassName: '',\n\tlistItemAttributes: null,\n\tlistItemClassName: '',\n\toptions: null,\n\trequired: false,\n\turl: null,\n\tvalueKey: null,\n};\n","import Input from '../Input';\nimport PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\nimport { ReactComponent as SearchIcon } from '../../svg/search.svg';\n\nexport default function Search({\n\tclassName,\n\ticonAttributes,\n\ticonClassName,\n\ticonHeight,\n\ticonWidth,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\treturn (\n\t\t<div className={`formosa-search-wrapper ${wrapperClassName}`.trim()} {...wrapperAttributes}>\n\t\t\t<Input\n\t\t\t\tclassName={`formosa-field__input--search ${className}`.trim()}\n\t\t\t\t{...otherProps}\n\t\t\t/>\n\t\t\t<SearchIcon className={`formosa-icon--search ${iconClassName}`.trim()} height={iconHeight} width={iconWidth} {...iconAttributes} />\n\t\t</div>\n\t);\n}\n\nSearch.propTypes = {\n\tclassName: PropTypes.string,\n\ticonAttributes: PropTypes.object,\n\ticonClassName: PropTypes.string,\n\ticonHeight: PropTypes.number,\n\ticonWidth: PropTypes.number,\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nSearch.defaultProps = {\n\tclassName: '',\n\ticonAttributes: null,\n\ticonClassName: '',\n\ticonHeight: 16,\n\ticonWidth: 16,\n\twrapperAttributes: null,\n\twrapperClassName: '',\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport PropTypes from 'prop-types';\n\nexport default function Textarea({\n\tafterChange,\n\tclassName,\n\tid,\n\tname,\n\t...otherProps\n}) {\n\tconst { formState } = useContext(FormContext);\n\tconst onChange = (e) => {\n\t\tformState.setValues(formState, e, e.target.name, e.target.value, afterChange);\n\t};\n\n\treturn (\n\t\t<textarea\n\t\t\tclassName={`formosa-field__input formosa-field__input--textarea ${className}`.trim()}\n\t\t\tid={id || name}\n\t\t\tname={name}\n\t\t\tonChange={onChange}\n\t\t\tvalue={get(formState.row, name) || ''}\n\t\t\t{...otherProps}\n\t\t/>\n\t);\n}\n\nTextarea.propTypes = {\n\tafterChange: PropTypes.func,\n\tclassName: PropTypes.string,\n\tid: PropTypes.string,\n\tname: PropTypes.string.isRequired,\n};\n\nTextarea.defaultProps = {\n\tafterChange: null,\n\tclassName: '',\n\tid: null,\n};\n","import Autocomplete from './Input/Autocomplete';\nimport Checkbox from './Input/Checkbox';\nimport CheckboxList from './Input/CheckboxList';\nimport Datetime from './Input/Datetime';\nimport File from './Input/File';\nimport Input from './Input';\nimport Password from './Input/Password';\nimport RadioList from './Input/RadioList';\nimport Search from './Input/Search';\nimport Select from './Input/Select';\nimport Textarea from './Input/Textarea';\n\nexport default (type, component) => {\n\tif (component) {\n\t\treturn component;\n\t}\n\tif (type === 'select') {\n\t\treturn Select;\n\t}\n\tif (type === 'textarea') {\n\t\treturn Textarea;\n\t}\n\tif (type === 'radio') {\n\t\treturn RadioList;\n\t}\n\tif (type === 'checkbox') {\n\t\treturn Checkbox;\n\t}\n\tif (type === 'password') {\n\t\treturn Password;\n\t}\n\tif (type === 'datetime') {\n\t\treturn Datetime;\n\t}\n\tif (type === 'search') {\n\t\treturn Search;\n\t}\n\tif (type === 'autocomplete') {\n\t\treturn Autocomplete;\n\t}\n\tif (type === 'file') {\n\t\treturn File;\n\t}\n\tif (type === 'checkbox-list') {\n\t\treturn CheckboxList;\n\t}\n\treturn Input;\n};\n","export default (oldDirty, name) => {\n\tconst newDirty = [...oldDirty];\n\tif (!newDirty.includes(name)) {\n\t\tnewDirty.push(name);\n\t}\n\treturn newDirty;\n};\n","import React, { useContext, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormContext from '../FormContext';\nimport get from 'get-value';\nimport getInputElement from '../FieldInput';\nimport getNewDirty from '../Helpers/FormState';\nimport PropTypes from 'prop-types';\nimport set from 'set-value';\n\nexport default function HasMany({\n\tattributes,\n\tbuttonClassName,\n\tname,\n\trecordType,\n\tremovable,\n}) {\n\tconst { formState, setFormState } = useContext(FormContext);\n\tconst [tempId, setTempId] = useState(1);\n\tconst values = get(formState.row, name) || [];\n\n\tconst onAdd = () => {\n\t\tconst newValue = get(formState.row, `_new.${name}`);\n\t\tconst hasNewValue = newValue && Object.keys(newValue).length > 0;\n\t\tif (!hasNewValue) {\n\t\t\treturn;\n\t\t}\n\n\t\tnewValue.id = `temp-${tempId}`;\n\t\tnewValue.type = recordType;\n\t\tsetTempId(tempId + 1);\n\n\t\tconst newRow = { ...formState.row };\n\t\tconst newValues = get(newRow, name) || [];\n\t\tnewValues.push(newValue);\n\n\t\tset(newRow, name, newValues);\n\t\tset(newRow, `_new.${name}`, {});\n\n\t\tsetFormState({\n\t\t\t...formState,\n\t\t\tdirty: getNewDirty(formState.dirty, name),\n\t\t\tdirtyIncluded: getNewDirty(formState.dirtyIncluded, `${newValue.type}.${newValue.id}`),\n\t\t\trow: newRow,\n\t\t});\n\n\t\tdocument.getElementById(`_new.${name}.${attributes[0].name}`).focus();\n\t};\n\n\tconst onKeyDown = (e) => {\n\t\tif (e.key !== 'Enter') {\n\t\t\treturn;\n\t\t}\n\t\tconst newValue = get(formState.row, `_new.${name}`);\n\t\tconst hasNewValue = newValue && Object.keys(newValue).length > 0;\n\t\tif (hasNewValue) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tonAdd();\n\t\t}\n\t};\n\n\tconst onRemove = (e) => {\n\t\tconst i = e.target.getAttribute('data-index');\n\t\tif (i < 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst newRow = { ...formState.row };\n\t\tconst newValues = get(newRow, name);\n\t\tnewValues.splice(i, 1);\n\n\t\tset(newRow, name, newValues);\n\n\t\tsetFormState({\n\t\t\t...formState,\n\t\t\tdirty: getNewDirty(formState.dirty, name),\n\t\t\trow: newRow,\n\t\t});\n\t};\n\n\tconst afterChange = (e) => {\n\t\tsetFormState({\n\t\t\t...formState,\n\t\t\tdirty: getNewDirty(formState.dirty, name),\n\t\t\tdirtyIncluded: getNewDirty(formState.dirtyIncluded, e.target.getAttribute('data-unique-name')),\n\t\t});\n\t};\n\n\tconst visibleAttributes = attributes.filter((attribute) => (attribute.type !== 'hidden'));\n\tconst hiddenAttributes = attributes.filter((attribute) => (attribute.type === 'hidden'));\n\thiddenAttributes.push({\n\t\tname: 'id',\n\t\ttype: 'hidden',\n\t});\n\thiddenAttributes.push({\n\t\tname: 'type',\n\t\ttype: 'hidden',\n\t});\n\tconst showHeader = visibleAttributes.some((attribute) => (attribute.label));\n\n\treturn (\n\t\t<table className=\"formosa-has-many\">\n\t\t\t{showHeader && (\n\t\t\t\t<thead className=\"formosa-has-many__head\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t{visibleAttributes.map((attribute) => (\n\t\t\t\t\t\t\t<th key={attribute.name}>{attribute.label}</th>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t<th />\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t)}\n\t\t\t<tbody className=\"formosa-has-many__body\">\n\t\t\t\t{values.map((value, i) => {\n\t\t\t\t\tlet isRemovable = typeof removable === 'boolean' && removable;\n\t\t\t\t\tif (typeof removable === 'function') {\n\t\t\t\t\t\tisRemovable = removable(value);\n\t\t\t\t\t}\n\t\t\t\t\tconst rowKey = `included.${value.type}.${value.id}`;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<tr className=\"formosa-has-many__row\" key={rowKey}>\n\t\t\t\t\t\t\t{visibleAttributes.map((attribute) => {\n\t\t\t\t\t\t\t\tconst Component = getInputElement(attribute.type, attribute.component);\n\t\t\t\t\t\t\t\tconst fieldKey = `${rowKey}.${attribute.name}`;\n\t\t\t\t\t\t\t\tconst hasError = Object.prototype.hasOwnProperty.call(formState.errors, fieldKey);\n\t\t\t\t\t\t\t\tconst className = ['formosa-has-many__column'];\n\t\t\t\t\t\t\t\tif (hasError) {\n\t\t\t\t\t\t\t\t\tclassName.push('formosa-field--has-error');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<td className={className.join(' ')} key={attribute.name}>\n\t\t\t\t\t\t\t\t\t\t<Component\n\t\t\t\t\t\t\t\t\t\t\t{...attribute}\n\t\t\t\t\t\t\t\t\t\t\tafterChange={afterChange}\n\t\t\t\t\t\t\t\t\t\t\tdata-unique-name={`${name}.${value.id}.${attribute.name}`}\n\t\t\t\t\t\t\t\t\t\t\tname={`${name}.${i}.${attribute.name}`}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{hasError && <div className=\"formosa-field__error\">{formState.errors[rowKey].join((<br />))}</div>}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t<td className=\"formosa-has-many__column formosa-has-many__column--button\">\n\t\t\t\t\t\t\t\t{hiddenAttributes.map((attribute) => {\n\t\t\t\t\t\t\t\t\tconst Component = getInputElement(attribute.type, attribute.component);\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Component\n\t\t\t\t\t\t\t\t\t\t\t{...attribute}\n\t\t\t\t\t\t\t\t\t\t\tkey={attribute.name}\n\t\t\t\t\t\t\t\t\t\t\tname={`${name}.${i}.${attribute.name}`}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={`formosa-button formosa-button--remove-has-many formosa-has-many__button ${buttonClassName}`.trim()}\n\t\t\t\t\t\t\t\t\tdata-index={i}\n\t\t\t\t\t\t\t\t\tdisabled={!isRemovable}\n\t\t\t\t\t\t\t\t\tonClick={onRemove}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</tbody>\n\t\t\t<tfoot className=\"formosa-has-many__foot\">\n\t\t\t\t<tr className=\"formosa-has-many__row formosa-has-many__row--new\">\n\t\t\t\t\t{visibleAttributes.map((attribute) => {\n\t\t\t\t\t\tconst Component = getInputElement(attribute.type, attribute.component);\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<td className=\"formosa-has-many__column\" key={attribute.name}>\n\t\t\t\t\t\t\t\t<Component\n\t\t\t\t\t\t\t\t\t{...attribute}\n\t\t\t\t\t\t\t\t\tname={`_new.${name}.${attribute.name}`}\n\t\t\t\t\t\t\t\t\tonKeyDown={onKeyDown}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t\t<td className=\"formosa-has-many__column formosa-has-many__column--button\">\n\t\t\t\t\t\t{hiddenAttributes.map((attribute) => {\n\t\t\t\t\t\t\tconst Component = getInputElement(attribute.type, attribute.component);\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Component\n\t\t\t\t\t\t\t\t\t{...attribute}\n\t\t\t\t\t\t\t\t\tkey={attribute.name}\n\t\t\t\t\t\t\t\t\tname={`_new.${name}.${attribute.name}`}\n\t\t\t\t\t\t\t\t\tonKeyDown={onKeyDown}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName={`formosa-button formosa-button--add-has-many formosa-has-many__button ${buttonClassName}`.trim()}\n\t\t\t\t\t\t\tonClick={onAdd}\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdd\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</tfoot>\n\t\t</table>\n\t);\n}\n\nHasMany.propTypes = {\n\tattributes: PropTypes.array,\n\tbuttonClassName: PropTypes.string,\n\tname: PropTypes.string.isRequired,\n\trecordType: PropTypes.string.isRequired,\n\tremovable: PropTypes.oneOfType([\n\t\tPropTypes.bool,\n\t\tPropTypes.func,\n\t]),\n};\n\nHasMany.defaultProps = {\n\tattributes: [],\n\tbuttonClassName: '',\n\tremovable: true,\n};\n","import PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default function Label({\n\tclassName,\n\thtmlFor,\n\tlabel,\n\tnote,\n\trequired,\n\ttype,\n\t...otherProps\n}) {\n\tlet labelClassName = 'formosa-label';\n\tif (required) {\n\t\tlabelClassName += ' formosa-label--required';\n\t}\n\n\tlet wrapperClassName = 'formosa-label-wrapper';\n\tif (type === 'checkbox') {\n\t\twrapperClassName += ' formosa-label-wrapper--checkbox';\n\t}\n\n\tconst props = {};\n\tif (htmlFor && type !== 'has-many') {\n\t\tprops.htmlFor = htmlFor;\n\t}\n\n\treturn (\n\t\t<div className={wrapperClassName}>\n\t\t\t<label className={`${labelClassName} ${className}`.trim()} {...props} {...otherProps}>{label}</label>\n\t\t\t{note && <span className=\"formosa-label__note\">{note}</span>}\n\t\t</div>\n\t);\n}\n\nLabel.propTypes = {\n\tclassName: PropTypes.string,\n\thtmlFor: PropTypes.string,\n\tlabel: PropTypes.string,\n\tnote: PropTypes.string,\n\trequired: PropTypes.bool,\n\ttype: PropTypes.string,\n};\n\nLabel.defaultProps = {\n\tclassName: '',\n\thtmlFor: '',\n\tlabel: '',\n\tnote: '',\n\trequired: false,\n\ttype: '',\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport Error from './Error';\nimport FormContext from './FormContext';\nimport get from 'get-value';\nimport getInputElement from './FieldInput';\nimport HasMany from './Input/HasMany';\nimport Label from './Label';\nimport PropTypes from 'prop-types';\n\nexport default function Field({\n\tcomponent,\n\tdisabled,\n\tid,\n\tinputWrapperAttributes,\n\tlabel,\n\tlabelAttributes,\n\tlabelClassName,\n\tlabelNote,\n\tlabelPosition,\n\tname,\n\tnote,\n\tprefix,\n\tpostfix,\n\treadOnly,\n\trequired,\n\tsuffix,\n\ttype,\n\twrapperAttributes,\n\twrapperClassName,\n\t...otherProps\n}) {\n\tconst { formState } = useContext(FormContext);\n\tconst inputProps = { ...otherProps };\n\tif (id) {\n\t\tinputProps.id = id;\n\t}\n\tif (name) {\n\t\tinputProps.name = name;\n\t}\n\tif (disabled) {\n\t\tinputProps.disabled = disabled;\n\t}\n\tif (readOnly) {\n\t\tinputProps.readOnly = readOnly;\n\t}\n\tif (required) {\n\t\tinputProps.required = required;\n\t}\n\tif (suffix) {\n\t\tinputProps.suffix = suffix;\n\t}\n\tif (type) {\n\t\tinputProps.type = type;\n\t\tif (readOnly && type === 'number') {\n\t\t\tinputProps.type = 'text';\n\t\t}\n\t}\n\tlet InputComponent = getInputElement(type, component);\n\tif (type === 'has-many') {\n\t\t// This prevents a dependency cycle.\n\t\tInputComponent = HasMany;\n\t}\n\tconst input = (\n\t\t<InputComponent {...inputProps} />\n\t);\n\n\tif (type === 'hidden') {\n\t\treturn input;\n\t}\n\n\tconst htmlFor = id || name;\n\n\tconst labelComponent = (\n\t\t<Label\n\t\t\tclassName={labelClassName}\n\t\t\thtmlFor={type === 'datetime' ? `${htmlFor}-month` : htmlFor}\n\t\t\tlabel={label}\n\t\t\tnote={labelNote}\n\t\t\trequired={required}\n\t\t\ttype={type}\n\t\t\t{...labelAttributes}\n\t\t/>\n\t);\n\n\tconst hasError = Object.prototype.hasOwnProperty.call(formState.errors, name);\n\n\tconst cleanName = name.replace(/[^a-z0-9_-]/gi, '');\n\tconst wrapperClassNameList = ['formosa-field', `formosa-field--${cleanName}`];\n\tif (wrapperClassName) {\n\t\twrapperClassNameList.push(wrapperClassName);\n\t}\n\tif (hasError) {\n\t\twrapperClassNameList.push('formosa-field--has-error');\n\t}\n\tif (disabled) {\n\t\twrapperClassNameList.push('formosa-field--disabled');\n\t}\n\tif (readOnly) {\n\t\twrapperClassNameList.push('formosa-field--read-only');\n\t}\n\tif (prefix) {\n\t\twrapperClassNameList.push('formosa-field--has-prefix');\n\t}\n\tif (postfix) {\n\t\twrapperClassNameList.push('formosa-field--has-postfix');\n\t}\n\tif (labelPosition === 'after') {\n\t\twrapperClassNameList.push('formosa-field--label-after');\n\t}\n\n\tconst inputWrapperClassNameList = ['formosa-input-wrapper', `formosa-input-wrapper--${type}`];\n\tif (suffix) {\n\t\tinputWrapperClassNameList.push('formosa-field--has-suffix');\n\t}\n\n\treturn (\n\t\t<div className={wrapperClassNameList.join(' ')} {...wrapperAttributes}>\n\t\t\t{label && labelPosition === 'before' && labelComponent}\n\t\t\t{label && labelPosition === 'after' && <div className=\"formosa-label-wrapper\" />}\n\t\t\t<div className={inputWrapperClassNameList.join(' ')} {...inputWrapperAttributes}>\n\t\t\t\t{prefix}\n\t\t\t\t{input}\n\t\t\t\t{label && labelPosition === 'after' && labelComponent}\n\t\t\t\t{note && (\n\t\t\t\t\t<div className=\"formosa-field__note\">\n\t\t\t\t\t\t{typeof note === 'function' ? note(get(formState.row, name), formState.row) : note}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{postfix}\n\t\t\t\t<Error id={id} name={name} />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nField.propTypes = {\n\tcomponent: PropTypes.func,\n\tdisabled: PropTypes.bool,\n\tid: PropTypes.string,\n\tinputWrapperAttributes: PropTypes.object,\n\tlabel: PropTypes.string,\n\tlabelAttributes: PropTypes.object,\n\tlabelClassName: PropTypes.string,\n\tlabelNote: PropTypes.string,\n\tlabelPosition: PropTypes.string,\n\tname: PropTypes.string.isRequired,\n\tnote: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\tprefix: PropTypes.node,\n\tpostfix: PropTypes.node,\n\treadOnly: PropTypes.bool,\n\trequired: PropTypes.bool,\n\tsuffix: PropTypes.string,\n\ttype: PropTypes.string,\n\twrapperAttributes: PropTypes.object,\n\twrapperClassName: PropTypes.string,\n};\n\nField.defaultProps = {\n\tcomponent: null,\n\tdisabled: false,\n\tid: null,\n\tinputWrapperAttributes: {},\n\tlabel: '',\n\tlabelAttributes: {},\n\tlabelClassName: '',\n\tlabelNote: '',\n\tlabelPosition: 'before',\n\tnote: '',\n\tprefix: null,\n\tpostfix: null,\n\treadOnly: false,\n\trequired: false,\n\tsuffix: '',\n\ttype: 'text',\n\twrapperAttributes: {},\n\twrapperClassName: '',\n};\n","import React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default React.createContext(\n\t{\n\t\taddToast: null,\n\t\tremoveToast: null,\n\t\ttoasts: {},\n\t}\n);\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormContext from './FormContext';\n\nexport default function Message() {\n\tconst { formState } = useContext(FormContext);\n\tconst hasErrors = Object.prototype.hasOwnProperty.call(formState.errors, '');\n\n\treturn (\n\t\t<>\n\t\t\t{hasErrors && (<p className=\"formosa-message formosa-message--error\">{formState.errors[''].join(' ')}</p>)}\n\t\t\t{formState.message && (<p className=\"formosa-message formosa-message--success\">{formState.message}</p>)}\n\t\t</>\n\t);\n}\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport Api from './Helpers/Api';\nimport FormContext from './FormContext';\nimport FormosaContext from './FormosaContext';\nimport { getBody } from './Helpers/JsonApi';\nimport Message from './Message';\nimport PropTypes from 'prop-types';\n\nexport default function FormInner({\n\tafterNoSubmit,\n\tafterSubmit,\n\tbeforeSubmit,\n\tchildren,\n\tclearOnSubmit,\n\tdefaultRow,\n\tfilterBody,\n\tfilterValues,\n\thtmlId,\n\tid,\n\tmethod,\n\tparams,\n\tpath,\n\tpreventEmptyRequest,\n\trelationshipNames,\n\tshowMessage,\n\tsuccessMessageText,\n\tsuccessToastText,\n\t...otherProps\n}) {\n\tconst { formState, setFormState } = useContext(FormContext);\n\tconst { formosaState } = useContext(FormosaContext);\n\n\tconst submitApiRequest = (e) => {\n\t\te.preventDefault();\n\n\t\tif (preventEmptyRequest && formState.dirty.length <= 0) {\n\t\t\tformosaState.addToast('No changes to save.');\n\t\t\tif (afterNoSubmit) {\n\t\t\t\tafterNoSubmit();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (beforeSubmit && !beforeSubmit(e)) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet url = path;\n\t\tif (id) {\n\t\t\turl = `${path}/${id}`;\n\t\t}\n\t\tif (params) {\n\t\t\turl += `?${params}`;\n\t\t}\n\n\t\tconst body = getBody(\n\t\t\tmethod,\n\t\t\tpath,\n\t\t\tid,\n\t\t\tformState,\n\t\t\trelationshipNames,\n\t\t\tfilterBody,\n\t\t\tfilterValues\n\t\t);\n\n\t\tsetFormState({\n\t\t\t...formState,\n\t\t\terrors: {},\n\t\t\tmessage: '',\n\t\t});\n\n\t\tApi.request(method, url, body)\n\t\t\t.then((response) => {\n\t\t\t\tif (!response) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst newState = {\n\t\t\t\t\t...formState,\n\t\t\t\t\tdirty: [],\n\t\t\t\t\tdirtyIncluded: [],\n\t\t\t\t\terrors: {},\n\t\t\t\t\tmessage: successMessageText,\n\t\t\t\t};\n\t\t\t\tif (clearOnSubmit) {\n\t\t\t\t\tnewState.row = defaultRow;\n\t\t\t\t}\n\t\t\t\tsetFormState(newState);\n\n\t\t\t\tif (successToastText) {\n\t\t\t\t\tformosaState.addToast(successToastText, 'success');\n\t\t\t\t}\n\t\t\t\tif (afterSubmit) {\n\t\t\t\t\tafterSubmit(response);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((response) => {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(response, 'errors')) {\n\t\t\t\t\tformosaState.addToast('Error.', 'error');\n\t\t\t\t} else if (Object.prototype.hasOwnProperty.call(response, 'message')) {\n\t\t\t\t\tformosaState.addToast(response.message, 'error', 10000);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tformosaState.addToast('Server error.', 'error');\n\t\t\t\t\tthrow response;\n\t\t\t\t}\n\n\t\t\t\tconst errors = {};\n\t\t\t\tlet key;\n\t\t\t\tresponse.errors.forEach((error) => {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(error, 'source')) {\n\t\t\t\t\t\tkey = error.source.pointer.replace('/data/attributes/', '');\n\t\t\t\t\t\tkey = key.replace('/data/meta/', 'meta.');\n\t\t\t\t\t\tif (key.startsWith('/included/')) {\n\t\t\t\t\t\t\tconst i = key.replace(/^\\/included\\/(\\d+)\\/.+$/g, '$1');\n\t\t\t\t\t\t\tconst includedRecord = body.included[parseInt(i, 10)];\n\t\t\t\t\t\t\tkey = key.replace(/^\\/included\\/(\\d+)\\//g, `included.${includedRecord.type}.${includedRecord.id}.`);\n\t\t\t\t\t\t\tkey = key.replace(/\\//g, '.');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!document.querySelector(`[data-name=\"${key}\"].formosa-field__error`)) {\n\t\t\t\t\t\t\tkey = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tkey = '';\n\t\t\t\t\t}\n\t\t\t\t\tif (!Object.prototype.hasOwnProperty.call(errors, key)) {\n\t\t\t\t\t\terrors[key] = [];\n\t\t\t\t\t}\n\t\t\t\t\terrors[key].push(error.title);\n\t\t\t\t});\n\t\t\t\tsetFormState({\n\t\t\t\t\t...formState,\n\t\t\t\t\terrors,\n\t\t\t\t\tmessage: '',\n\t\t\t\t});\n\t\t\t});\n\t};\n\tif (method && path && !Object.prototype.hasOwnProperty.call(otherProps, 'onSubmit')) {\n\t\totherProps.onSubmit = submitApiRequest;\n\t}\n\tif (htmlId) {\n\t\totherProps.id = htmlId;\n\t}\n\n\treturn (\n\t\t<form {...otherProps}>\n\t\t\t{showMessage && <Message />}\n\t\t\t{children}\n\t\t</form>\n\t);\n}\n\nFormInner.propTypes = {\n\tafterNoSubmit: PropTypes.func,\n\tafterSubmit: PropTypes.func,\n\tbeforeSubmit: PropTypes.func,\n\tchildren: PropTypes.node,\n\tclearOnSubmit: PropTypes.bool,\n\tdefaultRow: PropTypes.object,\n\tfilterBody: PropTypes.func,\n\tfilterValues: PropTypes.func,\n\thtmlId: PropTypes.string,\n\tid: PropTypes.string,\n\tmethod: PropTypes.string,\n\tparams: PropTypes.string,\n\tpath: PropTypes.string,\n\tpreventEmptyRequest: PropTypes.bool,\n\trelationshipNames: PropTypes.array,\n\tshowMessage: PropTypes.bool,\n\tsuccessMessageText: PropTypes.string,\n\tsuccessToastText: PropTypes.string,\n};\n\nFormInner.defaultProps = {\n\tafterNoSubmit: null,\n\tafterSubmit: null,\n\tbeforeSubmit: null,\n\tchildren: null,\n\tclearOnSubmit: false,\n\tdefaultRow: {},\n\tfilterBody: null,\n\tfilterValues: null,\n\thtmlId: '',\n\tid: '',\n\tmethod: null,\n\tparams: '',\n\tpath: null,\n\tpreventEmptyRequest: false,\n\trelationshipNames: [],\n\tshowMessage: true,\n\tsuccessMessageText: '',\n\tsuccessToastText: '',\n};\n","import React, { useEffect, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormContext from './FormContext';\nimport FormInner from './FormInner';\nimport getNewDirty from './Helpers/FormState';\nimport PropTypes from 'prop-types';\nimport set from 'set-value';\n\nexport default function Form({\n\tchildren,\n\trow,\n\tsetRow,\n\t...otherProps\n}) {\n\tconst [formState, setFormState] = useState({\n\t\tdirty: [],\n\t\tdirtyIncluded: [],\n\t\terrors: {},\n\t\tfiles: {},\n\t\tmessage: '',\n\t\trow,\n\t\tsetRow,\n\t\tsetValues: (fs, e, name, value, afterChange = null, files = null) => {\n\t\t\tlet newDirty = getNewDirty(fs.dirty, name);\n\t\t\tconst newRow = { ...fs.row };\n\t\t\tset(newRow, name, value);\n\n\t\t\tif (afterChange) {\n\t\t\t\tconst additionalChanges = afterChange(e, newRow);\n\t\t\t\tObject.keys(additionalChanges).forEach((key) => {\n\t\t\t\t\tset(newRow, key, additionalChanges[key]);\n\t\t\t\t\tnewDirty = getNewDirty(newDirty, key);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconst newFormState = {\n\t\t\t\t...fs,\n\t\t\t\tdirty: newDirty,\n\t\t\t\trow: newRow,\n\t\t\t};\n\t\t\tif (files !== null) {\n\t\t\t\tset(newFormState, `files.${name}`, files);\n\t\t\t}\n\n\t\t\tsetFormState(newFormState);\n\t\t\tif (fs.setRow) {\n\t\t\t\tfs.setRow(newRow);\n\t\t\t}\n\t\t},\n\t});\n\n\tuseEffect(() => {\n\t\tsetFormState({\n\t\t\t...formState,\n\t\t\trow,\n\t\t});\n\t}, [row]);\n\n\treturn (\n\t\t<FormContext.Provider value={{ formState, setFormState }}>\n\t\t\t<FormInner {...otherProps}>\n\t\t\t\t{children}\n\t\t\t</FormInner>\n\t\t</FormContext.Provider>\n\t);\n}\n\nForm.propTypes = {\n\tchildren: PropTypes.node,\n\trow: PropTypes.object,\n\tsetRow: PropTypes.func,\n};\n\nForm.defaultProps = {\n\tchildren: null,\n\trow: {},\n\tsetRow: null,\n};\n","import React from 'react'; // eslint-disable-line import/no-unresolved\nimport { usePromiseTracker } from 'react-promise-tracker';\n\nconst Spinner = () => {\n\tconst { promiseInProgress } = usePromiseTracker();\n\tif (!promiseInProgress) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<div className=\"formosa-spinner\" />\n\t);\n};\n\nexport default Spinner;\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport { ReactComponent as CloseIcon } from '../svg/x.svg';\nimport FormosaContext from './FormosaContext';\nimport PropTypes from 'prop-types';\n\nexport default function Toast({\n\tclassName,\n\tid,\n\tmilliseconds,\n\ttext,\n}) {\n\tconst { formosaState, setFormosaState } = useContext(FormosaContext);\n\tconst removeToast = () => {\n\t\tconst toasts = { ...formosaState.toasts };\n\t\tdelete toasts[id];\n\t\tsetFormosaState({ ...formosaState, toasts });\n\t};\n\treturn (\n\t\t<div className={`formosa-toast ${className}`.trim()} style={{ animationDuration: `${milliseconds}ms` }}>\n\t\t\t<div className=\"formosa-toast__text\">{text}</div>\n\t\t\t<button className=\"formosa-toast__close\" onClick={removeToast} type=\"button\">\n\t\t\t\t<CloseIcon className=\"formosa-toast__close-icon\" height={12} width={12} />\n\t\t\t\tClose\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n\nToast.propTypes = {\n\tclassName: PropTypes.string,\n\tid: PropTypes.string.isRequired,\n\tmilliseconds: PropTypes.number.isRequired,\n\ttext: PropTypes.string.isRequired,\n};\n\nToast.defaultProps = {\n\tclassName: '',\n};\n","import React, { useContext } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormosaContext from './FormosaContext';\nimport Toast from './Toast';\n\nexport default function ToastContainer() {\n\tconst { formosaState } = useContext(FormosaContext);\n\treturn (\n\t\t<div className=\"formosa-toast-container\">\n\t\t\t{Object.keys(formosaState.toasts).map((id) => (\n\t\t\t\t<Toast\n\t\t\t\t\tclassName={formosaState.toasts[id].className}\n\t\t\t\t\tkey={id}\n\t\t\t\t\tid={id}\n\t\t\t\t\tmilliseconds={formosaState.toasts[id].milliseconds}\n\t\t\t\t\ttext={formosaState.toasts[id].text}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n","import React, { useEffect, useRef, useState } from 'react'; // eslint-disable-line import/no-unresolved\nimport FormosaContext from './FormosaContext';\nimport PropTypes from 'prop-types';\nimport Spinner from './Spinner';\nimport ToastContainer from './ToastContainer';\n\nexport default function FormContainer({ children }) {\n\tconst [formosaState, setFormosaState] = useState({\n\t\taddToast: null,\n\t\tremoveToast: null,\n\t\ttoasts: {},\n\t});\n\n\tconst formosaStateRef = useRef(formosaState);\n\tformosaStateRef.current = formosaState;\n\n\tuseEffect(() => {\n\t\tconst removeToast = (toastId) => {\n\t\t\tconst toasts = { ...formosaStateRef.current.toasts };\n\t\t\tdelete toasts[toastId];\n\t\t\tsetFormosaState({ ...formosaStateRef.current, toasts });\n\t\t};\n\t\tconst addToast = (text, type = '', milliseconds = 5000) => {\n\t\t\tconst toastId = new Date().getTime();\n\t\t\tconst toast = {\n\t\t\t\tclassName: type ? `formosa-toast--${type}` : '',\n\t\t\t\ttext,\n\t\t\t\tmilliseconds,\n\t\t\t};\n\t\t\tconst toasts = {\n\t\t\t\t...formosaStateRef.current.toasts,\n\t\t\t\t[toastId]: toast,\n\t\t\t};\n\t\t\tsetFormosaState({ ...formosaStateRef.current, toasts });\n\t\t\tsetTimeout(() => {\n\t\t\t\tformosaStateRef.current.removeToast(toastId);\n\t\t\t}, milliseconds);\n\t\t};\n\t\tsetFormosaState({\n\t\t\t...formosaStateRef.current,\n\t\t\taddToast,\n\t\t\tremoveToast,\n\t\t});\n\t\treturn () => {};\n\t}, []);\n\n\treturn (\n\t\t<FormosaContext.Provider value={{ formosaState, setFormosaState }}>\n\t\t\t{children}\n\t\t\t<Spinner />\n\t\t\t<ToastContainer />\n\t\t</FormosaContext.Provider>\n\t);\n}\n\nFormContainer.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport React from 'react'; // eslint-disable-line import/no-unresolved\n\nexport default function Submit({\n\tclassName,\n\tlabel,\n\tprefix,\n\tpostfix,\n\t...otherProps\n}) {\n\treturn (\n\t\t<div className=\"formosa-field formosa-field--submit\">\n\t\t\t<div className=\"formosa-label-wrapper formosa-label-wrapper--submit\" />\n\t\t\t<div className=\"formosa-input-wrapper formosa-input-wrapper--submit\">\n\t\t\t\t{prefix}\n\t\t\t\t<button\n\t\t\t\t\tclassName={`formosa-button formosa-button--submit ${className}`.trim()}\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t{...otherProps}\n\t\t\t\t>\n\t\t\t\t\t{label}\n\t\t\t\t</button>\n\t\t\t\t{postfix}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nSubmit.propTypes = {\n\tclassName: PropTypes.string,\n\tlabel: PropTypes.string,\n\tprefix: PropTypes.node,\n\tpostfix: PropTypes.node,\n};\n\nSubmit.defaultProps = {\n\tclassName: '',\n\tlabel: 'Submit',\n\tprefix: null,\n\tpostfix: null,\n};\n","import './style.scss';\nimport api from './js/Helpers/Api';\nimport { ReactComponent as checkIcon } from './svg/check.svg';\nimport error from './js/Error';\nimport field from './js/Field';\nimport form from './js/Form';\nimport formContainer from './js/FormContainer';\nimport formContext from './js/FormContext';\nimport formosaContext from './js/FormosaContext';\nimport input from './js/Input';\nimport label from './js/Label';\nimport message from './js/Message';\nimport submit from './js/Submit';\n\nexport const Api = api;\nexport const CheckIcon = checkIcon;\nexport const Error = error;\nexport const Field = field;\nexport const Form = form;\nexport const FormContainer = formContainer;\nexport const FormContext = formContext;\nexport const FormosaContext = formosaContext;\nexport const Input = input;\nexport const Label = label;\nexport const Message = message;\nexport const Submit = submit;\n"],"names":["findIncluded","included","id","type","mainRecord","output","Object","prototype","hasOwnProperty","call","attributes","meta","find","data","deserializeSingle","otherRows","includedRecord","keys","relationships","forEach","relationshipName","Array","isArray","rel","i","deserialize","body","push","cleanSingleRelationship","values","cleanRelationship","map","value","getIncluded","dirtyIncluded","relationshipNames","dirtyKeys","key","startsWith","currentKeys","split","k","get","join","set","length","relData","getBody","method","formState","filterBody","filterValues","dirty","row","cleanKey","replace","includes","JSON","parse","filenames","files","filter","filename","formData","FormData","append","stringify","Api","url","request","post","put","options","headers","getToken","Authorization","trackPromise","fetch","process","env","REACT_APP_API_URL","then","response","ok","json","status","error","SyntaxError","errors","title","window","FORMOSA_TOKEN","setToken","token","React","createContext","message","setRow","setValues","Error","name","useContext","FormContext","hasError","e","propTypes","PropTypes","string","isRequired","defaultProps","normalizeOptions","labelKey","valueKey","option","label","escapeRegExp","toSlug","s","toLowerCase","filterByKey","records","escapedValue","record","recordValue","toString","match","RegExp","sort","a","b","aValue","bValue","aPos","indexOf","bPos","localeCompare","Autocomplete","afterAdd","afterChange","clearable","clearButtonAttributes","clearButtonClassName","clearIconAttributes","clearIconHeight","clearIconWidth","clearText","disabled","inputClassName","labelFn","max","optionButtonAttributes","optionButtonClassName","optionListAttributes","optionListClassName","optionListItemAttributes","optionListItemClassName","placeholder","readOnly","removeButtonAttributes","removeButtonClassName","removeIconAttributes","removeIconHeight","removeIconWidth","removeText","wrapperAttributes","wrapperClassName","otherProps","useState","setFilter","isOpen","setIsOpen","highlightedIndex","setHighlightedIndex","optionValues","setOptionValues","useEffect","selectedValues","isSelected","findIndex","filteredOptions","focus","setTimeout","elem","document","getElementById","addValue","newValue","target","querySelector","removeValue","index","splice","newSelectedValues","onChange","onFocus","onKeyDown","filterValue","numValues","preventDefault","onKeyUp","onClickOption","val","getAttribute","onClickRemoveOption","button","tagName","toUpperCase","parentNode","clear","showClear","className","canAddValues","trim","display","isJson","o","CloseIcon","optionClassName","func","bool","object","number","oneOfType","array","ConditionalWrapper","children","condition","node","any","Input","suffix","checked","undefined","props","Checkbox","iconAttributes","iconClassName","iconHeight","iconWidth","CheckIcon","CheckboxList","listAttributes","listClassName","listItemAttributes","listItemClassName","pad","n","width","z","stringToObject","datetimeString","timeZone","year","month","day","hour","minute","second","ampm","Date","toLocaleString","hourCycle","date","substring","parseInt","time","objectToString","datetimeObject","toISOString","Select","hideBlank","selectedValue","CaretIcon","Datetime","ampmAttributes","convertToTimezone","dayAttributes","hourAttributes","minuteAttributes","monthAttributes","secondAttributes","yearAttributes","newValues","am","pm","File","buttonAttributes","buttonClassName","emptyText","imageAttributes","imageClassName","imageHeight","imagePrefix","imagePreview","inputWrapperAttributes","inputWrapperClassName","linkAttributes","linkClassName","linkImage","multiple","required","hasValue","text","setText","srcs","setSrcs","numFiles","newSrcs","item","URL","createObjectURL","onRemove","prefixClassName","src","img","Password","hideText","showText","tempType","setTempType","togglePassword","Radio","labelAttributes","labelClassName","currentValue","RadioList","Search","SearchIcon","Textarea","component","oldDirty","newDirty","HasMany","recordType","removable","setFormState","tempId","setTempId","onAdd","hasNewValue","newRow","getNewDirty","stopPropagation","visibleAttributes","attribute","hiddenAttributes","showHeader","some","isRemovable","rowKey","Component","getInputElement","fieldKey","Label","htmlFor","note","Field","labelNote","labelPosition","prefix","postfix","inputProps","InputComponent","input","labelComponent","cleanName","wrapperClassNameList","inputWrapperClassNameList","addToast","removeToast","toasts","Message","hasErrors","FormInner","afterNoSubmit","afterSubmit","beforeSubmit","clearOnSubmit","defaultRow","htmlId","params","path","preventEmptyRequest","showMessage","successMessageText","successToastText","FormosaContext","formosaState","submitApiRequest","newState","source","pointer","onSubmit","Form","fs","additionalChanges","newFormState","Spinner","usePromiseTracker","promiseInProgress","Toast","milliseconds","setFormosaState","animationDuration","ToastContainer","FormContainer","formosaStateRef","useRef","current","toastId","getTime","toast","Submit","api","checkIcon","field","form","formContainer","formContext","formosaContext","submit"],"mappings":"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"}